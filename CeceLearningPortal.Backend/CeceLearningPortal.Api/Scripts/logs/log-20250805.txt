2025-08-05 18:59:51.406 +08:00 [FTL] Application start-up failed
System.IO.DirectoryNotFoundException: D:\Cece\Cece\CeceLearningPortal.Backend\CeceLearningPortal.Api\wwwroot\
   at Microsoft.Extensions.FileProviders.PhysicalFileProvider..ctor(String root, ExclusionFilters filters)
   at Microsoft.AspNetCore.Hosting.StaticWebAssets.StaticWebAssetsLoader.<>c.<UseStaticWebAssetsCore>b__1_0(String contentRoot)
   at Microsoft.AspNetCore.StaticWebAssets.ManifestStaticWebAssetFileProvider..ctor(StaticWebAssetManifest manifest, Func`2 fileProviderFactory)
   at Microsoft.AspNetCore.Hosting.StaticWebAssets.StaticWebAssetsLoader.UseStaticWebAssetsCore(IWebHostEnvironment environment, Stream manifest)
   at Microsoft.AspNetCore.Hosting.StaticWebAssets.StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment environment, IConfiguration configuration)
   at Microsoft.AspNetCore.Hosting.BootstrapHostBuilder.RunDefaultCallbacks()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.InitializeHosting(BootstrapHostBuilder bootstrapHostBuilder)
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder..ctor(WebApplicationOptions options, Action`1 configureDefaults)
   at Microsoft.AspNetCore.Builder.WebApplication.CreateBuilder(String[] args)
   at Program.<Main>$(String[] args) in C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api\Program.cs:line 24
2025-08-05 19:02:14.808 +08:00 [FTL] Application start-up failed
System.IO.DirectoryNotFoundException: D:\Cece\Cece\CeceLearningPortal.Backend\CeceLearningPortal.Api\wwwroot\
   at Microsoft.Extensions.FileProviders.PhysicalFileProvider..ctor(String root, ExclusionFilters filters)
   at Microsoft.AspNetCore.Hosting.StaticWebAssets.StaticWebAssetsLoader.<>c.<UseStaticWebAssetsCore>b__1_0(String contentRoot)
   at Microsoft.AspNetCore.StaticWebAssets.ManifestStaticWebAssetFileProvider..ctor(StaticWebAssetManifest manifest, Func`2 fileProviderFactory)
   at Microsoft.AspNetCore.Hosting.StaticWebAssets.StaticWebAssetsLoader.UseStaticWebAssetsCore(IWebHostEnvironment environment, Stream manifest)
   at Microsoft.AspNetCore.Hosting.StaticWebAssets.StaticWebAssetsLoader.UseStaticWebAssets(IWebHostEnvironment environment, IConfiguration configuration)
   at Microsoft.AspNetCore.Hosting.BootstrapHostBuilder.RunDefaultCallbacks()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.InitializeHosting(BootstrapHostBuilder bootstrapHostBuilder)
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder..ctor(WebApplicationOptions options, Action`1 configureDefaults)
   at Microsoft.AspNetCore.Builder.WebApplication.CreateBuilder(String[] args)
   at Program.<Main>$(String[] args) in C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api\Program.cs:line 24
2025-08-05 19:05:32.523 +08:00 [INF] Checking database connection...
2025-08-05 19:05:34.429 +08:00 [INF] Database connection successful.
2025-08-05 19:05:34.430 +08:00 [INF] Attempting to apply migrations...
2025-08-05 19:05:34.620 +08:00 [ERR] Failed executing DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-05 19:05:35.150 +08:00 [INF] Applying migration '20250725044538_InitialCreate'.
2025-08-05 19:05:35.483 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "RefreshTokens" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "Token" text NOT NULL,
    "ExpiresAt" timestamp with time zone NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedByIp" text,
    "RevokedAt" timestamp with time zone,
    "RevokedByIp" text,
    "ReplacedByToken" text,
    CONSTRAINT "PK_RefreshTokens" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_RefreshTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:35.500 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Subscriptions" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "PlanName" text NOT NULL,
    "Price" numeric NOT NULL,
    "BillingCycle" text NOT NULL,
    "Status" text NOT NULL,
    "StartDate" timestamp with time zone NOT NULL,
    "EndDate" timestamp with time zone,
    "NextBillingDate" timestamp with time zone,
    "StripeSubscriptionId" text,
    CONSTRAINT "PK_Subscriptions" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Subscriptions_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:35.523 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CourseModules" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "CourseId" integer NOT NULL,
    "Title" text NOT NULL,
    "Description" text,
    "Order" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_CourseModules" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CourseModules_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:35.542 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Enrollments" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "StudentId" text NOT NULL,
    "CourseId" integer NOT NULL,
    "EnrolledAt" timestamp with time zone NOT NULL,
    "CompletedAt" timestamp with time zone,
    "ProgressPercentage" double precision NOT NULL,
    "CertificateUrl" text,
    CONSTRAINT "PK_Enrollments" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Enrollments_AspNetUsers_StudentId" FOREIGN KEY ("StudentId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Enrollments_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:35.562 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reviews" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "StudentId" text NOT NULL,
    "CourseId" integer NOT NULL,
    "Rating" integer NOT NULL,
    "Comment" text,
    "Status" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ApprovedAt" timestamp with time zone,
    "ApprovedBy" text,
    CONSTRAINT "PK_Reviews" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Reviews_AspNetUsers_StudentId" FOREIGN KEY ("StudentId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reviews_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:35.585 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Payments" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "CourseId" integer,
    "SubscriptionId" integer,
    "Amount" numeric NOT NULL,
    "Currency" text NOT NULL,
    "Status" text NOT NULL,
    "PaymentMethod" text NOT NULL,
    "TransactionId" text,
    "PaymentIntentId" text,
    "CreatedAt" timestamp with time zone NOT NULL,
    "ProcessedAt" timestamp with time zone,
    CONSTRAINT "PK_Payments" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Payments_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Payments_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id"),
    CONSTRAINT "FK_Payments_Subscriptions_SubscriptionId" FOREIGN KEY ("SubscriptionId") REFERENCES "Subscriptions" ("Id")
);
2025-08-05 19:05:35.605 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Lessons" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ModuleId" integer NOT NULL,
    "Title" text NOT NULL,
    "Duration" text NOT NULL,
    "Type" text NOT NULL,
    "Content" text,
    "VideoUrl" text,
    "Order" integer NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Lessons" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Lessons_CourseModules_ModuleId" FOREIGN KEY ("ModuleId") REFERENCES "CourseModules" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:35.624 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "LessonProgresses" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "StudentId" text NOT NULL,
    "LessonId" integer NOT NULL,
    "Status" text NOT NULL,
    "StartedAt" timestamp with time zone,
    "CompletedAt" timestamp with time zone,
    "QuizScore" integer,
    "AssignmentSubmissionUrl" text,
    CONSTRAINT "PK_LessonProgresses" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_LessonProgresses_AspNetUsers_StudentId" FOREIGN KEY ("StudentId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_LessonProgresses_Lessons_LessonId" FOREIGN KEY ("LessonId") REFERENCES "Lessons" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:35.630 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('1', NULL, 'Admin', 'ADMIN');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('2', NULL, 'Instructor', 'INSTRUCTOR');
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES ('3', NULL, 'Student', 'STUDENT');
2025-08-05 19:05:35.644 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-08-05 19:05:35.661 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-08-05 19:05:35.675 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-08-05 19:05:35.685 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-08-05 19:05:35.692 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-08-05 19:05:35.704 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-08-05 19:05:35.717 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_AspNetUsers_Email" ON "AspNetUsers" ("Email");
2025-08-05 19:05:35.725 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-08-05 19:05:35.734 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CourseModules_CourseId" ON "CourseModules" ("CourseId");
2025-08-05 19:05:35.743 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Courses_Category" ON "Courses" ("Category");
2025-08-05 19:05:35.751 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Courses_InstructorId" ON "Courses" ("InstructorId");
2025-08-05 19:05:35.759 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Courses_Status" ON "Courses" ("Status");
2025-08-05 19:05:35.768 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Enrollments_CourseId" ON "Enrollments" ("CourseId");
2025-08-05 19:05:35.775 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Enrollments_StudentId_CourseId" ON "Enrollments" ("StudentId", "CourseId");
2025-08-05 19:05:35.784 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_InstructorApprovals_UserId" ON "InstructorApprovals" ("UserId");
2025-08-05 19:05:35.792 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_LessonProgresses_LessonId" ON "LessonProgresses" ("LessonId");
2025-08-05 19:05:35.802 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_LessonProgresses_StudentId_LessonId" ON "LessonProgresses" ("StudentId", "LessonId");
2025-08-05 19:05:35.810 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Lessons_ModuleId" ON "Lessons" ("ModuleId");
2025-08-05 19:05:35.820 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Notifications_UserId" ON "Notifications" ("UserId");
2025-08-05 19:05:35.918 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PasswordHistories_UserId" ON "PasswordHistories" ("UserId");
2025-08-05 19:05:35.941 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Payments_CourseId" ON "Payments" ("CourseId");
2025-08-05 19:05:35.958 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Payments_SubscriptionId" ON "Payments" ("SubscriptionId");
2025-08-05 19:05:35.969 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Payments_UserId" ON "Payments" ("UserId");
2025-08-05 19:05:35.977 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefreshTokens_ExpiresAt" ON "RefreshTokens" ("ExpiresAt");
2025-08-05 19:05:35.987 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_RefreshTokens_Token" ON "RefreshTokens" ("Token");
2025-08-05 19:05:35.993 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RefreshTokens_UserId" ON "RefreshTokens" ("UserId");
2025-08-05 19:05:36.002 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reviews_CourseId" ON "Reviews" ("CourseId");
2025-08-05 19:05:36.009 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reviews_StudentId" ON "Reviews" ("StudentId");
2025-08-05 19:05:36.019 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Subscriptions_UserId" ON "Subscriptions" ("UserId");
2025-08-05 19:05:36.022 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250725044538_InitialCreate', '9.0.7');
2025-08-05 19:05:36.025 +08:00 [INF] Applying migration '20250725153609_AddSubscriptionPlans'.
2025-08-05 19:05:36.087 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" ADD "CreatedAt" timestamp with time zone NOT NULL DEFAULT TIMESTAMPTZ '-infinity';
2025-08-05 19:05:36.091 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" ADD "SubscriptionPlanId" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.095 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" ADD "UpdatedAt" timestamp with time zone NOT NULL DEFAULT TIMESTAMPTZ '-infinity';
2025-08-05 19:05:36.117 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "SubscriptionPlans" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Description" text NOT NULL,
    "MonthlyPrice" numeric NOT NULL,
    "YearlyPrice" numeric NOT NULL,
    "MaxCourseAccess" integer NOT NULL,
    "HasUnlimitedAccess" boolean NOT NULL,
    "Features" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_SubscriptionPlans" PRIMARY KEY ("Id")
);
2025-08-05 19:05:36.124 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Subscriptions_SubscriptionPlanId" ON "Subscriptions" ("SubscriptionPlanId");
2025-08-05 19:05:36.130 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" ADD CONSTRAINT "FK_Subscriptions_SubscriptionPlans_SubscriptionPlanId" FOREIGN KEY ("SubscriptionPlanId") REFERENCES "SubscriptionPlans" ("Id") ON DELETE RESTRICT;
2025-08-05 19:05:36.135 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250725153609_AddSubscriptionPlans', '9.0.7');
2025-08-05 19:05:36.138 +08:00 [INF] Applying migration '20250728085358_FixModelChanges'.
2025-08-05 19:05:36.172 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" ADD "AverageQuizScore" double precision;
2025-08-05 19:05:36.175 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" ADD "CertificateIssued" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" ADD "CompletedLessons" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.183 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" ADD "LastAccessedDate" timestamp with time zone;
2025-08-05 19:05:36.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" ADD "QuizCount" integer;
2025-08-05 19:05:36.190 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" ADD "TotalTimeSpent" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.192 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250728085358_FixModelChanges', '9.0.7');
2025-08-05 19:05:36.195 +08:00 [INF] Applying migration '20250728152206_AddSubscriptionAndReviewFields'.
2025-08-05 19:05:36.228 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "DisplayOrder" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.232 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "HasAnalytics" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.237 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "HasPrioritySupport" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.241 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "IsRecommended" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.245 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "MaxCoursesCanCreate" integer;
2025-08-05 19:05:36.248 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "MaxStudentsPerCourse" integer;
2025-08-05 19:05:36.253 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "PlanType" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.257 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" ADD "TransactionFeePercentage" numeric;
2025-08-05 19:05:36.260 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Reviews" ADD "IsFlagged" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.262 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250728152206_AddSubscriptionAndReviewFields', '9.0.7');
2025-08-05 19:05:36.266 +08:00 [INF] Applying migration '20250730093650_AddGoHighLevelCourseFields'.
2025-08-05 19:05:36.342 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ALTER COLUMN "Duration" DROP NOT NULL;
2025-08-05 19:05:36.348 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "AccessDuration" integer;
2025-08-05 19:05:36.352 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "AccessType" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.355 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "AutomationAbandonmentSequence" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.358 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "AutomationCompletionCertificate" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.361 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "AutomationProgressReminders" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.364 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "AutomationWelcomeEmail" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.369 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "CourseType" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.374 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "Currency" text NOT NULL DEFAULT '';
2025-08-05 19:05:36.378 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "DripContent" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.384 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "DripScheduleJson" text;
2025-08-05 19:05:36.390 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "EnrollmentLimit" integer;
2025-08-05 19:05:36.395 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "HasAssignments" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.399 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "HasCertificate" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.404 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "HasCommunity" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.408 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "HasDownloadableResources" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.411 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "HasLiveSessions" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.414 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "HasQuizzes" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.418 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "IsPublished" boolean NOT NULL DEFAULT FALSE;
2025-08-05 19:05:36.422 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "Language" text NOT NULL DEFAULT '';
2025-08-05 19:05:36.426 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "PaymentPlanDetailsJson" text;
2025-08-05 19:05:36.429 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "PricingModel" integer NOT NULL DEFAULT 0;
2025-08-05 19:05:36.433 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "PromoVideoUrl" text;
2025-08-05 19:05:36.438 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "PublishedAt" timestamp with time zone;
2025-08-05 19:05:36.441 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "ShortDescription" text;
2025-08-05 19:05:36.445 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "SubscriptionPeriod" integer;
2025-08-05 19:05:36.449 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" ADD "ThumbnailUrl" text;
2025-08-05 19:05:36.467 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CourseApprovals" (
    "Id" uuid NOT NULL,
    "CourseId" integer NOT NULL,
    "SubmittedById" text NOT NULL,
    "ReviewedById" text,
    "Status" text NOT NULL,
    "Feedback" text,
    "SubmittedAt" timestamp with time zone NOT NULL,
    "ReviewedAt" timestamp with time zone,
    "CreatedAt" timestamp with time zone NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_CourseApprovals" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_CourseApprovals_AspNetUsers_ReviewedById" FOREIGN KEY ("ReviewedById") REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_CourseApprovals_AspNetUsers_SubmittedById" FOREIGN KEY ("SubmittedById") REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_CourseApprovals_Courses_CourseId" FOREIGN KEY ("CourseId") REFERENCES "Courses" ("Id") ON DELETE CASCADE
);
2025-08-05 19:05:36.476 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CourseApprovals_CourseId" ON "CourseApprovals" ("CourseId");
2025-08-05 19:05:36.484 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CourseApprovals_ReviewedById" ON "CourseApprovals" ("ReviewedById");
2025-08-05 19:05:36.492 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CourseApprovals_SubmittedById" ON "CourseApprovals" ("SubmittedById");
2025-08-05 19:05:36.496 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250730093650_AddGoHighLevelCourseFields', '9.0.7');
2025-08-05 19:05:36.500 +08:00 [INF] Applying migration '20250731054530_AddRefreshTokensTable'.
2025-08-05 19:05:36.546 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" DROP CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId";
2025-08-05 19:05:36.551 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" DROP CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId";
2025-08-05 19:05:36.555 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" DROP CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId";
2025-08-05 19:05:36.558 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" DROP CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId";
2025-08-05 19:05:36.563 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" DROP CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId";
2025-08-05 19:05:36.570 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" DROP CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId";
2025-08-05 19:05:36.575 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseApprovals" DROP CONSTRAINT "FK_CourseApprovals_AspNetUsers_ReviewedById";
2025-08-05 19:05:36.582 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseApprovals" DROP CONSTRAINT "FK_CourseApprovals_AspNetUsers_SubmittedById";
2025-08-05 19:05:36.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseApprovals" DROP CONSTRAINT "FK_CourseApprovals_Courses_CourseId";
2025-08-05 19:05:36.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseModules" DROP CONSTRAINT "FK_CourseModules_Courses_CourseId";
2025-08-05 19:05:36.594 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" DROP CONSTRAINT "FK_Courses_AspNetUsers_InstructorId";
2025-08-05 19:05:36.598 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" DROP CONSTRAINT "FK_Enrollments_AspNetUsers_StudentId";
2025-08-05 19:05:36.603 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" DROP CONSTRAINT "FK_Enrollments_Courses_CourseId";
2025-08-05 19:05:36.607 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "InstructorApprovals" DROP CONSTRAINT "FK_InstructorApprovals_AspNetUsers_UserId";
2025-08-05 19:05:36.610 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "LessonProgresses" DROP CONSTRAINT "FK_LessonProgresses_AspNetUsers_StudentId";
2025-08-05 19:05:36.613 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "LessonProgresses" DROP CONSTRAINT "FK_LessonProgresses_Lessons_LessonId";
2025-08-05 19:05:36.617 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Lessons" DROP CONSTRAINT "FK_Lessons_CourseModules_ModuleId";
2025-08-05 19:05:36.621 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Notifications" DROP CONSTRAINT "FK_Notifications_AspNetUsers_UserId";
2025-08-05 19:05:36.625 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PasswordHistories" DROP CONSTRAINT "FK_PasswordHistories_AspNetUsers_UserId";
2025-08-05 19:05:36.629 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Payments" DROP CONSTRAINT "FK_Payments_AspNetUsers_UserId";
2025-08-05 19:05:36.633 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Payments" DROP CONSTRAINT "FK_Payments_Courses_CourseId";
2025-08-05 19:05:36.638 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Payments" DROP CONSTRAINT "FK_Payments_Subscriptions_SubscriptionId";
2025-08-05 19:05:36.641 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "RefreshTokens" DROP CONSTRAINT "FK_RefreshTokens_AspNetUsers_UserId";
2025-08-05 19:05:36.645 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Reviews" DROP CONSTRAINT "FK_Reviews_AspNetUsers_StudentId";
2025-08-05 19:05:36.648 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Reviews" DROP CONSTRAINT "FK_Reviews_Courses_CourseId";
2025-08-05 19:05:36.653 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" DROP CONSTRAINT "FK_Subscriptions_AspNetUsers_UserId";
2025-08-05 19:05:36.656 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" DROP CONSTRAINT "FK_Subscriptions_SubscriptionPlans_SubscriptionPlanId";
2025-08-05 19:05:36.660 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" DROP CONSTRAINT "PK_Subscriptions";
2025-08-05 19:05:36.662 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" DROP CONSTRAINT "PK_Enrollments";
2025-08-05 19:05:36.666 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" DROP CONSTRAINT "PK_Courses";
2025-08-05 19:05:36.671 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" DROP CONSTRAINT "PK_AspNetUserTokens";
2025-08-05 19:05:36.675 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" DROP CONSTRAINT "PK_AspNetUserRoles";
2025-08-05 19:05:36.678 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" DROP CONSTRAINT "PK_AspNetUserLogins";
2025-08-05 19:05:36.681 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" DROP CONSTRAINT "PK_AspNetUserClaims";
2025-08-05 19:05:36.686 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" DROP CONSTRAINT "PK_AspNetRoleClaims";
2025-08-05 19:05:36.689 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" DROP CONSTRAINT "PK_SubscriptionPlans";
2025-08-05 19:05:36.692 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Reviews" DROP CONSTRAINT "PK_Reviews";
2025-08-05 19:05:36.695 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "RefreshTokens" DROP CONSTRAINT "PK_RefreshTokens";
2025-08-05 19:05:36.699 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Payments" DROP CONSTRAINT "PK_Payments";
2025-08-05 19:05:36.705 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PasswordHistories" DROP CONSTRAINT "PK_PasswordHistories";
2025-08-05 19:05:36.709 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Notifications" DROP CONSTRAINT "PK_Notifications";
2025-08-05 19:05:36.712 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Lessons" DROP CONSTRAINT "PK_Lessons";
2025-08-05 19:05:36.716 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "LessonProgresses" DROP CONSTRAINT "PK_LessonProgresses";
2025-08-05 19:05:36.723 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "InstructorApprovals" DROP CONSTRAINT "PK_InstructorApprovals";
2025-08-05 19:05:36.728 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseModules" DROP CONSTRAINT "PK_CourseModules";
2025-08-05 19:05:36.732 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseApprovals" DROP CONSTRAINT "PK_CourseApprovals";
2025-08-05 19:05:36.738 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Subscriptions" RENAME TO subscriptions;
2025-08-05 19:05:36.746 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Enrollments" RENAME TO enrollments;
2025-08-05 19:05:36.752 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Courses" RENAME TO courses;
2025-08-05 19:05:36.756 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "SubscriptionPlans" RENAME TO subscription_plans;
2025-08-05 19:05:36.759 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Reviews" RENAME TO course_reviews;
2025-08-05 19:05:36.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "RefreshTokens" RENAME TO refresh_tokens;
2025-08-05 19:05:36.769 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Payments" RENAME TO transactions;
2025-08-05 19:05:36.773 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PasswordHistories" RENAME TO sessions;
2025-08-05 19:05:36.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Notifications" RENAME TO activities;
2025-08-05 19:05:36.780 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Lessons" RENAME TO course_lessons;
2025-08-05 19:05:36.786 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "LessonProgresses" RENAME TO lesson_progress;
2025-08-05 19:05:36.790 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "InstructorApprovals" RENAME TO instructor_approvals;
2025-08-05 19:05:36.793 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseModules" RENAME TO course_modules;
2025-08-05 19:05:36.795 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "CourseApprovals" RENAME TO course_approvals;
2025-08-05 19:05:36.799 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "Status" TO status;
2025-08-05 19:05:36.804 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "Price" TO price;
2025-08-05 19:05:36.808 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "Id" TO id;
2025-08-05 19:05:36.810 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:36.814 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "UpdatedAt" TO updated_at;
2025-08-05 19:05:36.818 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "SubscriptionPlanId" TO subscription_plan_id;
2025-08-05 19:05:36.822 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "StripeSubscriptionId" TO stripe_subscription_id;
2025-08-05 19:05:36.825 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "StartDate" TO start_date;
2025-08-05 19:05:36.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "PlanName" TO plan_name;
2025-08-05 19:05:36.833 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "NextBillingDate" TO next_billing_date;
2025-08-05 19:05:36.837 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "EndDate" TO end_date;
2025-08-05 19:05:36.840 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:36.843 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions RENAME COLUMN "BillingCycle" TO billing_cycle;
2025-08-05 19:05:36.847 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Subscriptions_UserId" RENAME TO i_x_subscriptions_user_id;
2025-08-05 19:05:36.851 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Subscriptions_SubscriptionPlanId" RENAME TO i_x_subscriptions_subscription_plan_id;
2025-08-05 19:05:36.855 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "Id" TO id;
2025-08-05 19:05:36.858 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "TotalTimeSpent" TO total_time_spent;
2025-08-05 19:05:36.862 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "StudentId" TO student_id;
2025-08-05 19:05:36.865 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "QuizCount" TO quiz_count;
2025-08-05 19:05:36.869 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "ProgressPercentage" TO progress_percentage;
2025-08-05 19:05:36.872 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "LastAccessedDate" TO last_accessed_date;
2025-08-05 19:05:36.875 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "EnrolledAt" TO enrolled_at;
2025-08-05 19:05:36.878 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "CourseId" TO course_id;
2025-08-05 19:05:36.880 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "CompletedLessons" TO completed_lessons;
2025-08-05 19:05:36.884 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "CompletedAt" TO completed_at;
2025-08-05 19:05:36.889 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "CertificateUrl" TO certificate_url;
2025-08-05 19:05:36.891 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "CertificateIssued" TO certificate_issued;
2025-08-05 19:05:36.894 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments RENAME COLUMN "AverageQuizScore" TO average_quiz_score;
2025-08-05 19:05:36.897 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Enrollments_StudentId_CourseId" RENAME TO "IX_enrollments_student_id_course_id";
2025-08-05 19:05:36.901 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Enrollments_CourseId" RENAME TO i_x_enrollments_course_id;
2025-08-05 19:05:36.905 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Title" TO title;
2025-08-05 19:05:36.908 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Thumbnail" TO thumbnail;
2025-08-05 19:05:36.911 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Status" TO status;
2025-08-05 19:05:36.915 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Price" TO price;
2025-08-05 19:05:36.919 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Level" TO level;
2025-08-05 19:05:36.922 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Features" TO features;
2025-08-05 19:05:36.925 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Duration" TO duration;
2025-08-05 19:05:36.928 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Discount" TO discount;
2025-08-05 19:05:36.930 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Description" TO description;
2025-08-05 19:05:36.934 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Category" TO category;
2025-08-05 19:05:36.937 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "Id" TO id;
2025-08-05 19:05:36.940 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "UpdatedAt" TO updated_at;
2025-08-05 19:05:36.944 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "ThumbnailUrl" TO thumbnail_url;
2025-08-05 19:05:36.948 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "PreviewUrl" TO preview_url;
2025-08-05 19:05:36.953 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "OriginalPrice" TO original_price;
2025-08-05 19:05:36.957 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "IsBestseller" TO is_bestseller;
2025-08-05 19:05:36.960 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "InstructorId" TO instructor_id;
2025-08-05 19:05:36.963 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "EnrollmentType" TO enrollment_type;
2025-08-05 19:05:36.967 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:36.973 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Courses_Status" RENAME TO "IX_courses_status";
2025-08-05 19:05:36.977 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Courses_Category" RENAME TO "IX_courses_category";
2025-08-05 19:05:36.984 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Courses_InstructorId" RENAME TO i_x_courses_instructor_id;
2025-08-05 19:05:36.988 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" RENAME COLUMN "Value" TO value;
2025-08-05 19:05:36.992 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" RENAME COLUMN "Name" TO name;
2025-08-05 19:05:36.995 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" RENAME COLUMN "LoginProvider" TO login_provider;
2025-08-05 19:05:36.999 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.003 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" RENAME COLUMN "RoleId" TO role_id;
2025-08-05 19:05:37.006 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.009 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_AspNetUserRoles_RoleId" RENAME TO i_x__asp_net_user_roles_role_id;
2025-08-05 19:05:37.011 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.015 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" RENAME COLUMN "ProviderDisplayName" TO provider_display_name;
2025-08-05 19:05:37.020 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" RENAME COLUMN "ProviderKey" TO provider_key;
2025-08-05 19:05:37.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" RENAME COLUMN "LoginProvider" TO login_provider;
2025-08-05 19:05:37.026 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_AspNetUserLogins_UserId" RENAME TO i_x__asp_net_user_logins_user_id;
2025-08-05 19:05:37.029 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.038 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" RENAME COLUMN "ClaimValue" TO claim_value;
2025-08-05 19:05:37.040 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" RENAME COLUMN "ClaimType" TO claim_type;
2025-08-05 19:05:37.043 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_AspNetUserClaims_UserId" RENAME TO i_x__asp_net_user_claims_user_id;
2025-08-05 19:05:37.046 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.051 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" RENAME COLUMN "RoleId" TO role_id;
2025-08-05 19:05:37.056 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" RENAME COLUMN "ClaimValue" TO claim_value;
2025-08-05 19:05:37.059 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" RENAME COLUMN "ClaimType" TO claim_type;
2025-08-05 19:05:37.062 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_AspNetRoleClaims_RoleId" RENAME TO i_x__asp_net_role_claims_role_id;
2025-08-05 19:05:37.069 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "Name" TO name;
2025-08-05 19:05:37.073 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "Features" TO features;
2025-08-05 19:05:37.075 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "Description" TO description;
2025-08-05 19:05:37.078 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.084 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "YearlyPrice" TO yearly_price;
2025-08-05 19:05:37.088 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "UpdatedAt" TO updated_at;
2025-08-05 19:05:37.091 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "TransactionFeePercentage" TO transaction_fee_percentage;
2025-08-05 19:05:37.093 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "PlanType" TO plan_type;
2025-08-05 19:05:37.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "MonthlyPrice" TO monthly_price;
2025-08-05 19:05:37.105 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "MaxStudentsPerCourse" TO max_students_per_course;
2025-08-05 19:05:37.108 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "MaxCoursesCanCreate" TO max_courses_can_create;
2025-08-05 19:05:37.111 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "MaxCourseAccess" TO max_course_access;
2025-08-05 19:05:37.116 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "IsRecommended" TO is_recommended;
2025-08-05 19:05:37.120 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "IsActive" TO is_active;
2025-08-05 19:05:37.124 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "HasUnlimitedAccess" TO has_unlimited_access;
2025-08-05 19:05:37.127 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "HasPrioritySupport" TO has_priority_support;
2025-08-05 19:05:37.133 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "HasAnalytics" TO has_analytics;
2025-08-05 19:05:37.137 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "DisplayOrder" TO display_order;
2025-08-05 19:05:37.141 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.144 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "Status" TO status;
2025-08-05 19:05:37.148 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "Rating" TO rating;
2025-08-05 19:05:37.152 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "Comment" TO comment;
2025-08-05 19:05:37.156 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.159 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "StudentId" TO student_id;
2025-08-05 19:05:37.162 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "IsFlagged" TO is_flagged;
2025-08-05 19:05:37.166 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.170 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "CourseId" TO course_id;
2025-08-05 19:05:37.173 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "ApprovedBy" TO approved_by;
2025-08-05 19:05:37.176 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews RENAME COLUMN "ApprovedAt" TO approved_at;
2025-08-05 19:05:37.179 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Reviews_StudentId" RENAME TO i_x_reviews_student_id;
2025-08-05 19:05:37.182 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Reviews_CourseId" RENAME TO i_x_reviews_course_id;
2025-08-05 19:05:37.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "Token" TO token;
2025-08-05 19:05:37.190 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.194 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.198 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "RevokedByIp" TO revoked_by_ip;
2025-08-05 19:05:37.204 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "RevokedAt" TO revoked_at;
2025-08-05 19:05:37.207 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "ReplacedByToken" TO replaced_by_token;
2025-08-05 19:05:37.210 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "ExpiresAt" TO expires_at;
2025-08-05 19:05:37.213 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "CreatedByIp" TO created_by_ip;
2025-08-05 19:05:37.218 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.221 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_RefreshTokens_UserId" RENAME TO i_x_refresh_tokens_user_id;
2025-08-05 19:05:37.224 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_RefreshTokens_Token" RENAME TO "IX_refresh_tokens_token";
2025-08-05 19:05:37.227 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_RefreshTokens_ExpiresAt" RENAME TO "IX_refresh_tokens_expires_at";
2025-08-05 19:05:37.230 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "Status" TO status;
2025-08-05 19:05:37.234 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "Currency" TO currency;
2025-08-05 19:05:37.237 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "Amount" TO amount;
2025-08-05 19:05:37.240 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.244 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.248 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "TransactionId" TO transaction_id;
2025-08-05 19:05:37.253 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "SubscriptionId" TO subscription_id;
2025-08-05 19:05:37.257 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "ProcessedAt" TO processed_at;
2025-08-05 19:05:37.260 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "PaymentMethod" TO payment_method;
2025-08-05 19:05:37.263 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "PaymentIntentId" TO payment_intent_id;
2025-08-05 19:05:37.269 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.272 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions RENAME COLUMN "CourseId" TO course_id;
2025-08-05 19:05:37.275 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Payments_UserId" RENAME TO i_x_payments_user_id;
2025-08-05 19:05:37.278 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Payments_SubscriptionId" RENAME TO i_x_payments_subscription_id;
2025-08-05 19:05:37.283 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Payments_CourseId" RENAME TO i_x_payments_course_id;
2025-08-05 19:05:37.288 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE sessions RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.290 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE sessions RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.293 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE sessions RENAME COLUMN "PasswordHash" TO password_hash;
2025-08-05 19:05:37.297 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE sessions RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.301 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_PasswordHistories_UserId" RENAME TO i_x_password_histories_user_id;
2025-08-05 19:05:37.306 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "Type" TO type;
2025-08-05 19:05:37.309 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "Title" TO title;
2025-08-05 19:05:37.313 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "Message" TO message;
2025-08-05 19:05:37.317 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.322 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.328 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "IsRead" TO is_read;
2025-08-05 19:05:37.333 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.337 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities RENAME COLUMN "ActionUrl" TO action_url;
2025-08-05 19:05:37.341 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Notifications_UserId" RENAME TO i_x_notifications_user_id;
2025-08-05 19:05:37.344 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "Type" TO type;
2025-08-05 19:05:37.349 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "Title" TO title;
2025-08-05 19:05:37.353 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "Order" TO "order";
2025-08-05 19:05:37.356 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "Duration" TO duration;
2025-08-05 19:05:37.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "Content" TO content;
2025-08-05 19:05:37.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.365 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "VideoUrl" TO video_url;
2025-08-05 19:05:37.369 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "UpdatedAt" TO updated_at;
2025-08-05 19:05:37.371 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "ModuleId" TO module_id;
2025-08-05 19:05:37.374 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.377 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Lessons_ModuleId" RENAME TO i_x_lessons_module_id;
2025-08-05 19:05:37.380 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "Status" TO status;
2025-08-05 19:05:37.384 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.387 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "StudentId" TO student_id;
2025-08-05 19:05:37.391 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "StartedAt" TO started_at;
2025-08-05 19:05:37.393 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "QuizScore" TO quiz_score;
2025-08-05 19:05:37.396 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "LessonId" TO lesson_id;
2025-08-05 19:05:37.401 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "CompletedAt" TO completed_at;
2025-08-05 19:05:37.404 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress RENAME COLUMN "AssignmentSubmissionUrl" TO assignment_submission_url;
2025-08-05 19:05:37.408 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_LessonProgresses_StudentId_LessonId" RENAME TO "IX_lesson_progress_student_id_lesson_id";
2025-08-05 19:05:37.411 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_LessonProgresses_LessonId" RENAME TO i_x_lesson_progresses_lesson_id;
2025-08-05 19:05:37.416 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "Status" TO status;
2025-08-05 19:05:37.421 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "Qualifications" TO qualifications;
2025-08-05 19:05:37.425 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "Bio" TO bio;
2025-08-05 19:05:37.428 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.433 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "WebsiteUrl" TO website_url;
2025-08-05 19:05:37.438 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "UserId" TO user_id;
2025-08-05 19:05:37.441 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "TeachingExperience" TO teaching_experience;
2025-08-05 19:05:37.444 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "SubmittedAt" TO submitted_at;
2025-08-05 19:05:37.448 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "ReviewerNotes" TO reviewer_notes;
2025-08-05 19:05:37.454 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "ReviewedBy" TO reviewed_by;
2025-08-05 19:05:37.457 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "ReviewedAt" TO reviewed_at;
2025-08-05 19:05:37.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals RENAME COLUMN "LinkedInProfile" TO linked_in_profile;
2025-08-05 19:05:37.462 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_InstructorApprovals_UserId" RENAME TO i_x_instructor_approvals_user_id;
2025-08-05 19:05:37.470 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules RENAME COLUMN "Title" TO title;
2025-08-05 19:05:37.474 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules RENAME COLUMN "Order" TO "order";
2025-08-05 19:05:37.477 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules RENAME COLUMN "Description" TO description;
2025-08-05 19:05:37.483 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.487 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules RENAME COLUMN "UpdatedAt" TO updated_at;
2025-08-05 19:05:37.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.494 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules RENAME COLUMN "CourseId" TO course_id;
2025-08-05 19:05:37.499 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_CourseModules_CourseId" RENAME TO i_x_course_modules_course_id;
2025-08-05 19:05:37.503 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "Status" TO status;
2025-08-05 19:05:37.506 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "Feedback" TO feedback;
2025-08-05 19:05:37.509 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "Id" TO id;
2025-08-05 19:05:37.512 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "UpdatedAt" TO updated_at;
2025-08-05 19:05:37.517 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "SubmittedById" TO submitted_by_id;
2025-08-05 19:05:37.520 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "SubmittedAt" TO submitted_at;
2025-08-05 19:05:37.523 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "ReviewedById" TO reviewed_by_id;
2025-08-05 19:05:37.526 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "ReviewedAt" TO reviewed_at;
2025-08-05 19:05:37.530 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "CreatedAt" TO created_at;
2025-08-05 19:05:37.534 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals RENAME COLUMN "CourseId" TO course_id;
2025-08-05 19:05:37.537 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_CourseApprovals_SubmittedById" RENAME TO i_x_course_approvals_submitted_by_id;
2025-08-05 19:05:37.540 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_CourseApprovals_ReviewedById" RENAME TO i_x_course_approvals_reviewed_by_id;
2025-08-05 19:05:37.543 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_CourseApprovals_CourseId" RENAME TO i_x_course_approvals_course_id;
2025-08-05 19:05:37.592 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions ADD CONSTRAINT p_k_subscriptions PRIMARY KEY (id);
2025-08-05 19:05:37.627 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments ADD CONSTRAINT p_k_enrollments PRIMARY KEY (id);
2025-08-05 19:05:37.644 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses ADD CONSTRAINT p_k_courses PRIMARY KEY (id);
2025-08-05 19:05:37.653 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" ADD CONSTRAINT p_k__asp_net_user_tokens PRIMARY KEY (user_id, login_provider, name);
2025-08-05 19:05:37.661 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" ADD CONSTRAINT p_k__asp_net_user_roles PRIMARY KEY (user_id, role_id);
2025-08-05 19:05:37.670 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" ADD CONSTRAINT p_k__asp_net_user_logins PRIMARY KEY (login_provider, provider_key);
2025-08-05 19:05:37.679 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" ADD CONSTRAINT p_k__asp_net_user_claims PRIMARY KEY (id);
2025-08-05 19:05:37.687 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" ADD CONSTRAINT p_k__asp_net_role_claims PRIMARY KEY (id);
2025-08-05 19:05:37.693 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscription_plans ADD CONSTRAINT p_k_subscription_plans PRIMARY KEY (id);
2025-08-05 19:05:37.701 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews ADD CONSTRAINT p_k_reviews PRIMARY KEY (id);
2025-08-05 19:05:37.708 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens ADD CONSTRAINT p_k_refresh_tokens PRIMARY KEY (id);
2025-08-05 19:05:37.714 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions ADD CONSTRAINT p_k_payments PRIMARY KEY (id);
2025-08-05 19:05:37.721 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE sessions ADD CONSTRAINT p_k_password_histories PRIMARY KEY (id);
2025-08-05 19:05:37.728 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities ADD CONSTRAINT p_k_notifications PRIMARY KEY (id);
2025-08-05 19:05:37.773 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons ADD CONSTRAINT p_k_lessons PRIMARY KEY (id);
2025-08-05 19:05:37.815 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress ADD CONSTRAINT p_k_lesson_progresses PRIMARY KEY (id);
2025-08-05 19:05:37.829 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals ADD CONSTRAINT p_k_instructor_approvals PRIMARY KEY (id);
2025-08-05 19:05:37.842 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules ADD CONSTRAINT p_k_course_modules PRIMARY KEY (id);
2025-08-05 19:05:37.855 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals ADD CONSTRAINT p_k_course_approvals PRIMARY KEY (id);
2025-08-05 19:05:37.862 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE activities ADD CONSTRAINT f_k_notifications__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.870 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetRoleClaims" ADD CONSTRAINT f_k__asp_net_role_claims__asp_net_roles_role_id FOREIGN KEY (role_id) REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.875 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserClaims" ADD CONSTRAINT f_k__asp_net_user_claims__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.883 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserLogins" ADD CONSTRAINT f_k__asp_net_user_logins__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.888 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" ADD CONSTRAINT f_k__asp_net_user_roles__asp_net_roles_role_id FOREIGN KEY (role_id) REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.892 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserRoles" ADD CONSTRAINT f_k__asp_net_user_roles__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.897 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUserTokens" ADD CONSTRAINT f_k__asp_net_user_tokens__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.904 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals ADD CONSTRAINT f_k_course_approvals__asp_net_users_reviewed_by_id FOREIGN KEY (reviewed_by_id) REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT;
2025-08-05 19:05:37.908 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals ADD CONSTRAINT f_k_course_approvals__asp_net_users_submitted_by_id FOREIGN KEY (submitted_by_id) REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT;
2025-08-05 19:05:37.913 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_approvals ADD CONSTRAINT f_k_course_approvals_courses_course_id FOREIGN KEY (course_id) REFERENCES courses (id) ON DELETE CASCADE;
2025-08-05 19:05:37.920 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_lessons ADD CONSTRAINT f_k_lessons_course_modules_module_id FOREIGN KEY (module_id) REFERENCES course_modules (id) ON DELETE CASCADE;
2025-08-05 19:05:37.925 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_modules ADD CONSTRAINT f_k_course_modules_courses_course_id FOREIGN KEY (course_id) REFERENCES courses (id) ON DELETE CASCADE;
2025-08-05 19:05:37.931 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews ADD CONSTRAINT f_k_reviews__asp_net_users_student_id FOREIGN KEY (student_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.937 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE course_reviews ADD CONSTRAINT f_k_reviews_courses_course_id FOREIGN KEY (course_id) REFERENCES courses (id) ON DELETE CASCADE;
2025-08-05 19:05:37.941 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE courses ADD CONSTRAINT f_k_courses__asp_net_users_instructor_id FOREIGN KEY (instructor_id) REFERENCES "AspNetUsers" ("Id") ON DELETE RESTRICT;
2025-08-05 19:05:37.947 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments ADD CONSTRAINT f_k_enrollments__asp_net_users_student_id FOREIGN KEY (student_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.954 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE enrollments ADD CONSTRAINT f_k_enrollments_courses_course_id FOREIGN KEY (course_id) REFERENCES courses (id) ON DELETE CASCADE;
2025-08-05 19:05:37.960 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE instructor_approvals ADD CONSTRAINT f_k_instructor_approvals__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.968 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress ADD CONSTRAINT f_k_lesson_progresses__asp_net_users_student_id FOREIGN KEY (student_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.973 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE lesson_progress ADD CONSTRAINT f_k_lesson_progresses_lessons_lesson_id FOREIGN KEY (lesson_id) REFERENCES course_lessons (id) ON DELETE CASCADE;
2025-08-05 19:05:37.978 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE refresh_tokens ADD CONSTRAINT f_k_refresh_tokens__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.989 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE sessions ADD CONSTRAINT f_k_password_histories__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:37.994 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions ADD CONSTRAINT f_k_subscriptions__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:38.007 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE subscriptions ADD CONSTRAINT f_k_subscriptions__subscription_plans_subscription_plan_id FOREIGN KEY (subscription_plan_id) REFERENCES subscription_plans (id) ON DELETE RESTRICT;
2025-08-05 19:05:38.014 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions ADD CONSTRAINT f_k_payments__asp_net_users_user_id FOREIGN KEY (user_id) REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE;
2025-08-05 19:05:38.020 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions ADD CONSTRAINT f_k_payments__subscriptions_subscription_id FOREIGN KEY (subscription_id) REFERENCES subscriptions (id);
2025-08-05 19:05:38.025 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE transactions ADD CONSTRAINT f_k_payments_courses_course_id FOREIGN KEY (course_id) REFERENCES courses (id);
2025-08-05 19:05:38.030 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250731054530_AddRefreshTokensTable', '9.0.7');
2025-08-05 19:05:38.099 +08:00 [INF] Migrations applied successfully.
2025-08-05 19:05:38.100 +08:00 [INF] Starting data seeding...
2025-08-05 19:05:38.120 +08:00 [INF] User profile is available. Using 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-05 19:05:38.412 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM courses AS c)
2025-08-05 19:05:38.467 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM enrollments AS e)
2025-08-05 19:05:38.473 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM transactions AS t)
2025-08-05 19:05:38.476 +08:00 [INF] Starting database seeding...
2025-08-05 19:05:38.479 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-05 19:05:38.593 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-08-05 19:05:38.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-08-05 19:05:38.601 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-05 19:05:38.607 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-05 19:05:38.716 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-05 19:05:38.761 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-05 19:05:38.766 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-05 19:05:38.789 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:38.893 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:38.901 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.195 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:39.220 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.259 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:39.269 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.288 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:39.293 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.324 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:39.332 +08:00 [INF] Created admin user: admin@example.com
2025-08-05 19:05:39.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.447 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:39.452 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:39.469 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.475 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:39.483 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.488 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:39.492 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.501 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:39.506 +08:00 [INF] Created instructor user: instructor@example.com
2025-08-05 19:05:39.508 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.618 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:39.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.627 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:39.633 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.637 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:39.642 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.648 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:39.652 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.668 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:39.672 +08:00 [INF] Created student user: student@example.com
2025-08-05 19:05:39.674 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.815 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:39.820 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.827 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:39.835 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.841 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:39.847 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:39.853 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:39.867 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:39.875 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:39.888 +08:00 [INF] Created instructor user: michael.chen@example.com
2025-08-05 19:05:39.893 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.053 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.057 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.065 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:40.073 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.079 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:40.085 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.090 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.098 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.106 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:40.112 +08:00 [INF] Created instructor user: emily.davis@example.com
2025-08-05 19:05:40.129 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscription_plans AS s)
2025-08-05 19:05:40.289 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Decimal), @p13='?', @p14='?' (DbType = Int32), @p15='?' (DbType = Decimal), @p16='?' (DbType = DateTime), @p17='?' (DbType = Decimal), @p18='?' (DbType = DateTime), @p19='?', @p20='?' (DbType = Int32), @p21='?', @p22='?' (DbType = Boolean), @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = Boolean), @p26='?' (DbType = Boolean), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = Decimal), @p31='?', @p32='?' (DbType = Int32), @p33='?' (DbType = Decimal), @p34='?' (DbType = DateTime), @p35='?' (DbType = Decimal), @p36='?' (DbType = DateTime), @p37='?', @p38='?' (DbType = Int32), @p39='?', @p40='?' (DbType = Boolean), @p41='?' (DbType = Boolean), @p42='?' (DbType = Boolean), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (DbType = Decimal), @p49='?', @p50='?' (DbType = Int32), @p51='?' (DbType = Decimal), @p52='?' (DbType = DateTime), @p53='?' (DbType = Decimal), @p54='?' (DbType = DateTime), @p55='?', @p56='?' (DbType = Int32), @p57='?', @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (DbType = Boolean), @p61='?' (DbType = Boolean), @p62='?' (DbType = Boolean), @p63='?' (DbType = Int32), @p64='?' (DbType = Int32), @p65='?' (DbType = Int32), @p66='?' (DbType = Decimal), @p67='?', @p68='?' (DbType = Int32), @p69='?' (DbType = Decimal), @p70='?' (DbType = DateTime), @p71='?' (DbType = Decimal), @p72='?' (DbType = DateTime), @p73='?', @p74='?' (DbType = Int32), @p75='?', @p76='?' (DbType = Boolean), @p77='?' (DbType = Boolean), @p78='?' (DbType = Boolean), @p79='?' (DbType = Boolean), @p80='?' (DbType = Boolean), @p81='?' (DbType = Int32), @p82='?' (DbType = Int32), @p83='?' (DbType = Int32), @p84='?' (DbType = Decimal), @p85='?', @p86='?' (DbType = Int32), @p87='?' (DbType = Decimal), @p88='?' (DbType = DateTime), @p89='?' (DbType = Decimal), @p90='?' (DbType = DateTime), @p91='?', @p92='?' (DbType = Int32), @p93='?', @p94='?' (DbType = Boolean), @p95='?' (DbType = Boolean), @p96='?' (DbType = Boolean), @p97='?' (DbType = Boolean), @p98='?' (DbType = Boolean), @p99='?' (DbType = Int32), @p100='?' (DbType = Int32), @p101='?' (DbType = Int32), @p102='?' (DbType = Decimal), @p103='?', @p104='?' (DbType = Int32), @p105='?' (DbType = Decimal), @p106='?' (DbType = DateTime), @p107='?' (DbType = Decimal), @p108='?' (DbType = DateTime), @p109='?', @p110='?' (DbType = Int32), @p111='?', @p112='?' (DbType = Boolean), @p113='?' (DbType = Boolean), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = Boolean), @p117='?' (DbType = Int32), @p118='?' (DbType = Int32), @p119='?' (DbType = Int32), @p120='?' (DbType = Decimal), @p121='?', @p122='?' (DbType = Int32), @p123='?' (DbType = Decimal), @p124='?' (DbType = DateTime), @p125='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO subscription_plans (created_at, description, display_order, features, has_analytics, has_priority_support, has_unlimited_access, is_active, is_recommended, max_course_access, max_courses_can_create, max_students_per_course, monthly_price, name, plan_type, transaction_fee_percentage, updated_at, yearly_price)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO subscription_plans (created_at, description, display_order, features, has_analytics, has_priority_support, has_unlimited_access, is_active, is_recommended, max_course_access, max_courses_can_create, max_students_per_course, monthly_price, name, plan_type, transaction_fee_percentage, updated_at, yearly_price)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO subscription_plans (created_at, description, display_order, features, has_analytics, has_priority_support, has_unlimited_access, is_active, is_recommended, max_course_access, max_courses_can_create, max_students_per_course, monthly_price, name, plan_type, transaction_fee_percentage, updated_at, yearly_price)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53)
RETURNING id;
INSERT INTO subscription_plans (created_at, description, display_order, features, has_analytics, has_priority_support, has_unlimited_access, is_active, is_recommended, max_course_access, max_courses_can_create, max_students_per_course, monthly_price, name, plan_type, transaction_fee_percentage, updated_at, yearly_price)
VALUES (@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71)
RETURNING id;
INSERT INTO subscription_plans (created_at, description, display_order, features, has_analytics, has_priority_support, has_unlimited_access, is_active, is_recommended, max_course_access, max_courses_can_create, max_students_per_course, monthly_price, name, plan_type, transaction_fee_percentage, updated_at, yearly_price)
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89)
RETURNING id;
INSERT INTO subscription_plans (created_at, description, display_order, features, has_analytics, has_priority_support, has_unlimited_access, is_active, is_recommended, max_course_access, max_courses_can_create, max_students_per_course, monthly_price, name, plan_type, transaction_fee_percentage, updated_at, yearly_price)
VALUES (@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107)
RETURNING id;
INSERT INTO subscription_plans (created_at, description, display_order, features, has_analytics, has_priority_support, has_unlimited_access, is_active, is_recommended, max_course_access, max_courses_can_create, max_students_per_course, monthly_price, name, plan_type, transaction_fee_percentage, updated_at, yearly_price)
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125)
RETURNING id;
2025-08-05 19:05:40.317 +08:00 [INF] Created subscription plans
2025-08-05 19:05:40.321 +08:00 [INF] Starting consistent data seeding...
2025-08-05 19:05:40.331 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.454 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:40.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.472 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:40.476 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.483 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.487 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.493 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:40.503 +08:00 [INF] Created PendingApproval user: pending.student1@example.com
2025-08-05 19:05:40.506 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.614 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.618 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.624 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:40.632 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.636 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:40.640 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.646 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.651 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.657 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:40.663 +08:00 [INF] Created PendingApproval user: pending.student2@example.com
2025-08-05 19:05:40.667 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.776 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.782 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.790 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:40.797 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.801 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:40.805 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.809 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.815 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.821 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:40.825 +08:00 [INF] Created PendingApproval user: pending.instructor1@example.com
2025-08-05 19:05:40.828 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.936 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.949 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:40.955 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.962 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:40.970 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:40.974 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:40.982 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:40.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:40.995 +08:00 [INF] Created PendingApproval user: pending.instructor2@example.com
2025-08-05 19:05:41.000 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.136 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:41.141 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.151 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:41.157 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:41.165 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:41.171 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:41.177 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:41.183 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.192 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:41.199 +08:00 [INF] Created Suspended user: suspended.user@example.com
2025-08-05 19:05:41.202 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.338 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:41.342 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.349 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-05 19:05:41.354 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:41.358 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a.user_id, a.role_id
FROM "AspNetUserRoles" AS a
WHERE a.user_id = @__p_0 AND a.role_id = @__p_1
LIMIT 1
2025-08-05 19:05:41.363 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:41.368 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-05 19:05:41.372 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.379 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" (role_id, user_id)
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-08-05 19:05:41.385 +08:00 [INF] Created Inactive user: inactive.user@example.com
2025-08-05 19:05:41.404 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor' AND a."Status" = 'PendingApproval'
2025-08-05 19:05:41.418 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM instructor_approvals AS i
    WHERE i.user_id = @__instructor_Id_0)
2025-08-05 19:05:41.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM instructor_approvals AS i
    WHERE i.user_id = @__instructor_Id_0)
2025-08-05 19:05:41.512 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?', @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO instructor_approvals (bio, linked_in_profile, qualifications, reviewed_at, reviewed_by, reviewer_notes, status, submitted_at, teaching_experience, user_id, website_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
INSERT INTO instructor_approvals (bio, linked_in_profile, qualifications, reviewed_at, reviewed_by, reviewer_notes, status, submitted_at, teaching_experience, user_id, website_url)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21)
RETURNING id;
2025-08-05 19:05:41.531 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.535 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.540 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:05:41.566 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.content, c.created_at, c.duration, c.module_id, c."order", c.title, c.type, c.updated_at, c.video_url
FROM course_lessons AS c
2025-08-05 19:05:41.582 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
2025-08-05 19:05:41.598 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
2025-08-05 19:05:41.614 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.approved_at, c.approved_by, c.comment, c.course_id, c.created_at, c.is_flagged, c.rating, c.status, c.student_id
FROM course_reviews AS c
2025-08-05 19:05:41.626 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM enrollments AS e
2025-08-05 19:05:41.645 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
2025-08-05 19:05:41.835 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?' (DbType = Int32), @p12='?' (DbType = Boolean), @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?', @p17='?', @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (DbType = Boolean), @p24='?', @p25='?' (DbType = Boolean), @p26='?' (DbType = Boolean), @p27='?', @p28='?', @p29='?' (DbType = Decimal), @p30='?', @p31='?', @p32='?' (DbType = Decimal), @p33='?' (DbType = Int32), @p34='?', @p35='?' (DbType = DateTime), @p36='?', @p37='?', @p38='?' (DbType = Int32), @p39='?', @p40='?', @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (DbType = Boolean), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Int32), @p51='?' (DbType = DateTime), @p52='?', @p53='?', @p54='?' (DbType = Int32), @p55='?' (DbType = Boolean), @p56='?', @p57='?', @p58='?' (DbType = Int32), @p59='?', @p60='?', @p61='?' (DbType = Boolean), @p62='?' (DbType = Boolean), @p63='?' (DbType = Boolean), @p64='?' (DbType = Boolean), @p65='?' (DbType = Boolean), @p66='?' (DbType = Boolean), @p67='?', @p68='?' (DbType = Boolean), @p69='?' (DbType = Boolean), @p70='?', @p71='?', @p72='?' (DbType = Decimal), @p73='?', @p74='?', @p75='?' (DbType = Decimal), @p76='?' (DbType = Int32), @p77='?', @p78='?' (DbType = DateTime), @p79='?', @p80='?', @p81='?' (DbType = Int32), @p82='?', @p83='?', @p84='?', @p85='?' (DbType = DateTime), @p86='?' (DbType = Int32), @p87='?' (DbType = Int32), @p88='?' (DbType = Boolean), @p89='?' (DbType = Boolean), @p90='?' (DbType = Boolean), @p91='?' (DbType = Boolean), @p92='?', @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime), @p95='?', @p96='?', @p97='?' (DbType = Int32), @p98='?' (DbType = Boolean), @p99='?', @p100='?', @p101='?' (DbType = Int32), @p102='?', @p103='?', @p104='?' (DbType = Boolean), @p105='?' (DbType = Boolean), @p106='?' (DbType = Boolean), @p107='?' (DbType = Boolean), @p108='?' (DbType = Boolean), @p109='?' (DbType = Boolean), @p110='?', @p111='?' (DbType = Boolean), @p112='?' (DbType = Boolean), @p113='?', @p114='?', @p115='?' (DbType = Decimal), @p116='?', @p117='?', @p118='?' (DbType = Decimal), @p119='?' (DbType = Int32), @p120='?', @p121='?' (DbType = DateTime), @p122='?', @p123='?', @p124='?' (DbType = Int32), @p125='?', @p126='?', @p127='?', @p128='?' (DbType = DateTime), @p129='?' (DbType = Int32), @p130='?' (DbType = Int32), @p131='?' (DbType = Boolean), @p132='?' (DbType = Boolean), @p133='?' (DbType = Boolean), @p134='?' (DbType = Boolean), @p135='?', @p136='?' (DbType = Int32), @p137='?' (DbType = DateTime), @p138='?', @p139='?', @p140='?' (DbType = Int32), @p141='?' (DbType = Boolean), @p142='?', @p143='?', @p144='?' (DbType = Int32), @p145='?', @p146='?', @p147='?' (DbType = Boolean), @p148='?' (DbType = Boolean), @p149='?' (DbType = Boolean), @p150='?' (DbType = Boolean), @p151='?' (DbType = Boolean), @p152='?' (DbType = Boolean), @p153='?', @p154='?' (DbType = Boolean), @p155='?' (DbType = Boolean), @p156='?', @p157='?', @p158='?' (DbType = Decimal), @p159='?', @p160='?', @p161='?' (DbType = Decimal), @p162='?' (DbType = Int32), @p163='?', @p164='?' (DbType = DateTime), @p165='?', @p166='?', @p167='?' (DbType = Int32), @p168='?', @p169='?', @p170='?', @p171='?' (DbType = DateTime), @p172='?' (DbType = Int32), @p173='?' (DbType = Int32), @p174='?' (DbType = Boolean), @p175='?' (DbType = Boolean), @p176='?' (DbType = Boolean), @p177='?' (DbType = Boolean), @p178='?', @p179='?' (DbType = Int32), @p180='?' (DbType = DateTime), @p181='?', @p182='?', @p183='?' (DbType = Int32), @p184='?' (DbType = Boolean), @p185='?', @p186='?', @p187='?' (DbType = Int32), @p188='?', @p189='?', @p190='?' (DbType = Boolean), @p191='?' (DbType = Boolean), @p192='?' (DbType = Boolean), @p193='?' (DbType = Boolean), @p194='?' (DbType = Boolean), @p195='?' (DbType = Boolean), @p196='?', @p197='?' (DbType = Boolean), @p198='?' (DbType = Boolean), @p199='?', @p200='?', @p201='?' (DbType = Decimal), @p202='?', @p203='?', @p204='?' (DbType = Decimal), @p205='?' (DbType = Int32), @p206='?', @p207='?' (DbType = DateTime), @p208='?', @p209='?', @p210='?' (DbType = Int32), @p211='?', @p212='?', @p213='?', @p214='?' (DbType = DateTime), @p215='?' (DbType = Int32), @p216='?' (DbType = Int32), @p217='?' (DbType = Boolean), @p218='?' (DbType = Boolean), @p219='?' (DbType = Boolean), @p220='?' (DbType = Boolean), @p221='?', @p222='?' (DbType = Int32), @p223='?' (DbType = DateTime), @p224='?', @p225='?', @p226='?' (DbType = Int32), @p227='?' (DbType = Boolean), @p228='?', @p229='?', @p230='?' (DbType = Int32), @p231='?', @p232='?', @p233='?' (DbType = Boolean), @p234='?' (DbType = Boolean), @p235='?' (DbType = Boolean), @p236='?' (DbType = Boolean), @p237='?' (DbType = Boolean), @p238='?' (DbType = Boolean), @p239='?', @p240='?' (DbType = Boolean), @p241='?' (DbType = Boolean), @p242='?', @p243='?', @p244='?' (DbType = Decimal), @p245='?', @p246='?', @p247='?' (DbType = Decimal), @p248='?' (DbType = Int32), @p249='?', @p250='?' (DbType = DateTime), @p251='?', @p252='?', @p253='?' (DbType = Int32), @p254='?', @p255='?', @p256='?', @p257='?' (DbType = DateTime), @p258='?' (DbType = Int32), @p259='?' (DbType = Int32), @p260='?' (DbType = Boolean), @p261='?' (DbType = Boolean), @p262='?' (DbType = Boolean), @p263='?' (DbType = Boolean), @p264='?', @p265='?' (DbType = Int32), @p266='?' (DbType = DateTime), @p267='?', @p268='?', @p269='?' (DbType = Int32), @p270='?' (DbType = Boolean), @p271='?', @p272='?', @p273='?' (DbType = Int32), @p274='?', @p275='?', @p276='?' (DbType = Boolean), @p277='?' (DbType = Boolean), @p278='?' (DbType = Boolean), @p279='?' (DbType = Boolean), @p280='?' (DbType = Boolean), @p281='?' (DbType = Boolean), @p282='?', @p283='?' (DbType = Boolean), @p284='?' (DbType = Boolean), @p285='?', @p286='?', @p287='?' (DbType = Decimal), @p288='?', @p289='?', @p290='?' (DbType = Decimal), @p291='?' (DbType = Int32), @p292='?', @p293='?' (DbType = DateTime), @p294='?', @p295='?', @p296='?' (DbType = Int32), @p297='?', @p298='?', @p299='?', @p300='?' (DbType = DateTime), @p301='?' (DbType = Int32), @p302='?' (DbType = Int32), @p303='?' (DbType = Boolean), @p304='?' (DbType = Boolean), @p305='?' (DbType = Boolean), @p306='?' (DbType = Boolean), @p307='?', @p308='?' (DbType = Int32), @p309='?' (DbType = DateTime), @p310='?', @p311='?', @p312='?' (DbType = Int32), @p313='?' (DbType = Boolean), @p314='?', @p315='?', @p316='?' (DbType = Int32), @p317='?', @p318='?', @p319='?' (DbType = Boolean), @p320='?' (DbType = Boolean), @p321='?' (DbType = Boolean), @p322='?' (DbType = Boolean), @p323='?' (DbType = Boolean), @p324='?' (DbType = Boolean), @p325='?', @p326='?' (DbType = Boolean), @p327='?' (DbType = Boolean), @p328='?', @p329='?', @p330='?' (DbType = Decimal), @p331='?', @p332='?', @p333='?' (DbType = Decimal), @p334='?' (DbType = Int32), @p335='?', @p336='?' (DbType = DateTime), @p337='?', @p338='?', @p339='?' (DbType = Int32), @p340='?', @p341='?', @p342='?', @p343='?' (DbType = DateTime), @p344='?' (DbType = Int32), @p345='?' (DbType = Int32), @p346='?' (DbType = Boolean), @p347='?' (DbType = Boolean), @p348='?' (DbType = Boolean), @p349='?' (DbType = Boolean), @p350='?', @p351='?' (DbType = Int32), @p352='?' (DbType = DateTime), @p353='?', @p354='?', @p355='?' (DbType = Int32), @p356='?' (DbType = Boolean), @p357='?', @p358='?', @p359='?' (DbType = Int32), @p360='?', @p361='?', @p362='?' (DbType = Boolean), @p363='?' (DbType = Boolean), @p364='?' (DbType = Boolean), @p365='?' (DbType = Boolean), @p366='?' (DbType = Boolean), @p367='?' (DbType = Boolean), @p368='?', @p369='?' (DbType = Boolean), @p370='?' (DbType = Boolean), @p371='?', @p372='?', @p373='?' (DbType = Decimal), @p374='?', @p375='?', @p376='?' (DbType = Decimal), @p377='?' (DbType = Int32), @p378='?', @p379='?' (DbType = DateTime), @p380='?', @p381='?', @p382='?' (DbType = Int32), @p383='?', @p384='?', @p385='?', @p386='?' (DbType = DateTime), @p387='?' (DbType = Int32), @p388='?' (DbType = Int32), @p389='?' (DbType = Boolean), @p390='?' (DbType = Boolean), @p391='?' (DbType = Boolean), @p392='?' (DbType = Boolean), @p393='?', @p394='?' (DbType = Int32), @p395='?' (DbType = DateTime), @p396='?', @p397='?', @p398='?' (DbType = Int32), @p399='?' (DbType = Boolean), @p400='?', @p401='?', @p402='?' (DbType = Int32), @p403='?', @p404='?', @p405='?' (DbType = Boolean), @p406='?' (DbType = Boolean), @p407='?' (DbType = Boolean), @p408='?' (DbType = Boolean), @p409='?' (DbType = Boolean), @p410='?' (DbType = Boolean), @p411='?', @p412='?' (DbType = Boolean), @p413='?' (DbType = Boolean), @p414='?', @p415='?', @p416='?' (DbType = Decimal), @p417='?', @p418='?', @p419='?' (DbType = Decimal), @p420='?' (DbType = Int32), @p421='?', @p422='?' (DbType = DateTime), @p423='?', @p424='?', @p425='?' (DbType = Int32), @p426='?', @p427='?', @p428='?', @p429='?' (DbType = DateTime), @p430='?' (DbType = Int32), @p431='?' (DbType = Int32), @p432='?' (DbType = Boolean), @p433='?' (DbType = Boolean), @p434='?' (DbType = Boolean), @p435='?' (DbType = Boolean), @p436='?', @p437='?' (DbType = Int32), @p438='?' (DbType = DateTime), @p439='?', @p440='?', @p441='?' (DbType = Int32), @p442='?' (DbType = Boolean), @p443='?', @p444='?', @p445='?' (DbType = Int32), @p446='?', @p447='?', @p448='?' (DbType = Boolean), @p449='?' (DbType = Boolean), @p450='?' (DbType = Boolean), @p451='?' (DbType = Boolean), @p452='?' (DbType = Boolean), @p453='?' (DbType = Boolean), @p454='?', @p455='?' (DbType = Boolean), @p456='?' (DbType = Boolean), @p457='?', @p458='?', @p459='?' (DbType = Decimal), @p460='?', @p461='?', @p462='?' (DbType = Decimal), @p463='?' (DbType = Int32), @p464='?', @p465='?' (DbType = DateTime), @p466='?', @p467='?', @p468='?' (DbType = Int32), @p469='?', @p470='?', @p471='?', @p472='?' (DbType = DateTime), @p473='?' (DbType = Int32), @p474='?' (DbType = Int32), @p475='?' (DbType = Boolean), @p476='?' (DbType = Boolean), @p477='?' (DbType = Boolean), @p478='?' (DbType = Boolean), @p479='?', @p480='?' (DbType = Int32), @p481='?' (DbType = DateTime), @p482='?', @p483='?', @p484='?' (DbType = Int32), @p485='?' (DbType = Boolean), @p486='?', @p487='?', @p488='?' (DbType = Int32), @p489='?', @p490='?', @p491='?' (DbType = Boolean), @p492='?' (DbType = Boolean), @p493='?' (DbType = Boolean), @p494='?' (DbType = Boolean), @p495='?' (DbType = Boolean), @p496='?' (DbType = Boolean), @p497='?', @p498='?' (DbType = Boolean), @p499='?' (DbType = Boolean), @p500='?', @p501='?', @p502='?' (DbType = Decimal), @p503='?', @p504='?', @p505='?' (DbType = Decimal), @p506='?' (DbType = Int32), @p507='?', @p508='?' (DbType = DateTime), @p509='?', @p510='?', @p511='?' (DbType = Int32), @p512='?', @p513='?', @p514='?', @p515='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p215, @p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, @p300)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515)
RETURNING id;
2025-08-05 19:05:41.855 +08:00 [INF] Seeding course modules and lessons...
2025-08-05 19:05:41.868 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:41.906 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:41.966 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:41.980 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:41.987 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:41.999 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.006 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.016 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.022 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.135 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.147 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.166 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.181 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.187 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:42.195 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.203 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.213 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.224 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.236 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.250 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.257 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.267 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.274 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.285 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.292 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:42.302 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.314 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.326 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.340 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.355 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.371 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.381 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.389 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.406 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.425 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.437 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:42.445 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.455 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.466 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.477 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.488 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.498 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.515 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.530 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.539 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:42.548 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.556 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.568 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.580 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.589 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.602 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.618 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.630 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.635 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:42.645 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.657 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.675 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.689 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.704 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.715 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.724 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.735 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.747 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.756 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.766 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:42.776 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.791 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.809 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.821 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.833 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.840 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.852 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.863 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.873 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.888 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.901 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:42.914 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.928 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.946 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.961 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:42.973 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:42.983 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:42.995 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.006 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.022 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.035 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.041 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:43.052 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.063 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.074 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.088 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.105 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.121 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.140 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.159 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.183 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.189 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:43.198 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.209 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.219 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.228 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.239 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.250 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.261 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.275 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.285 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:43.296 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.305 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.317 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.333 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.348 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.360 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.370 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.382 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.388 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__course_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c.course_id, c.created_at, c.description, c."order", c.title, c.updated_at
FROM course_modules AS c
WHERE c.course_id = @__course_Id_0
2025-08-05 19:05:43.400 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.425 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.439 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.453 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?', @p42='?', @p43='?' (DbType = DateTime), @p44='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
2025-08-05 19:05:43.465 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.474 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.487 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_modules (course_id, created_at, description, "order", title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING id;
2025-08-05 19:05:43.499 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?', @p33='?', @p34='?' (DbType = DateTime), @p35='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_lessons (content, created_at, duration, module_id, "order", title, type, updated_at, video_url)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
2025-08-05 19:05:43.504 +08:00 [INF] Course modules and lessons seeded successfully
2025-08-05 19:05:43.505 +08:00 [INF] Created 12 courses with consistent data
2025-08-05 19:05:43.524 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor' AND a."Status" = 'Active'
2025-08-05 19:05:43.535 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM courses AS c
    WHERE c.title = @__title_0)
2025-08-05 19:05:43.539 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM courses AS c
    WHERE c.title = @__title_0)
2025-08-05 19:05:43.546 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM courses AS c
    WHERE c.title = @__title_0)
2025-08-05 19:05:43.550 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM courses AS c
    WHERE c.title = @__title_0)
2025-08-05 19:05:43.562 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?' (DbType = Int32), @p12='?' (DbType = Boolean), @p13='?', @p14='?', @p15='?' (DbType = Int32), @p16='?', @p17='?', @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (DbType = Boolean), @p24='?', @p25='?' (DbType = Boolean), @p26='?' (DbType = Boolean), @p27='?', @p28='?', @p29='?' (DbType = Decimal), @p30='?', @p31='?', @p32='?' (DbType = Decimal), @p33='?' (DbType = Int32), @p34='?', @p35='?' (DbType = DateTime), @p36='?', @p37='?', @p38='?' (DbType = Int32), @p39='?', @p40='?', @p41='?', @p42='?' (DbType = DateTime), @p43='?' (DbType = Int32), @p44='?' (DbType = Int32), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (DbType = Boolean), @p48='?' (DbType = Boolean), @p49='?', @p50='?' (DbType = Int32), @p51='?' (DbType = DateTime), @p52='?', @p53='?', @p54='?' (DbType = Int32), @p55='?' (DbType = Boolean), @p56='?', @p57='?', @p58='?' (DbType = Int32), @p59='?', @p60='?', @p61='?' (DbType = Boolean), @p62='?' (DbType = Boolean), @p63='?' (DbType = Boolean), @p64='?' (DbType = Boolean), @p65='?' (DbType = Boolean), @p66='?' (DbType = Boolean), @p67='?', @p68='?' (DbType = Boolean), @p69='?' (DbType = Boolean), @p70='?', @p71='?', @p72='?' (DbType = Decimal), @p73='?', @p74='?', @p75='?' (DbType = Decimal), @p76='?' (DbType = Int32), @p77='?', @p78='?' (DbType = DateTime), @p79='?', @p80='?', @p81='?' (DbType = Int32), @p82='?', @p83='?', @p84='?', @p85='?' (DbType = DateTime), @p86='?' (DbType = Int32), @p87='?' (DbType = Int32), @p88='?' (DbType = Boolean), @p89='?' (DbType = Boolean), @p90='?' (DbType = Boolean), @p91='?' (DbType = Boolean), @p92='?', @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime), @p95='?', @p96='?', @p97='?' (DbType = Int32), @p98='?' (DbType = Boolean), @p99='?', @p100='?', @p101='?' (DbType = Int32), @p102='?', @p103='?', @p104='?' (DbType = Boolean), @p105='?' (DbType = Boolean), @p106='?' (DbType = Boolean), @p107='?' (DbType = Boolean), @p108='?' (DbType = Boolean), @p109='?' (DbType = Boolean), @p110='?', @p111='?' (DbType = Boolean), @p112='?' (DbType = Boolean), @p113='?', @p114='?', @p115='?' (DbType = Decimal), @p116='?', @p117='?', @p118='?' (DbType = Decimal), @p119='?' (DbType = Int32), @p120='?', @p121='?' (DbType = DateTime), @p122='?', @p123='?', @p124='?' (DbType = Int32), @p125='?', @p126='?', @p127='?', @p128='?' (DbType = DateTime), @p129='?' (DbType = Int32), @p130='?' (DbType = Int32), @p131='?' (DbType = Boolean), @p132='?' (DbType = Boolean), @p133='?' (DbType = Boolean), @p134='?' (DbType = Boolean), @p135='?', @p136='?' (DbType = Int32), @p137='?' (DbType = DateTime), @p138='?', @p139='?', @p140='?' (DbType = Int32), @p141='?' (DbType = Boolean), @p142='?', @p143='?', @p144='?' (DbType = Int32), @p145='?', @p146='?', @p147='?' (DbType = Boolean), @p148='?' (DbType = Boolean), @p149='?' (DbType = Boolean), @p150='?' (DbType = Boolean), @p151='?' (DbType = Boolean), @p152='?' (DbType = Boolean), @p153='?', @p154='?' (DbType = Boolean), @p155='?' (DbType = Boolean), @p156='?', @p157='?', @p158='?' (DbType = Decimal), @p159='?', @p160='?', @p161='?' (DbType = Decimal), @p162='?' (DbType = Int32), @p163='?', @p164='?' (DbType = DateTime), @p165='?', @p166='?', @p167='?' (DbType = Int32), @p168='?', @p169='?', @p170='?', @p171='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128)
RETURNING id;
INSERT INTO courses ("AccessDuration", "AccessType", "AutomationAbandonmentSequence", "AutomationCompletionCertificate", "AutomationProgressReminders", "AutomationWelcomeEmail", category, "CourseType", created_at, "Currency", description, discount, "DripContent", "DripScheduleJson", duration, "EnrollmentLimit", enrollment_type, features, "HasAssignments", "HasCertificate", "HasCommunity", "HasDownloadableResources", "HasLiveSessions", "HasQuizzes", instructor_id, is_bestseller, "IsPublished", "Language", level, original_price, "PaymentPlanDetailsJson", preview_url, price, "PricingModel", "PromoVideoUrl", "PublishedAt", "ShortDescription", status, "SubscriptionPeriod", thumbnail, thumbnail_url, title, updated_at)
VALUES (@p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171)
RETURNING id;
2025-08-05 19:05:43.568 +08:00 [INF] Created courses with various statuses
2025-08-05 19:05:43.666 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM courses AS c
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
2025-08-05 19:05:43.679 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-05 19:05:43.711 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a.user_id = a0."Id"
WHERE a.role_id = @__role_Id_0
2025-08-05 19:05:43.818 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (DbType = Boolean), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = Int32), @p12='?' (DbType = Double), @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = DateTime), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (DbType = Double), @p21='?' (DbType = Int32), @p22='?', @p23='?' (DbType = Int32), @p24='?' (DbType = Double), @p25='?' (DbType = Boolean), @p26='?', @p27='?' (DbType = DateTime), @p28='?' (DbType = Int32), @p29='?' (DbType = Int32), @p30='?' (DbType = DateTime), @p31='?' (DbType = DateTime), @p32='?' (DbType = Double), @p33='?' (DbType = Int32), @p34='?', @p35='?' (DbType = Int32), @p36='?' (DbType = Double), @p37='?' (DbType = Boolean), @p38='?', @p39='?' (DbType = DateTime), @p40='?' (DbType = Int32), @p41='?' (DbType = Int32), @p42='?' (DbType = DateTime), @p43='?' (DbType = DateTime), @p44='?' (DbType = Double), @p45='?' (DbType = Int32), @p46='?', @p47='?' (DbType = Int32), @p48='?' (DbType = Double), @p49='?' (DbType = Boolean), @p50='?', @p51='?' (DbType = DateTime), @p52='?' (DbType = Int32), @p53='?' (DbType = Int32), @p54='?' (DbType = DateTime), @p55='?' (DbType = DateTime), @p56='?' (DbType = Double), @p57='?' (DbType = Int32), @p58='?', @p59='?' (DbType = Int32), @p60='?' (DbType = Double), @p61='?' (DbType = Boolean), @p62='?', @p63='?' (DbType = DateTime), @p64='?' (DbType = Int32), @p65='?' (DbType = Int32), @p66='?' (DbType = DateTime), @p67='?' (DbType = DateTime), @p68='?' (DbType = Double), @p69='?' (DbType = Int32), @p70='?', @p71='?' (DbType = Int32), @p72='?' (DbType = Double), @p73='?' (DbType = Boolean), @p74='?', @p75='?' (DbType = DateTime), @p76='?' (DbType = Int32), @p77='?' (DbType = Int32), @p78='?' (DbType = DateTime), @p79='?' (DbType = DateTime), @p80='?' (DbType = Double), @p81='?' (DbType = Int32), @p82='?', @p83='?' (DbType = Int32), @p84='?' (DbType = Double), @p85='?' (DbType = Boolean), @p86='?', @p87='?' (DbType = DateTime), @p88='?' (DbType = Int32), @p89='?' (DbType = Int32), @p90='?' (DbType = DateTime), @p91='?' (DbType = DateTime), @p92='?' (DbType = Double), @p93='?' (DbType = Int32), @p94='?', @p95='?' (DbType = Int32), @p96='?' (DbType = Double), @p97='?' (DbType = Boolean), @p98='?', @p99='?' (DbType = DateTime), @p100='?' (DbType = Int32), @p101='?' (DbType = Int32), @p102='?' (DbType = DateTime), @p103='?' (DbType = DateTime), @p104='?' (DbType = Double), @p105='?' (DbType = Int32), @p106='?', @p107='?' (DbType = Int32), @p108='?' (DbType = Double), @p109='?' (DbType = Boolean), @p110='?', @p111='?' (DbType = DateTime), @p112='?' (DbType = Int32), @p113='?' (DbType = Int32), @p114='?' (DbType = DateTime), @p115='?' (DbType = DateTime), @p116='?' (DbType = Double), @p117='?' (DbType = Int32), @p118='?', @p119='?' (DbType = Int32), @p120='?' (DbType = Double), @p121='?' (DbType = Boolean), @p122='?', @p123='?' (DbType = DateTime), @p124='?' (DbType = Int32), @p125='?' (DbType = Int32), @p126='?' (DbType = DateTime), @p127='?' (DbType = DateTime), @p128='?' (DbType = Double), @p129='?' (DbType = Int32), @p130='?', @p131='?' (DbType = Int32), @p132='?' (DbType = Double), @p133='?' (DbType = Boolean), @p134='?', @p135='?' (DbType = DateTime), @p136='?' (DbType = Int32), @p137='?' (DbType = Int32), @p138='?' (DbType = DateTime), @p139='?' (DbType = DateTime), @p140='?' (DbType = Double), @p141='?' (DbType = Int32), @p142='?', @p143='?' (DbType = Int32), @p144='?' (DbType = Double), @p145='?' (DbType = Boolean), @p146='?', @p147='?' (DbType = DateTime), @p148='?' (DbType = Int32), @p149='?' (DbType = Int32), @p150='?' (DbType = DateTime), @p151='?' (DbType = DateTime), @p152='?' (DbType = Double), @p153='?' (DbType = Int32), @p154='?', @p155='?' (DbType = Int32), @p156='?' (DbType = Double), @p157='?' (DbType = Boolean), @p158='?', @p159='?' (DbType = DateTime), @p160='?' (DbType = Int32), @p161='?' (DbType = Int32), @p162='?' (DbType = DateTime), @p163='?' (DbType = DateTime), @p164='?' (DbType = Double), @p165='?' (DbType = Int32), @p166='?', @p167='?' (DbType = Int32), @p168='?' (DbType = Double), @p169='?' (DbType = Boolean), @p170='?', @p171='?' (DbType = DateTime), @p172='?' (DbType = Int32), @p173='?' (DbType = Int32), @p174='?' (DbType = DateTime), @p175='?' (DbType = DateTime), @p176='?' (DbType = Double), @p177='?' (DbType = Int32), @p178='?', @p179='?' (DbType = Int32), @p180='?' (DbType = Double), @p181='?' (DbType = Boolean), @p182='?', @p183='?' (DbType = DateTime), @p184='?' (DbType = Int32), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime), @p187='?' (DbType = DateTime), @p188='?' (DbType = Double), @p189='?' (DbType = Int32), @p190='?', @p191='?' (DbType = Int32), @p192='?' (DbType = Double), @p193='?' (DbType = Boolean), @p194='?', @p195='?' (DbType = DateTime), @p196='?' (DbType = Int32), @p197='?' (DbType = Int32), @p198='?' (DbType = DateTime), @p199='?' (DbType = DateTime), @p200='?' (DbType = Double), @p201='?' (DbType = Int32), @p202='?', @p203='?' (DbType = Int32), @p204='?' (DbType = Double), @p205='?' (DbType = Boolean), @p206='?', @p207='?' (DbType = DateTime), @p208='?' (DbType = Int32), @p209='?' (DbType = Int32), @p210='?' (DbType = DateTime), @p211='?' (DbType = DateTime), @p212='?' (DbType = Double), @p213='?' (DbType = Int32), @p214='?', @p215='?' (DbType = Int32), @p216='?' (DbType = Double), @p217='?' (DbType = Boolean), @p218='?', @p219='?' (DbType = DateTime), @p220='?' (DbType = Int32), @p221='?' (DbType = Int32), @p222='?' (DbType = DateTime), @p223='?' (DbType = DateTime), @p224='?' (DbType = Double), @p225='?' (DbType = Int32), @p226='?', @p227='?' (DbType = Int32), @p228='?' (DbType = Double), @p229='?' (DbType = Boolean), @p230='?', @p231='?' (DbType = DateTime), @p232='?' (DbType = Int32), @p233='?' (DbType = Int32), @p234='?' (DbType = DateTime), @p235='?' (DbType = DateTime), @p236='?' (DbType = Double), @p237='?' (DbType = Int32), @p238='?', @p239='?' (DbType = Int32), @p240='?' (DbType = Double), @p241='?' (DbType = Boolean), @p242='?', @p243='?' (DbType = DateTime), @p244='?' (DbType = Int32), @p245='?' (DbType = Int32), @p246='?' (DbType = DateTime), @p247='?' (DbType = DateTime), @p248='?' (DbType = Double), @p249='?' (DbType = Int32), @p250='?', @p251='?' (DbType = Int32), @p252='?' (DbType = Double), @p253='?' (DbType = Boolean), @p254='?', @p255='?' (DbType = DateTime), @p256='?' (DbType = Int32), @p257='?' (DbType = Int32), @p258='?' (DbType = DateTime), @p259='?' (DbType = DateTime), @p260='?' (DbType = Double), @p261='?' (DbType = Int32), @p262='?', @p263='?' (DbType = Int32), @p264='?' (DbType = Double), @p265='?' (DbType = Boolean), @p266='?', @p267='?' (DbType = DateTime), @p268='?' (DbType = Int32), @p269='?' (DbType = Int32), @p270='?' (DbType = DateTime), @p271='?' (DbType = DateTime), @p272='?' (DbType = Double), @p273='?' (DbType = Int32), @p274='?', @p275='?' (DbType = Int32), @p276='?' (DbType = Double), @p277='?' (DbType = Boolean), @p278='?', @p279='?' (DbType = DateTime), @p280='?' (DbType = Int32), @p281='?' (DbType = Int32), @p282='?' (DbType = DateTime), @p283='?' (DbType = DateTime), @p284='?' (DbType = Double), @p285='?' (DbType = Int32), @p286='?', @p287='?' (DbType = Int32), @p288='?' (DbType = Double), @p289='?' (DbType = Boolean), @p290='?', @p291='?' (DbType = DateTime), @p292='?' (DbType = Int32), @p293='?' (DbType = Int32), @p294='?' (DbType = DateTime), @p295='?' (DbType = DateTime), @p296='?' (DbType = Double), @p297='?' (DbType = Int32), @p298='?', @p299='?' (DbType = Int32), @p300='?' (DbType = Double), @p301='?' (DbType = Boolean), @p302='?', @p303='?' (DbType = DateTime), @p304='?' (DbType = Int32), @p305='?' (DbType = Int32), @p306='?' (DbType = DateTime), @p307='?' (DbType = DateTime), @p308='?' (DbType = Double), @p309='?' (DbType = Int32), @p310='?', @p311='?' (DbType = Int32), @p312='?' (DbType = Double), @p313='?' (DbType = Boolean), @p314='?', @p315='?' (DbType = DateTime), @p316='?' (DbType = Int32), @p317='?' (DbType = Int32), @p318='?' (DbType = DateTime), @p319='?' (DbType = DateTime), @p320='?' (DbType = Double), @p321='?' (DbType = Int32), @p322='?', @p323='?' (DbType = Int32), @p324='?' (DbType = Double), @p325='?' (DbType = Boolean), @p326='?', @p327='?' (DbType = DateTime), @p328='?' (DbType = Int32), @p329='?' (DbType = Int32), @p330='?' (DbType = DateTime), @p331='?' (DbType = DateTime), @p332='?' (DbType = Double), @p333='?' (DbType = Int32), @p334='?', @p335='?' (DbType = Int32), @p336='?' (DbType = Double), @p337='?' (DbType = Boolean), @p338='?', @p339='?' (DbType = DateTime), @p340='?' (DbType = Int32), @p341='?' (DbType = Int32), @p342='?' (DbType = DateTime), @p343='?' (DbType = DateTime), @p344='?' (DbType = Double), @p345='?' (DbType = Int32), @p346='?', @p347='?' (DbType = Int32), @p348='?' (DbType = Double), @p349='?' (DbType = Boolean), @p350='?', @p351='?' (DbType = DateTime), @p352='?' (DbType = Int32), @p353='?' (DbType = Int32), @p354='?' (DbType = DateTime), @p355='?' (DbType = DateTime), @p356='?' (DbType = Double), @p357='?' (DbType = Int32), @p358='?', @p359='?' (DbType = Int32), @p360='?' (DbType = Double), @p361='?' (DbType = Boolean), @p362='?', @p363='?' (DbType = DateTime), @p364='?' (DbType = Int32), @p365='?' (DbType = Int32), @p366='?' (DbType = DateTime), @p367='?' (DbType = DateTime), @p368='?' (DbType = Double), @p369='?' (DbType = Int32), @p370='?', @p371='?' (DbType = Int32), @p372='?' (DbType = Double), @p373='?' (DbType = Boolean), @p374='?', @p375='?' (DbType = DateTime), @p376='?' (DbType = Int32), @p377='?' (DbType = Int32), @p378='?' (DbType = DateTime), @p379='?' (DbType = DateTime), @p380='?' (DbType = Double), @p381='?' (DbType = Int32), @p382='?', @p383='?' (DbType = Int32), @p384='?' (DbType = Double), @p385='?' (DbType = Boolean), @p386='?', @p387='?' (DbType = DateTime), @p388='?' (DbType = Int32), @p389='?' (DbType = Int32), @p390='?' (DbType = DateTime), @p391='?' (DbType = DateTime), @p392='?' (DbType = Double), @p393='?' (DbType = Int32), @p394='?', @p395='?' (DbType = Int32), @p396='?' (DbType = Double), @p397='?' (DbType = Boolean), @p398='?', @p399='?' (DbType = DateTime), @p400='?' (DbType = Int32), @p401='?' (DbType = Int32), @p402='?' (DbType = DateTime), @p403='?' (DbType = DateTime), @p404='?' (DbType = Double), @p405='?' (DbType = Int32), @p406='?', @p407='?' (DbType = Int32), @p408='?' (DbType = Double), @p409='?' (DbType = Boolean), @p410='?', @p411='?' (DbType = DateTime), @p412='?' (DbType = Int32), @p413='?' (DbType = Int32), @p414='?' (DbType = DateTime), @p415='?' (DbType = DateTime), @p416='?' (DbType = Double), @p417='?' (DbType = Int32), @p418='?', @p419='?' (DbType = Int32), @p420='?' (DbType = Double), @p421='?' (DbType = Boolean), @p422='?', @p423='?' (DbType = DateTime), @p424='?' (DbType = Int32), @p425='?' (DbType = Int32), @p426='?' (DbType = DateTime), @p427='?' (DbType = DateTime), @p428='?' (DbType = Double), @p429='?' (DbType = Int32), @p430='?', @p431='?' (DbType = Int32), @p432='?' (DbType = Double), @p433='?' (DbType = Boolean), @p434='?', @p435='?' (DbType = DateTime), @p436='?' (DbType = Int32), @p437='?' (DbType = Int32), @p438='?' (DbType = DateTime), @p439='?' (DbType = DateTime), @p440='?' (DbType = Double), @p441='?' (DbType = Int32), @p442='?', @p443='?' (DbType = Int32), @p444='?' (DbType = Double), @p445='?' (DbType = Boolean), @p446='?', @p447='?' (DbType = DateTime), @p448='?' (DbType = Int32), @p449='?' (DbType = Int32), @p450='?' (DbType = DateTime), @p451='?' (DbType = DateTime), @p452='?' (DbType = Double), @p453='?' (DbType = Int32), @p454='?', @p455='?' (DbType = Int32), @p456='?' (DbType = Double), @p457='?' (DbType = Boolean), @p458='?', @p459='?' (DbType = DateTime), @p460='?' (DbType = Int32), @p461='?' (DbType = Int32), @p462='?' (DbType = DateTime), @p463='?' (DbType = DateTime), @p464='?' (DbType = Double), @p465='?' (DbType = Int32), @p466='?', @p467='?' (DbType = Int32), @p468='?' (DbType = Double), @p469='?' (DbType = Boolean), @p470='?', @p471='?' (DbType = DateTime), @p472='?' (DbType = Int32), @p473='?' (DbType = Int32), @p474='?' (DbType = DateTime), @p475='?' (DbType = DateTime), @p476='?' (DbType = Double), @p477='?' (DbType = Int32), @p478='?', @p479='?' (DbType = Int32), @p480='?' (DbType = Double), @p481='?' (DbType = Boolean), @p482='?', @p483='?' (DbType = DateTime), @p484='?' (DbType = Int32), @p485='?' (DbType = Int32), @p486='?' (DbType = DateTime), @p487='?' (DbType = DateTime), @p488='?' (DbType = Double), @p489='?' (DbType = Int32), @p490='?', @p491='?' (DbType = Int32), @p492='?' (DbType = Double), @p493='?' (DbType = Boolean), @p494='?', @p495='?' (DbType = DateTime), @p496='?' (DbType = Int32), @p497='?' (DbType = Int32), @p498='?' (DbType = DateTime), @p499='?' (DbType = DateTime), @p500='?' (DbType = Double), @p501='?' (DbType = Int32), @p502='?', @p503='?' (DbType = Int32), @p504='?' (DbType = Double), @p505='?' (DbType = Boolean), @p506='?', @p507='?' (DbType = DateTime), @p508='?' (DbType = Int32), @p509='?' (DbType = Int32), @p510='?' (DbType = DateTime), @p511='?' (DbType = DateTime), @p512='?' (DbType = Double), @p513='?' (DbType = Int32), @p514='?', @p515='?' (DbType = Int32), @p516='?' (DbType = Double), @p517='?' (DbType = Boolean), @p518='?', @p519='?' (DbType = DateTime), @p520='?' (DbType = Int32), @p521='?' (DbType = Int32), @p522='?' (DbType = DateTime), @p523='?' (DbType = DateTime), @p524='?' (DbType = Double), @p525='?' (DbType = Int32), @p526='?', @p527='?' (DbType = Int32), @p528='?' (DbType = Double), @p529='?' (DbType = Boolean), @p530='?', @p531='?' (DbType = DateTime), @p532='?' (DbType = Int32), @p533='?' (DbType = Int32), @p534='?' (DbType = DateTime), @p535='?' (DbType = DateTime), @p536='?' (DbType = Double), @p537='?' (DbType = Int32), @p538='?', @p539='?' (DbType = Int32), @p540='?' (DbType = Double), @p541='?' (DbType = Boolean), @p542='?', @p543='?' (DbType = DateTime), @p544='?' (DbType = Int32), @p545='?' (DbType = Int32), @p546='?' (DbType = DateTime), @p547='?' (DbType = DateTime), @p548='?' (DbType = Double), @p549='?' (DbType = Int32), @p550='?', @p551='?' (DbType = Int32), @p552='?' (DbType = Double), @p553='?' (DbType = Boolean), @p554='?', @p555='?' (DbType = DateTime), @p556='?' (DbType = Int32), @p557='?' (DbType = Int32), @p558='?' (DbType = DateTime), @p559='?' (DbType = DateTime), @p560='?' (DbType = Double), @p561='?' (DbType = Int32), @p562='?', @p563='?' (DbType = Int32), @p564='?' (DbType = Double), @p565='?' (DbType = Boolean), @p566='?', @p567='?' (DbType = DateTime), @p568='?' (DbType = Int32), @p569='?' (DbType = Int32), @p570='?' (DbType = DateTime), @p571='?' (DbType = DateTime), @p572='?' (DbType = Double), @p573='?' (DbType = Int32), @p574='?', @p575='?' (DbType = Int32), @p576='?' (DbType = Double), @p577='?' (DbType = Boolean), @p578='?', @p579='?' (DbType = DateTime), @p580='?' (DbType = Int32), @p581='?' (DbType = Int32), @p582='?' (DbType = DateTime), @p583='?' (DbType = DateTime), @p584='?' (DbType = Double), @p585='?' (DbType = Int32), @p586='?', @p587='?' (DbType = Int32), @p588='?' (DbType = Double), @p589='?' (DbType = Boolean), @p590='?', @p591='?' (DbType = DateTime), @p592='?' (DbType = Int32), @p593='?' (DbType = Int32), @p594='?' (DbType = DateTime), @p595='?' (DbType = DateTime), @p596='?' (DbType = Double), @p597='?' (DbType = Int32), @p598='?', @p599='?' (DbType = Int32), @p600='?' (DbType = Double), @p601='?' (DbType = Boolean), @p602='?', @p603='?' (DbType = DateTime), @p604='?' (DbType = Int32), @p605='?' (DbType = Int32), @p606='?' (DbType = DateTime), @p607='?' (DbType = DateTime), @p608='?' (DbType = Double), @p609='?' (DbType = Int32), @p610='?', @p611='?' (DbType = Int32), @p612='?' (DbType = Double), @p613='?' (DbType = Boolean), @p614='?', @p615='?' (DbType = DateTime), @p616='?' (DbType = Int32), @p617='?' (DbType = Int32), @p618='?' (DbType = DateTime), @p619='?' (DbType = DateTime), @p620='?' (DbType = Double), @p621='?' (DbType = Int32), @p622='?', @p623='?' (DbType = Int32), @p624='?' (DbType = Double), @p625='?' (DbType = Boolean), @p626='?', @p627='?' (DbType = DateTime), @p628='?' (DbType = Int32), @p629='?' (DbType = Int32), @p630='?' (DbType = DateTime), @p631='?' (DbType = DateTime), @p632='?' (DbType = Double), @p633='?' (DbType = Int32), @p634='?', @p635='?' (DbType = Int32), @p636='?' (DbType = Double), @p637='?' (DbType = Boolean), @p638='?', @p639='?' (DbType = DateTime), @p640='?' (DbType = Int32), @p641='?' (DbType = Int32), @p642='?' (DbType = DateTime), @p643='?' (DbType = DateTime), @p644='?' (DbType = Double), @p645='?' (DbType = Int32), @p646='?', @p647='?' (DbType = Int32), @p648='?' (DbType = Double), @p649='?' (DbType = Boolean), @p650='?', @p651='?' (DbType = DateTime), @p652='?' (DbType = Int32), @p653='?' (DbType = Int32), @p654='?' (DbType = DateTime), @p655='?' (DbType = DateTime), @p656='?' (DbType = Double), @p657='?' (DbType = Int32), @p658='?', @p659='?' (DbType = Int32), @p660='?' (DbType = Double), @p661='?' (DbType = Boolean), @p662='?', @p663='?' (DbType = DateTime), @p664='?' (DbType = Int32), @p665='?' (DbType = Int32), @p666='?' (DbType = DateTime), @p667='?' (DbType = DateTime), @p668='?' (DbType = Double), @p669='?' (DbType = Int32), @p670='?', @p671='?' (DbType = Int32), @p672='?' (DbType = Double), @p673='?' (DbType = Boolean), @p674='?', @p675='?' (DbType = DateTime), @p676='?' (DbType = Int32), @p677='?' (DbType = Int32), @p678='?' (DbType = DateTime), @p679='?' (DbType = DateTime), @p680='?' (DbType = Double), @p681='?' (DbType = Int32), @p682='?', @p683='?' (DbType = Int32), @p684='?' (DbType = Double), @p685='?' (DbType = Boolean), @p686='?', @p687='?' (DbType = DateTime), @p688='?' (DbType = Int32), @p689='?' (DbType = Int32), @p690='?' (DbType = DateTime), @p691='?' (DbType = DateTime), @p692='?' (DbType = Double), @p693='?' (DbType = Int32), @p694='?', @p695='?' (DbType = Int32), @p696='?' (DbType = Double), @p697='?' (DbType = Boolean), @p698='?', @p699='?' (DbType = DateTime), @p700='?' (DbType = Int32), @p701='?' (DbType = Int32), @p702='?' (DbType = DateTime), @p703='?' (DbType = DateTime), @p704='?' (DbType = Double), @p705='?' (DbType = Int32), @p706='?', @p707='?' (DbType = Int32), @p708='?' (DbType = Double), @p709='?' (DbType = Boolean), @p710='?', @p711='?' (DbType = DateTime), @p712='?' (DbType = Int32), @p713='?' (DbType = Int32), @p714='?' (DbType = DateTime), @p715='?' (DbType = DateTime), @p716='?' (DbType = Double), @p717='?' (DbType = Int32), @p718='?', @p719='?' (DbType = Int32), @p720='?' (DbType = Double), @p721='?' (DbType = Boolean), @p722='?', @p723='?' (DbType = DateTime), @p724='?' (DbType = Int32), @p725='?' (DbType = Int32), @p726='?' (DbType = DateTime), @p727='?' (DbType = DateTime), @p728='?' (DbType = Double), @p729='?' (DbType = Int32), @p730='?', @p731='?' (DbType = Int32), @p732='?' (DbType = Double), @p733='?' (DbType = Boolean), @p734='?', @p735='?' (DbType = DateTime), @p736='?' (DbType = Int32), @p737='?' (DbType = Int32), @p738='?' (DbType = DateTime), @p739='?' (DbType = DateTime), @p740='?' (DbType = Double), @p741='?' (DbType = Int32), @p742='?', @p743='?' (DbType = Int32), @p744='?' (DbType = Double), @p745='?' (DbType = Boolean), @p746='?', @p747='?' (DbType = DateTime), @p748='?' (DbType = Int32), @p749='?' (DbType = Int32), @p750='?' (DbType = DateTime), @p751='?' (DbType = DateTime), @p752='?' (DbType = Double), @p753='?' (DbType = Int32), @p754='?', @p755='?' (DbType = Int32), @p756='?' (DbType = Double), @p757='?' (DbType = Boolean), @p758='?', @p759='?' (DbType = DateTime), @p760='?' (DbType = Int32), @p761='?' (DbType = Int32), @p762='?' (DbType = DateTime), @p763='?' (DbType = DateTime), @p764='?' (DbType = Double), @p765='?' (DbType = Int32), @p766='?', @p767='?' (DbType = Int32), @p768='?' (DbType = Double), @p769='?' (DbType = Boolean), @p770='?', @p771='?' (DbType = DateTime), @p772='?' (DbType = Int32), @p773='?' (DbType = Int32), @p774='?' (DbType = DateTime), @p775='?' (DbType = DateTime), @p776='?' (DbType = Double), @p777='?' (DbType = Int32), @p778='?', @p779='?' (DbType = Int32), @p780='?' (DbType = Double), @p781='?' (DbType = Boolean), @p782='?', @p783='?' (DbType = DateTime), @p784='?' (DbType = Int32), @p785='?' (DbType = Int32), @p786='?' (DbType = DateTime), @p787='?' (DbType = DateTime), @p788='?' (DbType = Double), @p789='?' (DbType = Int32), @p790='?', @p791='?' (DbType = Int32), @p792='?' (DbType = Double), @p793='?' (DbType = Boolean), @p794='?', @p795='?' (DbType = DateTime), @p796='?' (DbType = Int32), @p797='?' (DbType = Int32), @p798='?' (DbType = DateTime), @p799='?' (DbType = DateTime), @p800='?' (DbType = Double), @p801='?' (DbType = Int32), @p802='?', @p803='?' (DbType = Int32), @p804='?' (DbType = Double), @p805='?' (DbType = Boolean), @p806='?', @p807='?' (DbType = DateTime), @p808='?' (DbType = Int32), @p809='?' (DbType = Int32), @p810='?' (DbType = DateTime), @p811='?' (DbType = DateTime), @p812='?' (DbType = Double), @p813='?' (DbType = Int32), @p814='?', @p815='?' (DbType = Int32), @p816='?' (DbType = Double), @p817='?' (DbType = Boolean), @p818='?', @p819='?' (DbType = DateTime), @p820='?' (DbType = Int32), @p821='?' (DbType = Int32), @p822='?' (DbType = DateTime), @p823='?' (DbType = DateTime), @p824='?' (DbType = Double), @p825='?' (DbType = Int32), @p826='?', @p827='?' (DbType = Int32), @p828='?' (DbType = Double), @p829='?' (DbType = Boolean), @p830='?', @p831='?' (DbType = DateTime), @p832='?' (DbType = Int32), @p833='?' (DbType = Int32), @p834='?' (DbType = DateTime), @p835='?' (DbType = DateTime), @p836='?' (DbType = Double), @p837='?' (DbType = Int32), @p838='?', @p839='?' (DbType = Int32), @p840='?' (DbType = Double), @p841='?' (DbType = Boolean), @p842='?', @p843='?' (DbType = DateTime), @p844='?' (DbType = Int32), @p845='?' (DbType = Int32), @p846='?' (DbType = DateTime), @p847='?' (DbType = DateTime), @p848='?' (DbType = Double), @p849='?' (DbType = Int32), @p850='?', @p851='?' (DbType = Int32), @p852='?' (DbType = Double), @p853='?' (DbType = Boolean), @p854='?', @p855='?' (DbType = DateTime), @p856='?' (DbType = Int32), @p857='?' (DbType = Int32), @p858='?' (DbType = DateTime), @p859='?' (DbType = DateTime), @p860='?' (DbType = Double), @p861='?' (DbType = Int32), @p862='?', @p863='?' (DbType = Int32), @p864='?' (DbType = Double), @p865='?' (DbType = Boolean), @p866='?', @p867='?' (DbType = DateTime), @p868='?' (DbType = Int32), @p869='?' (DbType = Int32), @p870='?' (DbType = DateTime), @p871='?' (DbType = DateTime), @p872='?' (DbType = Double), @p873='?' (DbType = Int32), @p874='?', @p875='?' (DbType = Int32), @p876='?' (DbType = Double), @p877='?' (DbType = Boolean), @p878='?', @p879='?' (DbType = DateTime), @p880='?' (DbType = Int32), @p881='?' (DbType = Int32), @p882='?' (DbType = DateTime), @p883='?' (DbType = DateTime), @p884='?' (DbType = Double), @p885='?' (DbType = Int32), @p886='?', @p887='?' (DbType = Int32), @p888='?' (DbType = Double), @p889='?' (DbType = Boolean), @p890='?', @p891='?' (DbType = DateTime), @p892='?' (DbType = Int32), @p893='?' (DbType = Int32), @p894='?' (DbType = DateTime), @p895='?' (DbType = DateTime), @p896='?' (DbType = Double), @p897='?' (DbType = Int32), @p898='?', @p899='?' (DbType = Int32), @p900='?' (DbType = Double), @p901='?' (DbType = Boolean), @p902='?', @p903='?' (DbType = DateTime), @p904='?' (DbType = Int32), @p905='?' (DbType = Int32), @p906='?' (DbType = DateTime), @p907='?' (DbType = DateTime), @p908='?' (DbType = Double), @p909='?' (DbType = Int32), @p910='?', @p911='?' (DbType = Int32), @p912='?' (DbType = Double), @p913='?' (DbType = Boolean), @p914='?', @p915='?' (DbType = DateTime), @p916='?' (DbType = Int32), @p917='?' (DbType = Int32), @p918='?' (DbType = DateTime), @p919='?' (DbType = DateTime), @p920='?' (DbType = Double), @p921='?' (DbType = Int32), @p922='?', @p923='?' (DbType = Int32), @p924='?' (DbType = Double), @p925='?' (DbType = Boolean), @p926='?', @p927='?' (DbType = DateTime), @p928='?' (DbType = Int32), @p929='?' (DbType = Int32), @p930='?' (DbType = DateTime), @p931='?' (DbType = DateTime), @p932='?' (DbType = Double), @p933='?' (DbType = Int32), @p934='?', @p935='?' (DbType = Int32), @p936='?' (DbType = Double), @p937='?' (DbType = Boolean), @p938='?', @p939='?' (DbType = DateTime), @p940='?' (DbType = Int32), @p941='?' (DbType = Int32), @p942='?' (DbType = DateTime), @p943='?' (DbType = DateTime), @p944='?' (DbType = Double), @p945='?' (DbType = Int32), @p946='?', @p947='?' (DbType = Int32), @p948='?' (DbType = Double), @p949='?' (DbType = Boolean), @p950='?', @p951='?' (DbType = DateTime), @p952='?' (DbType = Int32), @p953='?' (DbType = Int32), @p954='?' (DbType = DateTime), @p955='?' (DbType = DateTime), @p956='?' (DbType = Double), @p957='?' (DbType = Int32), @p958='?', @p959='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p540, @p541, @p542, @p543, @p544, @p545, @p546, @p547, @p548, @p549, @p550, @p551)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p552, @p553, @p554, @p555, @p556, @p557, @p558, @p559, @p560, @p561, @p562, @p563)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p564, @p565, @p566, @p567, @p568, @p569, @p570, @p571, @p572, @p573, @p574, @p575)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p576, @p577, @p578, @p579, @p580, @p581, @p582, @p583, @p584, @p585, @p586, @p587)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p588, @p589, @p590, @p591, @p592, @p593, @p594, @p595, @p596, @p597, @p598, @p599)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p600, @p601, @p602, @p603, @p604, @p605, @p606, @p607, @p608, @p609, @p610, @p611)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p612, @p613, @p614, @p615, @p616, @p617, @p618, @p619, @p620, @p621, @p622, @p623)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p624, @p625, @p626, @p627, @p628, @p629, @p630, @p631, @p632, @p633, @p634, @p635)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p636, @p637, @p638, @p639, @p640, @p641, @p642, @p643, @p644, @p645, @p646, @p647)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p648, @p649, @p650, @p651, @p652, @p653, @p654, @p655, @p656, @p657, @p658, @p659)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p660, @p661, @p662, @p663, @p664, @p665, @p666, @p667, @p668, @p669, @p670, @p671)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p672, @p673, @p674, @p675, @p676, @p677, @p678, @p679, @p680, @p681, @p682, @p683)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p684, @p685, @p686, @p687, @p688, @p689, @p690, @p691, @p692, @p693, @p694, @p695)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p696, @p697, @p698, @p699, @p700, @p701, @p702, @p703, @p704, @p705, @p706, @p707)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p708, @p709, @p710, @p711, @p712, @p713, @p714, @p715, @p716, @p717, @p718, @p719)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p720, @p721, @p722, @p723, @p724, @p725, @p726, @p727, @p728, @p729, @p730, @p731)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p732, @p733, @p734, @p735, @p736, @p737, @p738, @p739, @p740, @p741, @p742, @p743)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p744, @p745, @p746, @p747, @p748, @p749, @p750, @p751, @p752, @p753, @p754, @p755)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p756, @p757, @p758, @p759, @p760, @p761, @p762, @p763, @p764, @p765, @p766, @p767)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p768, @p769, @p770, @p771, @p772, @p773, @p774, @p775, @p776, @p777, @p778, @p779)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p780, @p781, @p782, @p783, @p784, @p785, @p786, @p787, @p788, @p789, @p790, @p791)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p792, @p793, @p794, @p795, @p796, @p797, @p798, @p799, @p800, @p801, @p802, @p803)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p804, @p805, @p806, @p807, @p808, @p809, @p810, @p811, @p812, @p813, @p814, @p815)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p816, @p817, @p818, @p819, @p820, @p821, @p822, @p823, @p824, @p825, @p826, @p827)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p828, @p829, @p830, @p831, @p832, @p833, @p834, @p835, @p836, @p837, @p838, @p839)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p840, @p841, @p842, @p843, @p844, @p845, @p846, @p847, @p848, @p849, @p850, @p851)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p852, @p853, @p854, @p855, @p856, @p857, @p858, @p859, @p860, @p861, @p862, @p863)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p864, @p865, @p866, @p867, @p868, @p869, @p870, @p871, @p872, @p873, @p874, @p875)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p876, @p877, @p878, @p879, @p880, @p881, @p882, @p883, @p884, @p885, @p886, @p887)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p888, @p889, @p890, @p891, @p892, @p893, @p894, @p895, @p896, @p897, @p898, @p899)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p900, @p901, @p902, @p903, @p904, @p905, @p906, @p907, @p908, @p909, @p910, @p911)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p912, @p913, @p914, @p915, @p916, @p917, @p918, @p919, @p920, @p921, @p922, @p923)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p924, @p925, @p926, @p927, @p928, @p929, @p930, @p931, @p932, @p933, @p934, @p935)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p936, @p937, @p938, @p939, @p940, @p941, @p942, @p943, @p944, @p945, @p946, @p947)
RETURNING id;
INSERT INTO enrollments (average_quiz_score, certificate_issued, certificate_url, completed_at, completed_lessons, course_id, enrolled_at, last_accessed_date, progress_percentage, quiz_count, student_id, total_time_spent)
VALUES (@p948, @p949, @p950, @p951, @p952, @p953, @p954, @p955, @p956, @p957, @p958, @p959)
RETURNING id;
2025-08-05 19:05:43.859 +08:00 [INF] Created 80 enrollments with realistic distribution
2025-08-05 19:05:43.922 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
WHERE e.progress_percentage >= 30.0
2025-08-05 19:05:44.000 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?', @p8='?', @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime), @p14='?' (DbType = Boolean), @p15='?' (DbType = Int32), @p16='?', @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?' (DbType = Boolean), @p24='?' (DbType = Int32), @p25='?', @p26='?', @p27='?' (DbType = DateTime), @p28='?', @p29='?', @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime), @p32='?' (DbType = Boolean), @p33='?' (DbType = Int32), @p34='?', @p35='?', @p36='?' (DbType = DateTime), @p37='?', @p38='?', @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime), @p41='?' (DbType = Boolean), @p42='?' (DbType = Int32), @p43='?', @p44='?', @p45='?' (DbType = DateTime), @p46='?', @p47='?', @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime), @p50='?' (DbType = Boolean), @p51='?' (DbType = Int32), @p52='?', @p53='?', @p54='?' (DbType = DateTime), @p55='?', @p56='?', @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime), @p59='?' (DbType = Boolean), @p60='?' (DbType = Int32), @p61='?', @p62='?', @p63='?' (DbType = DateTime), @p64='?', @p65='?', @p66='?' (DbType = Int32), @p67='?' (DbType = DateTime), @p68='?' (DbType = Boolean), @p69='?' (DbType = Int32), @p70='?', @p71='?', @p72='?' (DbType = DateTime), @p73='?', @p74='?', @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime), @p77='?' (DbType = Boolean), @p78='?' (DbType = Int32), @p79='?', @p80='?', @p81='?' (DbType = DateTime), @p82='?', @p83='?', @p84='?' (DbType = Int32), @p85='?' (DbType = DateTime), @p86='?' (DbType = Boolean), @p87='?' (DbType = Int32), @p88='?', @p89='?', @p90='?' (DbType = DateTime), @p91='?', @p92='?', @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime), @p95='?' (DbType = Boolean), @p96='?' (DbType = Int32), @p97='?', @p98='?', @p99='?' (DbType = DateTime), @p100='?', @p101='?', @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime), @p104='?' (DbType = Boolean), @p105='?' (DbType = Int32), @p106='?', @p107='?', @p108='?' (DbType = DateTime), @p109='?', @p110='?', @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime), @p113='?' (DbType = Boolean), @p114='?' (DbType = Int32), @p115='?', @p116='?', @p117='?' (DbType = DateTime), @p118='?', @p119='?', @p120='?' (DbType = Int32), @p121='?' (DbType = DateTime), @p122='?' (DbType = Boolean), @p123='?' (DbType = Int32), @p124='?', @p125='?', @p126='?' (DbType = DateTime), @p127='?', @p128='?', @p129='?' (DbType = Int32), @p130='?' (DbType = DateTime), @p131='?' (DbType = Boolean), @p132='?' (DbType = Int32), @p133='?', @p134='?', @p135='?' (DbType = DateTime), @p136='?', @p137='?', @p138='?' (DbType = Int32), @p139='?' (DbType = DateTime), @p140='?' (DbType = Boolean), @p141='?' (DbType = Int32), @p142='?', @p143='?', @p144='?' (DbType = DateTime), @p145='?', @p146='?', @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime), @p149='?' (DbType = Boolean), @p150='?' (DbType = Int32), @p151='?', @p152='?', @p153='?' (DbType = DateTime), @p154='?', @p155='?', @p156='?' (DbType = Int32), @p157='?' (DbType = DateTime), @p158='?' (DbType = Boolean), @p159='?' (DbType = Int32), @p160='?', @p161='?', @p162='?' (DbType = DateTime), @p163='?', @p164='?', @p165='?' (DbType = Int32), @p166='?' (DbType = DateTime), @p167='?' (DbType = Boolean), @p168='?' (DbType = Int32), @p169='?', @p170='?', @p171='?' (DbType = DateTime), @p172='?', @p173='?', @p174='?' (DbType = Int32), @p175='?' (DbType = DateTime), @p176='?' (DbType = Boolean), @p177='?' (DbType = Int32), @p178='?', @p179='?', @p180='?' (DbType = DateTime), @p181='?', @p182='?', @p183='?' (DbType = Int32), @p184='?' (DbType = DateTime), @p185='?' (DbType = Boolean), @p186='?' (DbType = Int32), @p187='?', @p188='?', @p189='?' (DbType = DateTime), @p190='?', @p191='?', @p192='?' (DbType = Int32), @p193='?' (DbType = DateTime), @p194='?' (DbType = Boolean), @p195='?' (DbType = Int32), @p196='?', @p197='?', @p198='?' (DbType = DateTime), @p199='?', @p200='?', @p201='?' (DbType = Int32), @p202='?' (DbType = DateTime), @p203='?' (DbType = Boolean), @p204='?' (DbType = Int32), @p205='?', @p206='?', @p207='?' (DbType = DateTime), @p208='?', @p209='?', @p210='?' (DbType = Int32), @p211='?' (DbType = DateTime), @p212='?' (DbType = Boolean), @p213='?' (DbType = Int32), @p214='?', @p215='?', @p216='?' (DbType = DateTime), @p217='?', @p218='?', @p219='?' (DbType = Int32), @p220='?' (DbType = DateTime), @p221='?' (DbType = Boolean), @p222='?' (DbType = Int32), @p223='?', @p224='?', @p225='?' (DbType = DateTime), @p226='?', @p227='?', @p228='?' (DbType = Int32), @p229='?' (DbType = DateTime), @p230='?' (DbType = Boolean), @p231='?' (DbType = Int32), @p232='?', @p233='?', @p234='?' (DbType = DateTime), @p235='?', @p236='?', @p237='?' (DbType = Int32), @p238='?' (DbType = DateTime), @p239='?' (DbType = Boolean), @p240='?' (DbType = Int32), @p241='?', @p242='?', @p243='?' (DbType = DateTime), @p244='?', @p245='?', @p246='?' (DbType = Int32), @p247='?' (DbType = DateTime), @p248='?' (DbType = Boolean), @p249='?' (DbType = Int32), @p250='?', @p251='?', @p252='?' (DbType = DateTime), @p253='?', @p254='?', @p255='?' (DbType = Int32), @p256='?' (DbType = DateTime), @p257='?' (DbType = Boolean), @p258='?' (DbType = Int32), @p259='?', @p260='?', @p261='?' (DbType = DateTime), @p262='?', @p263='?', @p264='?' (DbType = Int32), @p265='?' (DbType = DateTime), @p266='?' (DbType = Boolean), @p267='?' (DbType = Int32), @p268='?', @p269='?', @p270='?' (DbType = DateTime), @p271='?', @p272='?', @p273='?' (DbType = Int32), @p274='?' (DbType = DateTime), @p275='?' (DbType = Boolean), @p276='?' (DbType = Int32), @p277='?', @p278='?', @p279='?' (DbType = DateTime), @p280='?', @p281='?', @p282='?' (DbType = Int32), @p283='?' (DbType = DateTime), @p284='?' (DbType = Boolean), @p285='?' (DbType = Int32), @p286='?', @p287='?', @p288='?' (DbType = DateTime), @p289='?', @p290='?', @p291='?' (DbType = Int32), @p292='?' (DbType = DateTime), @p293='?' (DbType = Boolean), @p294='?' (DbType = Int32), @p295='?', @p296='?', @p297='?' (DbType = DateTime), @p298='?', @p299='?', @p300='?' (DbType = Int32), @p301='?' (DbType = DateTime), @p302='?' (DbType = Boolean), @p303='?' (DbType = Int32), @p304='?', @p305='?', @p306='?' (DbType = DateTime), @p307='?', @p308='?', @p309='?' (DbType = Int32), @p310='?' (DbType = DateTime), @p311='?' (DbType = Boolean), @p312='?' (DbType = Int32), @p313='?', @p314='?', @p315='?' (DbType = DateTime), @p316='?', @p317='?', @p318='?' (DbType = Int32), @p319='?' (DbType = DateTime), @p320='?' (DbType = Boolean), @p321='?' (DbType = Int32), @p322='?', @p323='?', @p324='?' (DbType = DateTime), @p325='?', @p326='?', @p327='?' (DbType = Int32), @p328='?' (DbType = DateTime), @p329='?' (DbType = Boolean), @p330='?' (DbType = Int32), @p331='?', @p332='?', @p333='?' (DbType = DateTime), @p334='?', @p335='?', @p336='?' (DbType = Int32), @p337='?' (DbType = DateTime), @p338='?' (DbType = Boolean), @p339='?' (DbType = Int32), @p340='?', @p341='?', @p342='?' (DbType = DateTime), @p343='?', @p344='?', @p345='?' (DbType = Int32), @p346='?' (DbType = DateTime), @p347='?' (DbType = Boolean), @p348='?' (DbType = Int32), @p349='?', @p350='?', @p351='?' (DbType = DateTime), @p352='?', @p353='?', @p354='?' (DbType = Int32), @p355='?' (DbType = DateTime), @p356='?' (DbType = Boolean), @p357='?' (DbType = Int32), @p358='?', @p359='?', @p360='?' (DbType = DateTime), @p361='?', @p362='?', @p363='?' (DbType = Int32), @p364='?' (DbType = DateTime), @p365='?' (DbType = Boolean), @p366='?' (DbType = Int32), @p367='?', @p368='?', @p369='?' (DbType = DateTime), @p370='?', @p371='?', @p372='?' (DbType = Int32), @p373='?' (DbType = DateTime), @p374='?' (DbType = Boolean), @p375='?' (DbType = Int32), @p376='?', @p377='?', @p378='?' (DbType = DateTime), @p379='?', @p380='?', @p381='?' (DbType = Int32), @p382='?' (DbType = DateTime), @p383='?' (DbType = Boolean), @p384='?' (DbType = Int32), @p385='?', @p386='?', @p387='?' (DbType = DateTime), @p388='?', @p389='?', @p390='?' (DbType = Int32), @p391='?' (DbType = DateTime), @p392='?' (DbType = Boolean), @p393='?' (DbType = Int32), @p394='?', @p395='?', @p396='?' (DbType = DateTime), @p397='?', @p398='?', @p399='?' (DbType = Int32), @p400='?' (DbType = DateTime), @p401='?' (DbType = Boolean), @p402='?' (DbType = Int32), @p403='?', @p404='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395)
RETURNING id;
INSERT INTO course_reviews (approved_at, approved_by, comment, course_id, created_at, is_flagged, rating, status, student_id)
VALUES (@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404)
RETURNING id;
2025-08-05 19:05:44.050 +08:00 [INF] Created 45 consistent reviews
2025-08-05 19:05:44.149 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
2025-08-05 19:05:44.251 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = Int32), @p9='?', @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime), @p14='?', @p15='?', @p16='?', @p17='?' (DbType = DateTime), @p18='?', @p19='?' (DbType = Int32), @p20='?', @p21='?', @p22='?' (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?', @p32='?', @p33='?' (DbType = Decimal), @p34='?' (DbType = Int32), @p35='?' (DbType = DateTime), @p36='?', @p37='?', @p38='?', @p39='?' (DbType = DateTime), @p40='?', @p41='?' (DbType = Int32), @p42='?', @p43='?', @p44='?' (DbType = Decimal), @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime), @p47='?', @p48='?', @p49='?', @p50='?' (DbType = DateTime), @p51='?', @p52='?' (DbType = Int32), @p53='?', @p54='?', @p55='?' (DbType = Decimal), @p56='?' (DbType = Int32), @p57='?' (DbType = DateTime), @p58='?', @p59='?', @p60='?', @p61='?' (DbType = DateTime), @p62='?', @p63='?' (DbType = Int32), @p64='?', @p65='?', @p66='?' (DbType = Decimal), @p67='?' (DbType = Int32), @p68='?' (DbType = DateTime), @p69='?', @p70='?', @p71='?', @p72='?' (DbType = DateTime), @p73='?', @p74='?' (DbType = Int32), @p75='?', @p76='?', @p77='?' (DbType = Decimal), @p78='?' (DbType = Int32), @p79='?' (DbType = DateTime), @p80='?', @p81='?', @p82='?', @p83='?' (DbType = DateTime), @p84='?', @p85='?' (DbType = Int32), @p86='?', @p87='?', @p88='?' (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = DateTime), @p91='?', @p92='?', @p93='?', @p94='?' (DbType = DateTime), @p95='?', @p96='?' (DbType = Int32), @p97='?', @p98='?', @p99='?' (DbType = Decimal), @p100='?' (DbType = Int32), @p101='?' (DbType = DateTime), @p102='?', @p103='?', @p104='?', @p105='?' (DbType = DateTime), @p106='?', @p107='?' (DbType = Int32), @p108='?', @p109='?', @p110='?' (DbType = Decimal), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime), @p113='?', @p114='?', @p115='?', @p116='?' (DbType = DateTime), @p117='?', @p118='?' (DbType = Int32), @p119='?', @p120='?', @p121='?' (DbType = Decimal), @p122='?' (DbType = Int32), @p123='?' (DbType = DateTime), @p124='?', @p125='?', @p126='?', @p127='?' (DbType = DateTime), @p128='?', @p129='?' (DbType = Int32), @p130='?', @p131='?', @p132='?' (DbType = Decimal), @p133='?' (DbType = Int32), @p134='?' (DbType = DateTime), @p135='?', @p136='?', @p137='?', @p138='?' (DbType = DateTime), @p139='?', @p140='?' (DbType = Int32), @p141='?', @p142='?', @p143='?' (DbType = Decimal), @p144='?' (DbType = Int32), @p145='?' (DbType = DateTime), @p146='?', @p147='?', @p148='?', @p149='?' (DbType = DateTime), @p150='?', @p151='?' (DbType = Int32), @p152='?', @p153='?', @p154='?' (DbType = Decimal), @p155='?' (DbType = Int32), @p156='?' (DbType = DateTime), @p157='?', @p158='?', @p159='?', @p160='?' (DbType = DateTime), @p161='?', @p162='?' (DbType = Int32), @p163='?', @p164='?', @p165='?' (DbType = Decimal), @p166='?' (DbType = Int32), @p167='?' (DbType = DateTime), @p168='?', @p169='?', @p170='?', @p171='?' (DbType = DateTime), @p172='?', @p173='?' (DbType = Int32), @p174='?', @p175='?', @p176='?' (DbType = Decimal), @p177='?' (DbType = Int32), @p178='?' (DbType = DateTime), @p179='?', @p180='?', @p181='?', @p182='?' (DbType = DateTime), @p183='?', @p184='?' (DbType = Int32), @p185='?', @p186='?', @p187='?' (DbType = Decimal), @p188='?' (DbType = Int32), @p189='?' (DbType = DateTime), @p190='?', @p191='?', @p192='?', @p193='?' (DbType = DateTime), @p194='?', @p195='?' (DbType = Int32), @p196='?', @p197='?', @p198='?' (DbType = Decimal), @p199='?' (DbType = Int32), @p200='?' (DbType = DateTime), @p201='?', @p202='?', @p203='?', @p204='?' (DbType = DateTime), @p205='?', @p206='?' (DbType = Int32), @p207='?', @p208='?', @p209='?' (DbType = Decimal), @p210='?' (DbType = Int32), @p211='?' (DbType = DateTime), @p212='?', @p213='?', @p214='?', @p215='?' (DbType = DateTime), @p216='?', @p217='?' (DbType = Int32), @p218='?', @p219='?', @p220='?' (DbType = Decimal), @p221='?' (DbType = Int32), @p222='?' (DbType = DateTime), @p223='?', @p224='?', @p225='?', @p226='?' (DbType = DateTime), @p227='?', @p228='?' (DbType = Int32), @p229='?', @p230='?', @p231='?' (DbType = Decimal), @p232='?' (DbType = Int32), @p233='?' (DbType = DateTime), @p234='?', @p235='?', @p236='?', @p237='?' (DbType = DateTime), @p238='?', @p239='?' (DbType = Int32), @p240='?', @p241='?', @p242='?' (DbType = Decimal), @p243='?' (DbType = Int32), @p244='?' (DbType = DateTime), @p245='?', @p246='?', @p247='?', @p248='?' (DbType = DateTime), @p249='?', @p250='?' (DbType = Int32), @p251='?', @p252='?', @p253='?' (DbType = Decimal), @p254='?' (DbType = Int32), @p255='?' (DbType = DateTime), @p256='?', @p257='?', @p258='?', @p259='?' (DbType = DateTime), @p260='?', @p261='?' (DbType = Int32), @p262='?', @p263='?', @p264='?' (DbType = Decimal), @p265='?' (DbType = Int32), @p266='?' (DbType = DateTime), @p267='?', @p268='?', @p269='?', @p270='?' (DbType = DateTime), @p271='?', @p272='?' (DbType = Int32), @p273='?', @p274='?', @p275='?' (DbType = Decimal), @p276='?' (DbType = Int32), @p277='?' (DbType = DateTime), @p278='?', @p279='?', @p280='?', @p281='?' (DbType = DateTime), @p282='?', @p283='?' (DbType = Int32), @p284='?', @p285='?', @p286='?' (DbType = Decimal), @p287='?' (DbType = Int32), @p288='?' (DbType = DateTime), @p289='?', @p290='?', @p291='?', @p292='?' (DbType = DateTime), @p293='?', @p294='?' (DbType = Int32), @p295='?', @p296='?', @p297='?' (DbType = Decimal), @p298='?' (DbType = Int32), @p299='?' (DbType = DateTime), @p300='?', @p301='?', @p302='?', @p303='?' (DbType = DateTime), @p304='?', @p305='?' (DbType = Int32), @p306='?', @p307='?', @p308='?' (DbType = Decimal), @p309='?' (DbType = Int32), @p310='?' (DbType = DateTime), @p311='?', @p312='?', @p313='?', @p314='?' (DbType = DateTime), @p315='?', @p316='?' (DbType = Int32), @p317='?', @p318='?', @p319='?' (DbType = Decimal), @p320='?' (DbType = Int32), @p321='?' (DbType = DateTime), @p322='?', @p323='?', @p324='?', @p325='?' (DbType = DateTime), @p326='?', @p327='?' (DbType = Int32), @p328='?', @p329='?', @p330='?' (DbType = Decimal), @p331='?' (DbType = Int32), @p332='?' (DbType = DateTime), @p333='?', @p334='?', @p335='?', @p336='?' (DbType = DateTime), @p337='?', @p338='?' (DbType = Int32), @p339='?', @p340='?', @p341='?' (DbType = Decimal), @p342='?' (DbType = Int32), @p343='?' (DbType = DateTime), @p344='?', @p345='?', @p346='?', @p347='?' (DbType = DateTime), @p348='?', @p349='?' (DbType = Int32), @p350='?', @p351='?', @p352='?' (DbType = Decimal), @p353='?' (DbType = Int32), @p354='?' (DbType = DateTime), @p355='?', @p356='?', @p357='?', @p358='?' (DbType = DateTime), @p359='?', @p360='?' (DbType = Int32), @p361='?', @p362='?', @p363='?' (DbType = Decimal), @p364='?' (DbType = Int32), @p365='?' (DbType = DateTime), @p366='?', @p367='?', @p368='?', @p369='?' (DbType = DateTime), @p370='?', @p371='?' (DbType = Int32), @p372='?', @p373='?', @p374='?' (DbType = Decimal), @p375='?' (DbType = Int32), @p376='?' (DbType = DateTime), @p377='?', @p378='?', @p379='?', @p380='?' (DbType = DateTime), @p381='?', @p382='?' (DbType = Int32), @p383='?', @p384='?', @p385='?' (DbType = Decimal), @p386='?' (DbType = Int32), @p387='?' (DbType = DateTime), @p388='?', @p389='?', @p390='?', @p391='?' (DbType = DateTime), @p392='?', @p393='?' (DbType = Int32), @p394='?', @p395='?', @p396='?' (DbType = Decimal), @p397='?' (DbType = Int32), @p398='?' (DbType = DateTime), @p399='?', @p400='?', @p401='?', @p402='?' (DbType = DateTime), @p403='?', @p404='?' (DbType = Int32), @p405='?', @p406='?', @p407='?' (DbType = Decimal), @p408='?' (DbType = Int32), @p409='?' (DbType = DateTime), @p410='?', @p411='?', @p412='?', @p413='?' (DbType = DateTime), @p414='?', @p415='?' (DbType = Int32), @p416='?', @p417='?', @p418='?' (DbType = Decimal), @p419='?' (DbType = Int32), @p420='?' (DbType = DateTime), @p421='?', @p422='?', @p423='?', @p424='?' (DbType = DateTime), @p425='?', @p426='?' (DbType = Int32), @p427='?', @p428='?', @p429='?' (DbType = Decimal), @p430='?' (DbType = Int32), @p431='?' (DbType = DateTime), @p432='?', @p433='?', @p434='?', @p435='?' (DbType = DateTime), @p436='?', @p437='?' (DbType = Int32), @p438='?', @p439='?', @p440='?' (DbType = Decimal), @p441='?' (DbType = Int32), @p442='?' (DbType = DateTime), @p443='?', @p444='?', @p445='?', @p446='?' (DbType = DateTime), @p447='?', @p448='?' (DbType = Int32), @p449='?', @p450='?', @p451='?' (DbType = Decimal), @p452='?' (DbType = Int32), @p453='?' (DbType = DateTime), @p454='?', @p455='?', @p456='?', @p457='?' (DbType = DateTime), @p458='?', @p459='?' (DbType = Int32), @p460='?', @p461='?', @p462='?' (DbType = Decimal), @p463='?' (DbType = Int32), @p464='?' (DbType = DateTime), @p465='?', @p466='?', @p467='?', @p468='?' (DbType = DateTime), @p469='?', @p470='?' (DbType = Int32), @p471='?', @p472='?', @p473='?' (DbType = Decimal), @p474='?' (DbType = Int32), @p475='?' (DbType = DateTime), @p476='?', @p477='?', @p478='?', @p479='?' (DbType = DateTime), @p480='?', @p481='?' (DbType = Int32), @p482='?', @p483='?', @p484='?' (DbType = Decimal), @p485='?' (DbType = Int32), @p486='?' (DbType = DateTime), @p487='?', @p488='?', @p489='?', @p490='?' (DbType = DateTime), @p491='?', @p492='?' (DbType = Int32), @p493='?', @p494='?', @p495='?' (DbType = Decimal), @p496='?' (DbType = Int32), @p497='?' (DbType = DateTime), @p498='?', @p499='?', @p500='?', @p501='?' (DbType = DateTime), @p502='?', @p503='?' (DbType = Int32), @p504='?', @p505='?', @p506='?' (DbType = Decimal), @p507='?' (DbType = Int32), @p508='?' (DbType = DateTime), @p509='?', @p510='?', @p511='?', @p512='?' (DbType = DateTime), @p513='?', @p514='?' (DbType = Int32), @p515='?', @p516='?', @p517='?' (DbType = Decimal), @p518='?' (DbType = Int32), @p519='?' (DbType = DateTime), @p520='?', @p521='?', @p522='?', @p523='?' (DbType = DateTime), @p524='?', @p525='?' (DbType = Int32), @p526='?', @p527='?', @p528='?' (DbType = Decimal), @p529='?' (DbType = Int32), @p530='?' (DbType = DateTime), @p531='?', @p532='?', @p533='?', @p534='?' (DbType = DateTime), @p535='?', @p536='?' (DbType = Int32), @p537='?', @p538='?', @p539='?' (DbType = Decimal), @p540='?' (DbType = Int32), @p541='?' (DbType = DateTime), @p542='?', @p543='?', @p544='?', @p545='?' (DbType = DateTime), @p546='?', @p547='?' (DbType = Int32), @p548='?', @p549='?', @p550='?' (DbType = Decimal), @p551='?' (DbType = Int32), @p552='?' (DbType = DateTime), @p553='?', @p554='?', @p555='?', @p556='?' (DbType = DateTime), @p557='?', @p558='?' (DbType = Int32), @p559='?', @p560='?', @p561='?' (DbType = Decimal), @p562='?' (DbType = Int32), @p563='?' (DbType = DateTime), @p564='?', @p565='?', @p566='?', @p567='?' (DbType = DateTime), @p568='?', @p569='?' (DbType = Int32), @p570='?', @p571='?', @p572='?' (DbType = Decimal), @p573='?' (DbType = Int32), @p574='?' (DbType = DateTime), @p575='?', @p576='?', @p577='?', @p578='?' (DbType = DateTime), @p579='?', @p580='?' (DbType = Int32), @p581='?', @p582='?', @p583='?' (DbType = Decimal), @p584='?' (DbType = Int32), @p585='?' (DbType = DateTime), @p586='?', @p587='?', @p588='?', @p589='?' (DbType = DateTime), @p590='?', @p591='?' (DbType = Int32), @p592='?', @p593='?', @p594='?' (DbType = Decimal), @p595='?' (DbType = Int32), @p596='?' (DbType = DateTime), @p597='?', @p598='?', @p599='?', @p600='?' (DbType = DateTime), @p601='?', @p602='?' (DbType = Int32), @p603='?', @p604='?', @p605='?' (DbType = Decimal), @p606='?' (DbType = Int32), @p607='?' (DbType = DateTime), @p608='?', @p609='?', @p610='?', @p611='?' (DbType = DateTime), @p612='?', @p613='?' (DbType = Int32), @p614='?', @p615='?', @p616='?' (DbType = Decimal), @p617='?' (DbType = Int32), @p618='?' (DbType = DateTime), @p619='?', @p620='?', @p621='?', @p622='?' (DbType = DateTime), @p623='?', @p624='?' (DbType = Int32), @p625='?', @p626='?', @p627='?' (DbType = Decimal), @p628='?' (DbType = Int32), @p629='?' (DbType = DateTime), @p630='?', @p631='?', @p632='?', @p633='?' (DbType = DateTime), @p634='?', @p635='?' (DbType = Int32), @p636='?', @p637='?', @p638='?' (DbType = Decimal), @p639='?' (DbType = Int32), @p640='?' (DbType = DateTime), @p641='?', @p642='?', @p643='?', @p644='?' (DbType = DateTime), @p645='?', @p646='?' (DbType = Int32), @p647='?', @p648='?', @p649='?' (DbType = Decimal), @p650='?' (DbType = Int32), @p651='?' (DbType = DateTime), @p652='?', @p653='?', @p654='?', @p655='?' (DbType = DateTime), @p656='?', @p657='?' (DbType = Int32), @p658='?', @p659='?', @p660='?' (DbType = Decimal), @p661='?' (DbType = Int32), @p662='?' (DbType = DateTime), @p663='?', @p664='?', @p665='?', @p666='?' (DbType = DateTime), @p667='?', @p668='?' (DbType = Int32), @p669='?', @p670='?', @p671='?' (DbType = Decimal), @p672='?' (DbType = Int32), @p673='?' (DbType = DateTime), @p674='?', @p675='?', @p676='?', @p677='?' (DbType = DateTime), @p678='?', @p679='?' (DbType = Int32), @p680='?', @p681='?', @p682='?' (DbType = Decimal), @p683='?' (DbType = Int32), @p684='?' (DbType = DateTime), @p685='?', @p686='?', @p687='?', @p688='?' (DbType = DateTime), @p689='?', @p690='?' (DbType = Int32), @p691='?', @p692='?', @p693='?' (DbType = Decimal), @p694='?' (DbType = Int32), @p695='?' (DbType = DateTime), @p696='?', @p697='?', @p698='?', @p699='?' (DbType = DateTime), @p700='?', @p701='?' (DbType = Int32), @p702='?', @p703='?', @p704='?' (DbType = Decimal), @p705='?' (DbType = Int32), @p706='?' (DbType = DateTime), @p707='?', @p708='?', @p709='?', @p710='?' (DbType = DateTime), @p711='?', @p712='?' (DbType = Int32), @p713='?', @p714='?', @p715='?' (DbType = Decimal), @p716='?' (DbType = Int32), @p717='?' (DbType = DateTime), @p718='?', @p719='?', @p720='?', @p721='?' (DbType = DateTime), @p722='?', @p723='?' (DbType = Int32), @p724='?', @p725='?', @p726='?' (DbType = Decimal), @p727='?' (DbType = Int32), @p728='?' (DbType = DateTime), @p729='?', @p730='?', @p731='?', @p732='?' (DbType = DateTime), @p733='?', @p734='?' (DbType = Int32), @p735='?', @p736='?', @p737='?' (DbType = Decimal), @p738='?' (DbType = Int32), @p739='?' (DbType = DateTime), @p740='?', @p741='?', @p742='?', @p743='?' (DbType = DateTime), @p744='?', @p745='?' (DbType = Int32), @p746='?', @p747='?', @p748='?' (DbType = Decimal), @p749='?' (DbType = Int32), @p750='?' (DbType = DateTime), @p751='?', @p752='?', @p753='?', @p754='?' (DbType = DateTime), @p755='?', @p756='?' (DbType = Int32), @p757='?', @p758='?', @p759='?' (DbType = Decimal), @p760='?' (DbType = Int32), @p761='?' (DbType = DateTime), @p762='?', @p763='?', @p764='?', @p765='?' (DbType = DateTime), @p766='?', @p767='?' (DbType = Int32), @p768='?', @p769='?', @p770='?' (DbType = Decimal), @p771='?' (DbType = Int32), @p772='?' (DbType = DateTime), @p773='?', @p774='?', @p775='?', @p776='?' (DbType = DateTime), @p777='?', @p778='?' (DbType = Int32), @p779='?', @p780='?', @p781='?' (DbType = Decimal), @p782='?' (DbType = Int32), @p783='?' (DbType = DateTime), @p784='?', @p785='?', @p786='?', @p787='?' (DbType = DateTime), @p788='?', @p789='?' (DbType = Int32), @p790='?', @p791='?', @p792='?' (DbType = Decimal), @p793='?' (DbType = Int32), @p794='?' (DbType = DateTime), @p795='?', @p796='?', @p797='?', @p798='?' (DbType = DateTime), @p799='?', @p800='?' (DbType = Int32), @p801='?', @p802='?', @p803='?' (DbType = Decimal), @p804='?' (DbType = Int32), @p805='?' (DbType = DateTime), @p806='?', @p807='?', @p808='?', @p809='?' (DbType = DateTime), @p810='?', @p811='?' (DbType = Int32), @p812='?', @p813='?', @p814='?' (DbType = Decimal), @p815='?' (DbType = Int32), @p816='?' (DbType = DateTime), @p817='?', @p818='?', @p819='?', @p820='?' (DbType = DateTime), @p821='?', @p822='?' (DbType = Int32), @p823='?', @p824='?', @p825='?' (DbType = Decimal), @p826='?' (DbType = Int32), @p827='?' (DbType = DateTime), @p828='?', @p829='?', @p830='?', @p831='?' (DbType = DateTime), @p832='?', @p833='?' (DbType = Int32), @p834='?', @p835='?', @p836='?' (DbType = Decimal), @p837='?' (DbType = Int32), @p838='?' (DbType = DateTime), @p839='?', @p840='?', @p841='?', @p842='?' (DbType = DateTime), @p843='?', @p844='?' (DbType = Int32), @p845='?', @p846='?', @p847='?' (DbType = Decimal), @p848='?' (DbType = Int32), @p849='?' (DbType = DateTime), @p850='?', @p851='?', @p852='?', @p853='?' (DbType = DateTime), @p854='?', @p855='?' (DbType = Int32), @p856='?', @p857='?', @p858='?' (DbType = Decimal), @p859='?' (DbType = Int32), @p860='?' (DbType = DateTime), @p861='?', @p862='?', @p863='?', @p864='?' (DbType = DateTime), @p865='?', @p866='?' (DbType = Int32), @p867='?', @p868='?', @p869='?' (DbType = Decimal), @p870='?' (DbType = Int32), @p871='?' (DbType = DateTime), @p872='?', @p873='?', @p874='?', @p875='?' (DbType = DateTime), @p876='?', @p877='?' (DbType = Int32), @p878='?', @p879='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, @p252)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, @p516)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p539, @p540, @p541, @p542, @p543, @p544, @p545, @p546, @p547, @p548, @p549)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p550, @p551, @p552, @p553, @p554, @p555, @p556, @p557, @p558, @p559, @p560)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p561, @p562, @p563, @p564, @p565, @p566, @p567, @p568, @p569, @p570, @p571)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p572, @p573, @p574, @p575, @p576, @p577, @p578, @p579, @p580, @p581, @p582)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p583, @p584, @p585, @p586, @p587, @p588, @p589, @p590, @p591, @p592, @p593)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p594, @p595, @p596, @p597, @p598, @p599, @p600, @p601, @p602, @p603, @p604)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p605, @p606, @p607, @p608, @p609, @p610, @p611, @p612, @p613, @p614, @p615)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p616, @p617, @p618, @p619, @p620, @p621, @p622, @p623, @p624, @p625, @p626)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p627, @p628, @p629, @p630, @p631, @p632, @p633, @p634, @p635, @p636, @p637)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p638, @p639, @p640, @p641, @p642, @p643, @p644, @p645, @p646, @p647, @p648)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p649, @p650, @p651, @p652, @p653, @p654, @p655, @p656, @p657, @p658, @p659)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p660, @p661, @p662, @p663, @p664, @p665, @p666, @p667, @p668, @p669, @p670)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p671, @p672, @p673, @p674, @p675, @p676, @p677, @p678, @p679, @p680, @p681)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p682, @p683, @p684, @p685, @p686, @p687, @p688, @p689, @p690, @p691, @p692)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p693, @p694, @p695, @p696, @p697, @p698, @p699, @p700, @p701, @p702, @p703)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p704, @p705, @p706, @p707, @p708, @p709, @p710, @p711, @p712, @p713, @p714)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p715, @p716, @p717, @p718, @p719, @p720, @p721, @p722, @p723, @p724, @p725)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p726, @p727, @p728, @p729, @p730, @p731, @p732, @p733, @p734, @p735, @p736)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p737, @p738, @p739, @p740, @p741, @p742, @p743, @p744, @p745, @p746, @p747)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p748, @p749, @p750, @p751, @p752, @p753, @p754, @p755, @p756, @p757, @p758)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p759, @p760, @p761, @p762, @p763, @p764, @p765, @p766, @p767, @p768, @p769)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p770, @p771, @p772, @p773, @p774, @p775, @p776, @p777, @p778, @p779, @p780)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p781, @p782, @p783, @p784, @p785, @p786, @p787, @p788, @p789, @p790, @p791)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p792, @p793, @p794, @p795, @p796, @p797, @p798, @p799, @p800, @p801, @p802)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p803, @p804, @p805, @p806, @p807, @p808, @p809, @p810, @p811, @p812, @p813)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p814, @p815, @p816, @p817, @p818, @p819, @p820, @p821, @p822, @p823, @p824)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p825, @p826, @p827, @p828, @p829, @p830, @p831, @p832, @p833, @p834, @p835)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p836, @p837, @p838, @p839, @p840, @p841, @p842, @p843, @p844, @p845, @p846)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p847, @p848, @p849, @p850, @p851, @p852, @p853, @p854, @p855, @p856, @p857)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p858, @p859, @p860, @p861, @p862, @p863, @p864, @p865, @p866, @p867, @p868)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p869, @p870, @p871, @p872, @p873, @p874, @p875, @p876, @p877, @p878, @p879)
RETURNING id;
2025-08-05 19:05:44.288 +08:00 [INF] Created 80 payment records for all enrollments
2025-08-05 19:05:44.307 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
2025-08-05 19:05:44.320 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Status" = 'Active'
2025-08-05 19:05:44.348 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__student_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__student_Id_0 AND s.status = 'Active')
2025-08-05 19:05:44.412 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__instructor_Id_0 AND s.status = 'Active')
2025-08-05 19:05:44.417 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__instructor_Id_0 AND s.status = 'Active')
2025-08-05 19:05:44.424 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__instructor_Id_0 AND s.status = 'Active')
2025-08-05 19:05:44.495 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Decimal), @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?' (DbType = DateTime), @p27='?' (DbType = DateTime), @p28='?', @p29='?' (DbType = Decimal), @p30='?' (DbType = DateTime), @p31='?', @p32='?', @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?' (DbType = DateTime), @p39='?' (DbType = DateTime), @p40='?', @p41='?' (DbType = Decimal), @p42='?' (DbType = DateTime), @p43='?', @p44='?', @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime), @p47='?', @p48='?', @p49='?' (DbType = DateTime), @p50='?' (DbType = DateTime), @p51='?' (DbType = DateTime), @p52='?', @p53='?' (DbType = Decimal), @p54='?' (DbType = DateTime), @p55='?', @p56='?', @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime), @p59='?', @p60='?', @p61='?' (DbType = DateTime), @p62='?' (DbType = DateTime), @p63='?' (DbType = DateTime), @p64='?', @p65='?' (DbType = Decimal), @p66='?' (DbType = DateTime), @p67='?', @p68='?', @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime), @p71='?', @p72='?', @p73='?' (DbType = DateTime), @p74='?' (DbType = DateTime), @p75='?' (DbType = DateTime), @p76='?', @p77='?' (DbType = Decimal), @p78='?' (DbType = DateTime), @p79='?', @p80='?', @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime), @p83='?', @p84='?', @p85='?' (DbType = DateTime), @p86='?' (DbType = DateTime), @p87='?' (DbType = DateTime), @p88='?', @p89='?' (DbType = Decimal), @p90='?' (DbType = DateTime), @p91='?', @p92='?', @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime), @p95='?', @p96='?', @p97='?' (DbType = DateTime), @p98='?' (DbType = DateTime), @p99='?' (DbType = DateTime), @p100='?', @p101='?' (DbType = Decimal), @p102='?' (DbType = DateTime), @p103='?', @p104='?', @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime), @p107='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107)
RETURNING id;
2025-08-05 19:05:44.529 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = Int32), @p9='?', @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime), @p14='?', @p15='?', @p16='?', @p17='?' (DbType = DateTime), @p18='?', @p19='?' (DbType = Int32), @p20='?', @p21='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21)
RETURNING id;
2025-08-05 19:05:44.535 +08:00 [INF] Created active subscriptions and payments for users
2025-08-05 19:05:44.536 +08:00 [INF] Consistent data seeding completed
2025-08-05 19:05:44.541 +08:00 [INF] Database seeding completed successfully!
2025-08-05 19:05:44.651 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName" AS "Name", a."Email", (
    SELECT count(*)::int
    FROM courses AS c
    WHERE c.instructor_id = a."Id") AS "CourseCount", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c0 ON e.course_id = c0.id
    WHERE c0.instructor_id = a."Id") AS "StudentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c1 ON t.course_id = c1.id
    WHERE c1.instructor_id = a."Id" AND t.status = 'Completed') AS "Revenue", COALESCE((
    SELECT avg(c2.rating::double precision)
    FROM course_reviews AS c2
    INNER JOIN courses AS c3 ON c2.course_id = c3.id
    WHERE c3.instructor_id = a."Id"), 0.0) AS "AvgRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
2025-08-05 19:05:44.658 +08:00 [INF] === Seeding Summary ===
2025-08-05 19:05:44.672 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Student'
2025-08-05 19:05:44.678 +08:00 [INF] Total Students: 5
2025-08-05 19:05:44.684 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
2025-08-05 19:05:44.688 +08:00 [INF] Total Instructors: 5
2025-08-05 19:05:44.695 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 19:05:44.698 +08:00 [INF] Total Courses: 16
2025-08-05 19:05:44.705 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 19:05:44.709 +08:00 [INF] Total Enrollments: 80
2025-08-05 19:05:44.718 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 19:05:44.721 +08:00 [INF] Total Payments: 82
2025-08-05 19:05:44.742 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 19:05:44.750 +08:00 [INF] Total Revenue: $8219.18
2025-08-05 19:05:44.755 +08:00 [INF] 
Instructor: Dr. Sarah Johnson (instructor@example.com)
2025-08-05 19:05:44.758 +08:00 [INF]   Courses: 5
2025-08-05 19:05:44.760 +08:00 [INF]   Students: 25
2025-08-05 19:05:44.762 +08:00 [INF]   Revenue: $2949.75
2025-08-05 19:05:44.766 +08:00 [INF]   Creator Earnings (80%): $2359.80
2025-08-05 19:05:44.767 +08:00 [INF]   Platform Share (20%): $589.95
2025-08-05 19:05:44.768 +08:00 [INF]   Average Rating: 4.94
2025-08-05 19:05:44.770 +08:00 [INF] 
Instructor: Emily Davis (emily.davis@example.com)
2025-08-05 19:05:44.771 +08:00 [INF]   Courses: 6
2025-08-05 19:05:44.773 +08:00 [INF]   Students: 30
2025-08-05 19:05:44.774 +08:00 [INF]   Revenue: $2599.70
2025-08-05 19:05:44.775 +08:00 [INF]   Creator Earnings (80%): $2079.76
2025-08-05 19:05:44.776 +08:00 [INF]   Platform Share (20%): $519.94
2025-08-05 19:05:44.778 +08:00 [INF]   Average Rating: 4.62
2025-08-05 19:05:44.782 +08:00 [INF] 
Instructor: Prof. Michael Chen (michael.chen@example.com)
2025-08-05 19:05:44.785 +08:00 [INF]   Courses: 5
2025-08-05 19:05:44.786 +08:00 [INF]   Students: 25
2025-08-05 19:05:44.787 +08:00 [INF]   Revenue: $2549.75
2025-08-05 19:05:44.789 +08:00 [INF]   Creator Earnings (80%): $2039.80
2025-08-05 19:05:44.790 +08:00 [INF]   Platform Share (20%): $509.95
2025-08-05 19:05:44.791 +08:00 [INF]   Average Rating: 4.80
2025-08-05 19:05:44.792 +08:00 [INF] 
Instructor: Dr. James Wilson (pending.instructor1@example.com)
2025-08-05 19:05:44.793 +08:00 [INF]   Courses: 0
2025-08-05 19:05:44.794 +08:00 [INF]   Students: 0
2025-08-05 19:05:44.796 +08:00 [INF]   Revenue: $0.00
2025-08-05 19:05:44.797 +08:00 [INF]   Creator Earnings (80%): $0.00
2025-08-05 19:05:44.799 +08:00 [INF]   Platform Share (20%): $0.00
2025-08-05 19:05:44.800 +08:00 [INF]   Average Rating: 0.00
2025-08-05 19:05:44.802 +08:00 [INF] 
Instructor: Prof. Lisa Chen (pending.instructor2@example.com)
2025-08-05 19:05:44.803 +08:00 [INF]   Courses: 0
2025-08-05 19:05:44.804 +08:00 [INF]   Students: 0
2025-08-05 19:05:44.805 +08:00 [INF]   Revenue: $0.00
2025-08-05 19:05:44.806 +08:00 [INF]   Creator Earnings (80%): $0.00
2025-08-05 19:05:44.807 +08:00 [INF]   Platform Share (20%): $0.00
2025-08-05 19:05:44.809 +08:00 [INF]   Average Rating: 0.00
2025-08-05 19:05:44.810 +08:00 [INF] Data seeding completed.
2025-08-05 19:05:44.849 +08:00 [INF] Creating key {3735b514-6fe1-4e2e-b01a-6f504b784781} with creation date 2025-08-05 11:05:44Z, activation date 2025-08-05 11:05:44Z, and expiration date 2025-11-03 11:05:44Z.
2025-08-05 19:05:44.895 +08:00 [INF] Writing data to file 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys\key-3735b514-6fe1-4e2e-b01a-6f504b784781.xml'.
2025-08-05 19:05:45.037 +08:00 [INF] Now listening on: http://localhost:5294
2025-08-05 19:05:45.039 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-05 19:05:45.040 +08:00 [INF] Hosting environment: Development
2025-08-05 19:05:45.286 +08:00 [INF] Content root path: C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api
2025-08-05 19:07:01.521 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/ - null null
2025-08-05 19:07:01.626 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-05 19:07:01.693 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/ - 404 0 null 174.8016ms
2025-08-05 19:07:01.703 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/, Response status code: 404
2025-08-05 19:07:06.105 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger - null null
2025-08-05 19:07:06.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger - 301 0 null 7.7387ms
2025-08-05 19:07:06.128 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/index.html - null null
2025-08-05 19:07:06.195 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/index.html - 200 null text/html;charset=utf-8 66.9514ms
2025-08-05 19:07:06.267 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/swagger-ui.css - null null
2025-08-05 19:07:06.271 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/index.css - null null
2025-08-05 19:07:06.274 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/swagger-ui-bundle.js - null null
2025-08-05 19:07:06.276 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/swagger-ui-standalone-preset.js - null null
2025-08-05 19:07:06.276 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/index.js - null null
2025-08-05 19:07:06.288 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/index.css - 200 202 text/css 16.9248ms
2025-08-05 19:07:06.289 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/index.js - 200 null application/javascript;charset=utf-8 12.5529ms
2025-08-05 19:07:06.305 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 28.3897ms
2025-08-05 19:07:06.305 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/swagger-ui.css - 200 155175 text/css 37.9034ms
2025-08-05 19:07:06.328 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/swagger-ui-bundle.js - 200 1485750 text/javascript 54.171ms
2025-08-05 19:07:06.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - null null
2025-08-05 19:07:06.557 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/favicon-32x32.png - null null
2025-08-05 19:07:06.562 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/favicon-32x32.png - 200 628 image/png 5.3193ms
2025-08-05 19:07:06.721 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 187.3131ms
2025-08-05 19:08:22.787 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 19:08:22.787 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 19:08:22.795 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:22.802 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:22.806 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 18.8857ms
2025-08-05 19:08:22.807 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 19.2333ms
2025-08-05 19:08:22.814 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 19:08:22.818 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 19:08:22.822 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:22.826 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:22.830 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:08:22.838 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 19:08:22.844 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 19:08:22.847 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 28.5891ms
2025-08-05 19:08:22.858 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 19:08:23.169 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-05 19:08:23.390 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 19:08:23.663 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 19:08:23.704 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 838.9187ms
2025-08-05 19:08:23.706 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:08:23.711 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 897.2803ms
2025-08-05 19:08:36.142 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 19:08:36.140 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 19:08:36.147 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:36.158 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:36.159 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 17.187ms
2025-08-05 19:08:36.160 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 20.9635ms
2025-08-05 19:08:36.165 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 19:08:36.169 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 19:08:36.174 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:36.177 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:08:36.179 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:08:36.192 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 19:08:36.195 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 19:08:36.210 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 19:08:36.215 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 46.2681ms
2025-08-05 19:08:36.384 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 19:08:36.567 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 19:08:36.570 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 357.1859ms
2025-08-05 19:08:36.572 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:08:36.575 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 410.1845ms
2025-08-05 19:48:16.471 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 19:48:16.472 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 19:48:16.475 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:48:16.477 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:48:16.478 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 6.901ms
2025-08-05 19:48:16.479 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 7.3902ms
2025-08-05 19:48:16.483 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 19:48:16.486 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 19:48:16.489 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:48:16.494 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:48:16.497 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:48:16.500 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 19:48:16.500 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 19:48:16.506 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 19:48:16.508 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 25.3937ms
2025-08-05 19:48:16.586 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 19:48:16.691 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 19:48:16.694 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 189.3031ms
2025-08-05 19:48:16.696 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:48:16.697 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 210.5952ms
2025-08-05 19:49:39.223 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 19:49:39.227 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:49:39.229 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 5.8619ms
2025-08-05 19:49:39.234 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 51
2025-08-05 19:49:39.241 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:49:39.242 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 19:49:39.247 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 19:49:39.265 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 19:49:39.385 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 19:49:39.392 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 19:49:39.395 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 145.1529ms
2025-08-05 19:49:39.397 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 19:49:39.399 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 164.778ms
2025-08-05 19:49:39.442 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 19:49:39.443 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 19:49:39.445 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:49:39.451 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:49:39.455 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 12.8708ms
2025-08-05 19:49:39.456 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 13.4098ms
2025-08-05 19:49:39.486 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 19:49:39.486 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 19:49:39.514 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:49:39.518 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:49:39.609 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 19:49:39.611 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:49:39.613 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 19:49:39.626 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 19:49:39.685 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 19:49:39.691 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 19:49:39.696 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 19:49:39.708 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 19:49:39.713 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 19:49:39.717 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 19:49:39.721 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 19:49:39.744 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 19:49:39.765 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 19:49:39.767 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 151.6297ms
2025-08-05 19:49:39.768 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 19:49:39.770 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 283.8785ms
2025-08-05 19:49:39.779 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 19:49:39.795 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 19:49:39.806 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 19:49:39.812 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 19:49:39.822 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 19:49:39.826 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 19:49:39.841 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 143.033ms
2025-08-05 19:49:39.843 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 19:49:39.845 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 359.0602ms
2025-08-05 19:52:00.837 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 19:52:00.840 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:52:00.841 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 3.9851ms
2025-08-05 19:52:00.846 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 19:52:00.851 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:52:00.864 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 19:52:00.870 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 19:52:00.871 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 19:52:00.878 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 19:52:00.883 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 19:52:00.888 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 19:52:00.892 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 19:52:00.899 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 19:52:00.905 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 19:52:00.910 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 19:52:00.914 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 19:52:00.918 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 19:52:00.922 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 19:52:00.926 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 19:52:00.928 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 54.0671ms
2025-08-05 19:52:00.930 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 19:52:00.932 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 86.5524ms
2025-08-05 19:52:00.938 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/course-completions - null null
2025-08-05 19:52:00.941 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:52:00.942 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/course-completions - 204 null null 4.2184ms
2025-08-05 19:52:00.945 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/course-completions - application/json null
2025-08-05 19:52:00.952 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:52:00.956 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 19:52:00.958 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api)'
2025-08-05 19:52:00.964 +08:00 [INF] Route matched with {action = "GetCourseCompletions", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseCompletions(Int32) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 19:52:00.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e0.id, a."FullName", a."Avatar", a."Email", c.title, e0.course_id::text, e0.completed_at, COALESCE(e0.average_quiz_score, 0.0), e0.certificate_issued, e0.certificate_url
FROM (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.course_id, e.student_id
    FROM enrollments AS e
    WHERE e.completed_at IS NOT NULL
    ORDER BY e.completed_at DESC
    LIMIT @__p_0
) AS e0
INNER JOIN "AspNetUsers" AS a ON e0.student_id = a."Id"
INNER JOIN courses AS c ON e0.course_id = c.id
ORDER BY e0.completed_at DESC
2025-08-05 19:52:00.991 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType9`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 19:52:00.994 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api) in 28.2321ms
2025-08-05 19:52:00.996 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api)'
2025-08-05 19:52:00.997 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/course-completions - 200 null application/json; charset=utf-8 51.9135ms
2025-08-05 19:52:04.158 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/courses - null null
2025-08-05 19:52:04.163 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:52:04.164 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/courses - 204 null null 5.5179ms
2025-08-05 19:52:04.168 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/courses - application/json null
2025-08-05 19:52:04.171 +08:00 [INF] CORS policy execution successful.
2025-08-05 19:52:04.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 19:52:04.180 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCoursesForManagement (CeceLearningPortal.Api)'
2025-08-05 19:52:04.186 +08:00 [INF] Route matched with {action = "GetCoursesForManagement", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCoursesForManagement(CeceLearningPortal.Api.DTOs.CourseManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 19:52:04.227 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id AS "Id", c0.title AS "Title", c0.description AS "Description", c0.instructor_id AS "InstructorId", a."FullName" AS "InstructorName", c0.price AS "Price", c0.category AS "Category", c0.level AS "Level", c0.status AS "Status", (
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c0.id = e.course_id) AS "StudentsCount", CASE
    WHEN EXISTS (
        SELECT 1
        FROM course_reviews AS c1
        WHERE c0.id = c1.course_id) THEN (
        SELECT avg(c2.rating::double precision)
        FROM course_reviews AS c2
        WHERE c0.id = c2.course_id)
    ELSE 0.0
END AS "AverageRating", (
    SELECT count(*)::int
    FROM enrollments AS e0
    WHERE c0.id = e0.course_id)::numeric * c0.price * 0.8 AS "TotalRevenue", c0.created_at AS "CreatedAt", c0.updated_at AS "UpdatedAt", c0.status = 'Draft' AS "NeedsReview", NULL AS "AdminNotes"
FROM (
    SELECT c.id, c.category, c.created_at, c.description, c.instructor_id, c.level, c.price, c.status, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
ORDER BY c0.created_at DESC
2025-08-05 19:52:04.232 +08:00 [INF] Admin API returning course 12 'Social Media Marketing Mastery' with status: Active (raw value: 2)
2025-08-05 19:52:04.232 +08:00 [INF] Admin API returning course 9 'React Native Development' with status: Active (raw value: 2)
2025-08-05 19:52:04.233 +08:00 [INF] Admin API returning course 5 'Computer Vision Fundamentals' with status: Active (raw value: 2)
2025-08-05 19:52:04.235 +08:00 [INF] Admin API returning course 11 'SEO & Content Marketing Strategy' with status: Active (raw value: 2)
2025-08-05 19:52:04.236 +08:00 [INF] Admin API returning course 8 'Flutter & Dart Complete Guide' with status: Active (raw value: 2)
2025-08-05 19:52:04.237 +08:00 [INF] Admin API returning course 4 'Full Stack JavaScript Developer Path' with status: Active (raw value: 2)
2025-08-05 19:52:04.238 +08:00 [INF] Admin API returning course 10 'Digital Marketing Fundamentals' with status: Active (raw value: 2)
2025-08-05 19:52:04.239 +08:00 [INF] Admin API returning course 7 'Android Development Masterclass' with status: Active (raw value: 2)
2025-08-05 19:52:04.240 +08:00 [INF] Admin API returning course 3 'Machine Learning with Python & TensorFlow' with status: Active (raw value: 2)
2025-08-05 19:52:04.241 +08:00 [INF] Admin API returning course 6 'iOS Development with Swift' with status: Active (raw value: 2)
2025-08-05 19:52:04.242 +08:00 [INF] Admin API returning course 2 'Advanced React & Redux Masterclass' with status: Active (raw value: 2)
2025-08-05 19:52:04.242 +08:00 [INF] Admin API returning course 1 'Complete Web Development Bootcamp 2025' with status: Active (raw value: 2)
2025-08-05 19:52:04.243 +08:00 [INF] Admin API returning course 14 'Draft Course: Blockchain Development' with status: Draft (raw value: 0)
2025-08-05 19:52:04.244 +08:00 [INF] Admin API returning course 16 'Inactive Course: Flash Game Development' with status: Inactive (raw value: 3)
2025-08-05 19:52:04.246 +08:00 [INF] Admin API returning course 13 'Draft Course: Machine Learning Fundamentals' with status: Draft (raw value: 0)
2025-08-05 19:52:04.247 +08:00 [INF] Admin API returning course 15 'Inactive Course: Legacy PHP Development' with status: Inactive (raw value: 3)
2025-08-05 19:52:04.255 +08:00 [INF] First course serialized: {
  "Id": 12,
  "Title": "Social Media Marketing Mastery",
  "Description": "Build and execute successful social media marketing campaigns across all major platforms.",
  "InstructorId": "3ad7dc32-1a84-4c52-98c4-d7dfa5c27005",
  "InstructorName": "Emily Davis",
  "Price": 89.99,
  "Category": "Marketing",
  "Level": "Advanced",
  "Status": "Active",
  "StudentsCount": 5,
  "AverageRating": 4,
  "TotalRevenue": 359.960,
  "CreatedAt": "2025-06-05T11:05:41.651413Z",
  "UpdatedAt": "2025-08-05T11:05:41.651413Z",
  "NeedsReview": false,
  "AdminNotes": null
}
2025-08-05 19:52:04.256 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.AdminCourseManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 19:52:04.259 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetCoursesForManagement (CeceLearningPortal.Api) in 70.7243ms
2025-08-05 19:52:04.261 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCoursesForManagement (CeceLearningPortal.Api)'
2025-08-05 19:52:04.263 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/courses - 200 null application/json; charset=utf-8 94.7995ms
2025-08-05 20:13:27.228 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:13:27.234 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:27.237 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 8.5009ms
2025-08-05 20:13:27.242 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:13:27.247 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:27.526 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:27.529 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:13:27.530 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:13:27.539 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:13:27.544 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:13:27.549 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:13:27.555 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:13:27.565 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:13:27.574 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:13:27.580 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:13:27.583 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:13:27.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:13:27.592 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:13:27.595 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:13:27.597 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 63.8024ms
2025-08-05 20:13:27.599 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:13:27.600 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 358.018ms
2025-08-05 20:13:27.607 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/course-completions - null null
2025-08-05 20:13:27.611 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:27.612 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/course-completions - 204 null null 4.4328ms
2025-08-05 20:13:27.615 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/course-completions - application/json null
2025-08-05 20:13:27.617 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:27.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:27.624 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api)'
2025-08-05 20:13:27.626 +08:00 [INF] Route matched with {action = "GetCourseCompletions", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseCompletions(Int32) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:13:27.639 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e0.id, a."FullName", a."Avatar", a."Email", c.title, e0.course_id::text, e0.completed_at, COALESCE(e0.average_quiz_score, 0.0), e0.certificate_issued, e0.certificate_url
FROM (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.course_id, e.student_id
    FROM enrollments AS e
    WHERE e.completed_at IS NOT NULL
    ORDER BY e.completed_at DESC
    LIMIT @__p_0
) AS e0
INNER JOIN "AspNetUsers" AS a ON e0.student_id = a."Id"
INNER JOIN courses AS c ON e0.course_id = c.id
ORDER BY e0.completed_at DESC
2025-08-05 20:13:27.642 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType9`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:13:27.644 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api) in 16.3264ms
2025-08-05 20:13:27.645 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api)'
2025-08-05 20:13:27.647 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/course-completions - 200 null application/json; charset=utf-8 31.9459ms
2025-08-05 20:13:29.559 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 20:13:29.562 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:29.564 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 4.5378ms
2025-08-05 20:13:29.569 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 51
2025-08-05 20:13:29.572 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:29.576 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:29.579 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:13:29.580 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:13:29.587 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 20:13:29.676 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 20:13:29.680 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 20:13:29.682 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 99.4762ms
2025-08-05 20:13:29.684 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:13:29.687 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 117.8244ms
2025-08-05 20:13:29.747 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:13:29.749 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:13:29.751 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:29.757 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:29.759 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 11.6599ms
2025-08-05 20:13:29.763 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:29.770 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:13:29.775 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:13:29.779 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:29.780 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:13:29.786 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:29.811 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:29.828 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:13:29.854 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:13:29.916 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:13:29.924 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:13:29.929 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:13:29.935 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:13:29.953 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:13:29.962 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:13:29.968 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:13:29.977 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:13:29.983 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:13:29.990 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:13:29.994 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:13:29.998 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 210.1344ms
2025-08-05 20:13:30.002 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:13:30.004 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 255.5086ms
2025-08-05 20:13:30.060 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:13:30.064 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 223.3077ms
2025-08-05 20:13:30.068 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:30.070 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 300.2167ms
2025-08-05 20:13:41.228 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - null null
2025-08-05 20:13:41.233 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:41.234 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - 204 null null 6.0485ms
2025-08-05 20:13:41.261 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/logout - application/json 0
2025-08-05 20:13:41.266 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:41.279 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:41.283 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:13:41.303 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:13:41.372 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r.id, r.created_at, r.created_by_ip, r.expires_at, r.replaced_by_token, r.revoked_at, r.revoked_by_ip, r.token, r.user_id
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN refresh_tokens AS r ON a0."Id" = r.user_id
ORDER BY a0."Id"
2025-08-05 20:13:41.384 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_tokens SET revoked_at = @p0
WHERE id = @p1;
UPDATE refresh_tokens SET revoked_at = @p2
WHERE id = @p3;
2025-08-05 20:13:41.393 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:13:41.401 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 84.5074ms
2025-08-05 20:13:41.404 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:13:41.410 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/logout - 200 null application/json; charset=utf-8 149.3473ms
2025-08-05 20:13:41.518 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:13:41.528 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:13:41.571 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:41.579 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:41.583 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 64.6741ms
2025-08-05 20:13:41.584 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 55.9816ms
2025-08-05 20:13:41.652 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:13:41.659 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:13:41.664 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:41.673 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:13:41.669 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:41.676 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 20:13:41.677 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:41.679 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 26.4466ms
2025-08-05 20:13:41.683 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:13:41.702 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:13:41.883 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:13:41.886 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 193.3474ms
2025-08-05 20:13:41.888 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:41.889 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 230.1991ms
2025-08-05 20:13:49.245 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 20:13:49.251 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.254 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 9.4754ms
2025-08-05 20:13:49.260 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 61
2025-08-05 20:13:49.269 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.271 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:13:49.272 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:13:49.278 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 20:13:49.371 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 20:13:49.375 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 20:13:49.377 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 101.2925ms
2025-08-05 20:13:49.379 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:13:49.380 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 120.1848ms
2025-08-05 20:13:49.429 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:13:49.434 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:13:49.440 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.445 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.447 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 18.3223ms
2025-08-05 20:13:49.473 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 39.1544ms
2025-08-05 20:13:49.480 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:13:49.487 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:13:49.490 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.495 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.503 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:49.506 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:49.508 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:13:49.526 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:49.540 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:13:49.530 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:13:49.561 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 80.4282ms
2025-08-05 20:13:49.579 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:13:49.738 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:13:49.740 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 181.2527ms
2025-08-05 20:13:49.742 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:49.743 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 255.4644ms
2025-08-05 20:13:49.747 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/instructor-stats - null null
2025-08-05 20:13:49.751 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.753 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/instructor-stats - 204 null null 5.7725ms
2025-08-05 20:13:49.758 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/instructor-stats - application/json null
2025-08-05 20:13:49.763 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.769 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:49.776 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/instructor-stats - 404 0 null 17.6889ms
2025-08-05 20:13:49.787 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/instructor-stats, Response status code: 404
2025-08-05 20:13:49.793 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:13:49.804 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.808 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 14.3494ms
2025-08-05 20:13:49.812 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:13:49.819 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:49.827 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:49.832 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:49.841 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:13:49.859 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:13:50.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:13:50.042 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 195.8808ms
2025-08-05 20:13:50.044 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:50.046 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 233.5488ms
2025-08-05 20:13:57.089 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:13:57.093 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.095 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 5.6166ms
2025-08-05 20:13:57.101 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:13:57.106 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.113 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:57.118 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:57.120 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:13:57.133 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:13:57.312 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:13:57.315 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 192.2893ms
2025-08-05 20:13:57.317 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:13:57.319 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 217.9283ms
2025-08-05 20:13:57.365 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:13:57.414 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:13:57.417 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.420 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.421 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 56.7019ms
2025-08-05 20:13:57.422 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 8.4776ms
2025-08-05 20:13:57.439 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:13:57.447 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:57.453 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:13:57.454 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:13:57.455 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 16.8746ms
2025-08-05 20:13:57.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:13:57.463 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:57.470 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:13:57.474 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:13:57.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 18.5678ms
2025-08-05 20:13:57.483 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:13:57.484 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:13:57.487 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.490 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.492 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 8.3585ms
2025-08-05 20:13:57.494 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 9.7824ms
2025-08-05 20:13:57.499 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:13:57.503 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:13:57.508 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.510 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:13:57.519 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:57.523 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:13:57.580 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:13:57.583 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:13:57.663 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:13:57.669 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:13:57.757 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-05 20:13:57.757 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:13:57.804 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:13:57.838 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:13:57.852 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:13:57.884 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:57.902 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:13:57.905 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:57.920 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:13:57.935 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:57.945 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:57.946 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:13:57.952 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:13:57.969 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:57.978 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:57.983 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:13:57.985 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:13:57.990 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:57.996 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:13:57.997 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:58.000 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:13:58.002 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:13:58.004 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:13:58.010 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:58.012 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:13:58.016 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:13:58.021 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:13:58.032 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 334.0655ms
2025-08-05 20:13:58.034 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:13:58.036 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 536.5169ms
2025-08-05 20:13:58.043 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:13:58.053 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:13:58.062 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:13:58.077 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 347.012ms
2025-08-05 20:13:58.081 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:13:58.082 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 578.3652ms
2025-08-05 20:14:27.081 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:14:27.084 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.086 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 5.1001ms
2025-08-05 20:14:27.090 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:14:27.098 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.103 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:27.107 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:14:27.109 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:14:27.133 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:14:27.271 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:14:27.274 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 157.0473ms
2025-08-05 20:14:27.277 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:14:27.281 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 190.292ms
2025-08-05 20:14:27.290 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:14:27.304 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.306 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 16.5623ms
2025-08-05 20:14:27.318 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:14:27.321 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.325 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:27.331 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:14:27.333 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:14:27.335 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 17.4081ms
2025-08-05 20:14:27.336 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:14:27.345 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.342 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:14:27.341 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:14:27.352 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:27.354 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.357 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.361 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:14:27.365 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 21.6223ms
2025-08-05 20:14:27.370 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 28.2975ms
2025-08-05 20:14:27.371 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:14:27.376 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:14:27.400 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:14:27.404 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 67.2173ms
2025-08-05 20:14:27.408 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.421 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:27.438 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:27.440 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:27.441 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:14:27.447 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:14:27.449 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:14:27.450 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:14:27.458 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:14:27.459 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:14:27.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:14:27.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:14:27.473 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:27.476 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:14:27.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.483 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:27.486 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.488 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:27.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:27.496 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:27.501 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.503 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:27.506 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.508 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:27.516 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:27.519 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:14:27.521 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.525 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:14:27.528 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.532 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:14:27.536 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:27.538 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 84.9331ms
2025-08-05 20:14:27.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.542 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:14:27.548 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 171.916ms
2025-08-05 20:14:27.549 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.556 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:27.559 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.566 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:27.568 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:14:27.570 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 113.8146ms
2025-08-05 20:14:27.572 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:14:27.573 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 173.0249ms
2025-08-05 20:14:57.084 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:14:57.087 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.088 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 4.2122ms
2025-08-05 20:14:57.092 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:14:57.097 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.100 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:57.102 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:14:57.104 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:14:57.112 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:14:57.208 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:14:57.211 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 104.2123ms
2025-08-05 20:14:57.212 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:14:57.214 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 121.407ms
2025-08-05 20:14:57.218 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:14:57.221 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.222 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.1698ms
2025-08-05 20:14:57.226 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:14:57.229 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.233 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:57.236 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:14:57.238 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:14:57.239 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 13.2109ms
2025-08-05 20:14:57.240 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:14:57.244 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:14:57.244 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:14:57.249 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.254 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.259 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.262 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 17.4965ms
2025-08-05 20:14:57.262 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:57.263 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 18.5122ms
2025-08-05 20:14:57.269 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:14:57.274 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:14:57.279 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:14:57.283 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.285 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:14:57.290 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:14:57.293 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 52.048ms
2025-08-05 20:14:57.293 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:57.296 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:14:57.304 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:14:57.307 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:14:57.309 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:14:57.311 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:14:57.319 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:14:57.320 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:14:57.326 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:14:57.327 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:14:57.331 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:14:57.335 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:57.338 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:57.342 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.345 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:57.349 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.352 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:57.356 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:57.358 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:57.362 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.366 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:14:57.369 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.373 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:14:57.375 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:57.379 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:14:57.382 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.384 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:14:57.389 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.390 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 75.1316ms
2025-08-05 20:14:57.395 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:57.396 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:14:57.401 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.401 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 132.2809ms
2025-08-05 20:14:57.406 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.412 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:14:57.417 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.422 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:14:57.426 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:14:57.428 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 110.9225ms
2025-08-05 20:14:57.431 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:14:57.433 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 154.4089ms
2025-08-05 20:15:02.292 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:02.296 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:02.297 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 5.1447ms
2025-08-05 20:15:02.301 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:02.304 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:02.308 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:02.313 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:02.315 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:15:02.321 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:15:02.330 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:15:02.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:15:02.337 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:02.341 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:02.346 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:02.350 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:02.355 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:02.359 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:15:02.366 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:15:02.370 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:15:02.373 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 54.7137ms
2025-08-05 20:15:02.375 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:02.380 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 78.5126ms
2025-08-05 20:15:04.157 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:04.161 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:04.162 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 5.4134ms
2025-08-05 20:15:04.167 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:04.170 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:04.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:04.178 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:04.180 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:15:04.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:15:04.190 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:15:04.199 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:04.204 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.209 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.218 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:04.223 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.236 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.240 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:04.253 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.259 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.269 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:04.273 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.280 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.284 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:04.287 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.295 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:04.298 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:15:04.300 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 116.5842ms
2025-08-05 20:15:04.302 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:04.303 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 136.0748ms
2025-08-05 20:15:04.314 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:04.317 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:04.320 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:04.323 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:04.327 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:15:04.335 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:15:04.344 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:15:04.349 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:15:04.353 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:04.357 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:04.363 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:04.366 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:04.370 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:04.374 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:15:04.380 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:15:04.383 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:15:04.385 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 53.0444ms
2025-08-05 20:15:04.387 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:04.388 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 73.5798ms
2025-08-05 20:15:08.253 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:08.257 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:08.258 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 4.3426ms
2025-08-05 20:15:08.262 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:08.266 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:08.268 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:08.272 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:08.274 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:15:08.280 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:15:08.286 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:15:08.291 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:15:08.295 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:08.298 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:08.301 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:08.305 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:08.309 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:08.313 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:15:08.317 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:15:08.321 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:15:08.325 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 46.5932ms
2025-08-05 20:15:08.327 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:08.328 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 66.5616ms
2025-08-05 20:15:10.153 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:10.156 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:10.157 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 4.374ms
2025-08-05 20:15:10.164 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:10.168 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:10.171 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:10.174 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:10.176 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:15:10.180 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:15:10.185 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:15:10.191 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:10.196 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.200 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.205 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:10.210 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.214 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.220 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:10.225 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.228 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.232 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:10.239 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.243 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.246 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:10.251 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.258 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:10.260 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:15:10.262 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 83.1846ms
2025-08-05 20:15:10.264 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:10.266 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 102.3945ms
2025-08-05 20:15:10.274 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:10.278 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:10.280 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:10.283 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:10.285 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:15:10.292 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:15:10.298 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:15:10.303 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:15:10.308 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:10.311 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:10.315 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:10.319 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:10.324 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:10.328 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:15:10.333 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:15:10.336 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:15:10.355 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 66.4899ms
2025-08-05 20:15:10.367 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:10.430 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 155.8229ms
2025-08-05 20:15:27.076 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:15:27.079 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.080 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 3.8936ms
2025-08-05 20:15:27.083 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:15:27.087 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.090 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:27.093 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:15:27.096 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:15:27.109 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:15:27.280 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:15:27.282 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 182.9333ms
2025-08-05 20:15:27.283 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:15:27.285 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 201.5107ms
2025-08-05 20:15:27.293 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:15:27.297 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.298 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.6784ms
2025-08-05 20:15:27.304 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:15:27.310 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.313 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:27.316 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:15:27.322 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:15:27.325 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 20.7453ms
2025-08-05 20:15:27.327 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:15:27.330 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:27.332 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:27.333 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.338 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.342 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.344 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 13.6084ms
2025-08-05 20:15:27.345 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:27.345 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 13.1664ms
2025-08-05 20:15:27.349 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:27.353 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:15:27.359 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:27.363 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.364 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:15:27.367 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:27.376 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:27.378 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 50.8976ms
2025-08-05 20:15:27.382 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:27.391 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:27.404 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:27.405 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:15:27.407 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:15:27.412 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:15:27.423 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:15:27.425 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:15:27.436 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:27.436 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:15:27.442 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.447 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:15:27.449 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.453 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:27.457 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:27.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:27.464 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.466 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:27.470 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.474 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:27.477 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:27.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:27.483 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.487 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:15:27.489 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.492 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:15:27.494 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:27.496 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:15:27.499 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.500 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 85.1338ms
2025-08-05 20:15:27.504 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.505 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:27.508 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:27.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 149.424ms
2025-08-05 20:15:27.512 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.518 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:27.521 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:15:27.522 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 112.7488ms
2025-08-05 20:15:27.524 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:27.525 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 176.5357ms
2025-08-05 20:15:57.075 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:15:57.078 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.079 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 3.7796ms
2025-08-05 20:15:57.082 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:15:57.086 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.089 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:57.091 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:15:57.093 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:15:57.100 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:15:57.202 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:15:57.204 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 109.4617ms
2025-08-05 20:15:57.206 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:15:57.207 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 125.1832ms
2025-08-05 20:15:57.212 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:15:57.215 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.216 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.2249ms
2025-08-05 20:15:57.221 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:15:57.225 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.228 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:57.230 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:15:57.231 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:15:57.233 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 12.2564ms
2025-08-05 20:15:57.235 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:15:57.238 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:57.238 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:15:57.242 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.245 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.248 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.250 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 12.3643ms
2025-08-05 20:15:57.251 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:57.251 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 13.44ms
2025-08-05 20:15:57.259 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:57.281 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:15:57.264 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:15:57.285 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:57.291 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:15:57.292 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:15:57.296 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:57.299 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:15:57.300 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 65.0843ms
2025-08-05 20:15:57.302 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:15:57.306 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:57.316 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:15:57.316 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:15:57.324 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:15:57.325 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:15:57.333 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:15:57.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:57.339 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:15:57.343 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.345 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:57.348 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.351 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:57.353 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:57.356 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:57.359 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:57.364 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.367 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:15:57.369 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:57.372 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:15:57.375 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.378 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:15:57.380 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.382 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:15:57.385 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:57.386 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 66.9296ms
2025-08-05 20:15:57.391 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:15:57.391 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 124.132ms
2025-08-05 20:15:57.396 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.402 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:15:57.406 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.410 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:15:57.413 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:15:57.414 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 100.459ms
2025-08-05 20:15:57.416 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:15:57.418 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 158.8849ms
2025-08-05 20:16:18.509 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses/5 - null null
2025-08-05 20:16:18.513 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:18.514 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses/5 - 204 null null 5.0638ms
2025-08-05 20:16:18.520 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses/5 - application/json null
2025-08-05 20:16:18.526 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:18.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:18.533 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-08-05 20:16:18.539 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:16:18.567 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-05 20:16:18.650 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s."AccessDuration", s."AccessType", s."AutomationAbandonmentSequence", s."AutomationCompletionCertificate", s."AutomationProgressReminders", s."AutomationWelcomeEmail", s.category, s."CourseType", s.created_at, s."Currency", s.description, s.discount, s."DripContent", s."DripScheduleJson", s.duration, s."EnrollmentLimit", s.enrollment_type, s.features, s."HasAssignments", s."HasCertificate", s."HasCommunity", s."HasDownloadableResources", s."HasLiveSessions", s."HasQuizzes", s.instructor_id, s.is_bestseller, s."IsPublished", s."Language", s.level, s.original_price, s."PaymentPlanDetailsJson", s.preview_url, s.price, s."PricingModel", s."PromoVideoUrl", s."PublishedAt", s."ShortDescription", s.status, s."SubscriptionPeriod", s.thumbnail, s.thumbnail_url, s.title, s.updated_at, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0.id, s0.course_id, s0.created_at, s0.description, s0."order", s0.title, s0.updated_at, s0.id0, s0.content, s0.created_at0, s0.duration, s0.module_id, s0.order0, s0.title0, s0.type, s0.updated_at0, s0.video_url, s1.id, s1.approved_at, s1.approved_by, s1.comment, s1.course_id, s1.created_at, s1.is_flagged, s1.rating, s1.status, s1.student_id, s1."Id0", s1."AccessFailedCount", s1."Avatar", s1."ConcurrencyStamp", s1."CreatedAt", s1."Email", s1."EmailConfirmed", s1."FullName", s1."LastLoginAt", s1."LockoutEnabled", s1."LockoutEnd", s1."NormalizedEmail", s1."NormalizedUserName", s1."NotificationPreferences", s1."PasswordHash", s1."PhoneNumber", s1."PhoneNumberConfirmed", s1."RefreshToken", s1."RefreshTokenExpiryTime", s1."Role", s1."SecurityStamp", s1."Status0", s1."TwoFactorEnabled", s1."UserName", e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM courses AS c
    INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
    WHERE c.id = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s0 ON s.id = s0.course_id
LEFT JOIN (
    SELECT c2.id, c2.approved_at, c2.approved_by, c2.comment, c2.course_id, c2.created_at, c2.is_flagged, c2.rating, c2.status, c2.student_id, a0."Id" AS "Id0", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status" AS "Status0", a0."TwoFactorEnabled", a0."UserName"
    FROM course_reviews AS c2
    INNER JOIN "AspNetUsers" AS a0 ON c2.student_id = a0."Id"
) AS s1 ON s.id = s1.course_id
LEFT JOIN enrollments AS e ON s.id = e.course_id
ORDER BY s.id, s."Id0", s0.id, s0.id0, s1.id, s1."Id0"
2025-08-05 20:16:18.689 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDetailDto'.
2025-08-05 20:16:18.708 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 165.3081ms
2025-08-05 20:16:18.710 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-08-05 20:16:18.711 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses/5 - 200 null application/json; charset=utf-8 191.1838ms
2025-08-05 20:16:18.717 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/enrollments - null null
2025-08-05 20:16:18.722 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:18.723 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/enrollments - 204 null null 6.2786ms
2025-08-05 20:16:18.727 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/enrollments - application/json null
2025-08-05 20:16:18.730 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:18.732 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:18.737 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-08-05 20:16:18.742 +08:00 [INF] Route matched with {action = "GetMyEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyEnrollments() on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-08-05 20:16:18.757 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__studentId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id AS "Id", e.student_id AS "StudentId", a."FullName" AS "StudentName", e.course_id AS "CourseId", c.title AS "CourseTitle", c.thumbnail AS "CourseThumbnail", a0."FullName" AS "InstructorName", e.enrolled_at AS "EnrolledAt", e.completed_at AS "CompletedAt", e.progress_percentage AS "ProgressPercentage", e.certificate_url AS "CertificateUrl"
FROM enrollments AS e
INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a0 ON c.instructor_id = a0."Id"
WHERE e.student_id = @__studentId_0
2025-08-05 20:16:18.760 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.EnrollmentDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:18.766 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api) in 21.3638ms
2025-08-05 20:16:18.767 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-08-05 20:16:18.769 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/enrollments - 200 null application/json; charset=utf-8 42.5926ms
2025-08-05 20:16:22.805 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:16:22.808 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:22.809 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 4.4504ms
2025-08-05 20:16:22.815 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:16:22.821 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:22.825 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:22.828 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:22.833 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:16:22.845 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:16:23.225 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:23.269 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 431.6907ms
2025-08-05 20:16:23.287 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:23.289 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 474.105ms
2025-08-05 20:16:23.298 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:16:23.304 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:23.306 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 7.8523ms
2025-08-05 20:16:23.318 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:23.325 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:23.338 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:23.374 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:23.379 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:23.396 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 77.7664ms
2025-08-05 20:16:23.409 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:16:23.410 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:16:23.422 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:23.426 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:23.433 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:23.437 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:23.438 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 28.9228ms
2025-08-05 20:16:23.440 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 29.9901ms
2025-08-05 20:16:23.448 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:23.456 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:16:23.461 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:16:23.470 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:23.478 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:23.484 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:23.487 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:23.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:23.494 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:23.499 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 76.8864ms
2025-08-05 20:16:23.506 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:16:23.512 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:16:23.526 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-08-05 20:16:23.528 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:16:23.537 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:16:23.543 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM courses AS c
WHERE c.instructor_id = @__instructorId_0
2025-08-05 20:16:23.543 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, s.id, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", c0.id, c0.approved_at, c0.approved_by, c0.comment, c0.course_id, c0.created_at, c0.is_flagged, c0.rating, c0.status, c0.student_id
FROM courses AS c
LEFT JOIN (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM enrollments AS e
    INNER JOIN "AspNetUsers" AS a ON e.student_id = a."Id"
) AS s ON c.id = s.course_id
LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
WHERE c.instructor_id = @__instructorId_0
ORDER BY c.id, s.id, s."Id0"
2025-08-05 20:16:23.548 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:16:23.556 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.556 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
LEFT JOIN courses AS c ON t.course_id = c.id
WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed'
2025-08-05 20:16:23.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.565 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s.amount), 0.0) AS "Revenue"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0 AND t.status = 'Completed' AND t.created_at >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-08-05 20:16:23.568 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:16:23.572 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:16:23.575 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.577 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:16:23.581 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.584 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:16:23.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:16:23.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:16:23.595 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.598 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.course_id = @__c_Id_0 AND t.status = 'Completed'
2025-08-05 20:16:23.603 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.606 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.enrolled_at
FROM (
    SELECT e.enrolled_at, e.student_id, c.title
    FROM enrollments AS e
    INNER JOIN courses AS c ON e.course_id = c.id
    WHERE c.instructor_id = @__instructorId_0
    ORDER BY e.enrolled_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.enrolled_at DESC
2025-08-05 20:16:23.608 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:16:23.613 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s.title, s.created_at, s.rating
FROM (
    SELECT c.created_at, c.rating, c.student_id, c0.title
    FROM course_reviews AS c
    INNER JOIN courses AS c0 ON c.course_id = c0.id
    WHERE c0.instructor_id = @__instructorId_0
    ORDER BY c.created_at DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s.student_id = a."Id"
ORDER BY s.created_at DESC
2025-08-05 20:16:23.616 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.618 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType18`5[[<>f__AnonymousType19`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:16:23.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.623 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 84.9022ms
2025-08-05 20:16:23.627 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0
2025-08-05 20:16:23.627 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:16:23.632 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.632 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 171.792ms
2025-08-05 20:16:23.637 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = e.student_id AND s.status = 'Active' AND s.start_date <= e.enrolled_at)
2025-08-05 20:16:23.642 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-08-05 20:16:23.644 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 108.7784ms
2025-08-05 20:16:23.646 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-08-05 20:16:23.647 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/revenue/instructor/93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 191.1221ms
2025-08-05 20:16:25.208 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - null null
2025-08-05 20:16:25.213 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:25.215 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - 204 null null 6.4789ms
2025-08-05 20:16:25.221 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/logout - application/json 0
2025-08-05 20:16:25.225 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:25.229 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:25.235 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:16:25.237 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:16:25.242 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r.id, r.created_at, r.created_by_ip, r.expires_at, r.replaced_by_token, r.revoked_at, r.revoked_by_ip, r.token, r.user_id
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN refresh_tokens AS r ON a0."Id" = r.user_id
ORDER BY a0."Id"
2025-08-05 20:16:25.253 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_tokens SET revoked_at = @p0
WHERE id = @p1;
2025-08-05 20:16:25.256 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:16:25.259 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 19.0896ms
2025-08-05 20:16:25.262 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:16:25.266 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/logout - 200 null application/json; charset=utf-8 44.6464ms
2025-08-05 20:16:25.415 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:16:25.419 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:25.421 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:25.423 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:16:25.436 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:16:25.653 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:25.656 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 229.813ms
2025-08-05 20:16:25.658 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:25.661 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 245.7907ms
2025-08-05 20:16:25.668 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:25.671 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:25.672 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:25.674 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 20:16:25.675 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 7.3253ms
2025-08-05 20:16:28.844 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 20:16:28.847 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:28.848 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 3.882ms
2025-08-05 20:16:28.852 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 55
2025-08-05 20:16:28.855 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:28.856 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:16:28.858 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:16:28.864 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 20:16:28.996 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 20:16:29.001 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 20:16:29.016 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 155.4392ms
2025-08-05 20:16:29.022 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:16:29.025 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 172.8766ms
2025-08-05 20:16:29.086 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:16:29.088 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:16:29.097 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:29.101 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:29.102 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 16.0275ms
2025-08-05 20:16:29.106 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 17.7168ms
2025-08-05 20:16:29.118 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:16:29.122 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:29.128 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:29.131 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:29.135 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:29.136 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:29.138 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:29.143 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:29.147 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:16:29.148 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:29.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 29.7616ms
2025-08-05 20:16:29.161 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:16:29.343 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:29.346 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 195.2191ms
2025-08-05 20:16:29.348 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:29.350 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 232.0099ms
2025-08-05 20:16:31.000 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:16:31.004 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.011 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:31.015 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:31.017 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:16:31.032 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:16:31.159 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:31.163 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 142.0857ms
2025-08-05 20:16:31.166 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:31.171 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 171.1604ms
2025-08-05 20:16:31.185 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:31.198 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.202 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:31.215 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:31.216 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:31.219 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 34.4917ms
2025-08-05 20:16:31.235 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:31.271 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.286 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:31.299 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:16:31.314 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:31.321 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.324 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:31.327 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 27.4393ms
2025-08-05 20:16:31.329 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 93.4195ms
2025-08-05 20:16:31.333 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:16:31.344 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.348 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:31.352 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:16:31.363 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:16:31.415 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:16:31.494 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:16:31.512 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:16:31.516 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 148.7043ms
2025-08-05 20:16:31.518 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:16:31.520 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 186.551ms
2025-08-05 20:16:31.526 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:16:31.529 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.530 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 4.4232ms
2025-08-05 20:16:31.535 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:16:31.538 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:31.545 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:31.549 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:16:31.579 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-05 20:16:31.646 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:16:31.672 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.677 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.681 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.684 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.689 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.695 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.702 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.710 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.714 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.718 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.725 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:31.730 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:31.746 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 191.7652ms
2025-08-05 20:16:31.748 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:31.750 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 215.2838ms
2025-08-05 20:16:31.758 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:16:31.763 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.764 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 6.017ms
2025-08-05 20:16:31.769 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:16:31.773 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:31.779 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:31.782 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 12.9825ms
2025-08-05 20:16:31.787 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:16:43.763 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:16:43.764 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:16:43.767 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:43.770 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:43.772 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 8.308ms
2025-08-05 20:16:43.773 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 9.0479ms
2025-08-05 20:16:43.780 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:43.786 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:16:43.789 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:43.794 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:43.801 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:43.802 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:43.805 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:43.808 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:43.809 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:43.811 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:16:43.813 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 32.8217ms
2025-08-05 20:16:43.824 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:16:43.942 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:43.945 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 127.8613ms
2025-08-05 20:16:43.947 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:43.949 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 163.0013ms
2025-08-05 20:16:44.614 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:16:44.618 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:44.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:44.637 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:44.639 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:16:44.654 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:16:44.775 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:44.779 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 136.4177ms
2025-08-05 20:16:44.781 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:44.783 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 168.5999ms
2025-08-05 20:16:44.791 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:44.799 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:44.806 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:44.817 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:44.822 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:44.825 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 33.676ms
2025-08-05 20:16:44.839 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:16:44.844 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:44.850 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:44.854 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:16:44.857 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:16:44.863 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 24.2533ms
2025-08-05 20:16:44.884 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:16:44.889 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:44.890 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 6.0677ms
2025-08-05 20:16:44.899 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:16:44.904 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:44.907 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:44.911 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:16:44.913 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:16:44.918 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:16:44.923 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:16:44.927 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:16:44.930 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 13.9874ms
2025-08-05 20:16:44.932 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:16:44.934 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 34.3454ms
2025-08-05 20:16:44.938 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:16:44.941 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:44.942 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 4.4159ms
2025-08-05 20:16:44.946 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:16:44.950 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:44.953 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:44.955 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:44.957 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:16:44.968 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:16:44.982 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:44.986 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:44.989 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:44.993 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:44.998 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.001 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.004 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.007 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.012 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.016 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.019 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.022 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:16:45.025 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:16:45.031 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 70.2451ms
2025-08-05 20:16:45.035 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:16:45.036 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 90.201ms
2025-08-05 20:16:45.043 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:16:45.050 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:45.052 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 9.7368ms
2025-08-05 20:16:45.069 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:16:45.086 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:45.152 +08:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:45.188 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 118.7224ms
2025-08-05 20:16:45.199 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:16:51.386 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/enrollments/courses/2 - null null
2025-08-05 20:16:51.390 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:51.391 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/enrollments/courses/2 - 204 null null 5.003ms
2025-08-05 20:16:51.396 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/enrollments/courses/2 - application/json 0
2025-08-05 20:16:51.401 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:16:51.407 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:16:51.412 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-08-05 20:16:51.418 +08:00 [INF] Route matched with {action = "EnrollInCourse", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnrollInCourse(Int32) on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-08-05 20:16:51.441 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32), @__studentId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM enrollments AS e
WHERE e.course_id = @__courseId_0 AND e.student_id = @__studentId_1
LIMIT 1
2025-08-05 20:16:51.447 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:16:51.450 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api) in 27.617ms
2025-08-05 20:16:51.456 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-08-05 20:16:51.458 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/enrollments/courses/2 - 400 null application/json; charset=utf-8 62.2606ms
2025-08-05 20:17:14.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:17:14.607 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.608 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 4.808ms
2025-08-05 20:17:14.612 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:17:14.617 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.620 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:14.624 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:14.625 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:17:14.642 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:17:14.789 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:17:14.792 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 160.7364ms
2025-08-05 20:17:14.794 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:14.796 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 184.1037ms
2025-08-05 20:17:14.801 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:17:14.804 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.805 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.6555ms
2025-08-05 20:17:14.809 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:17:14.813 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.816 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:14.819 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:17:14.820 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:17:14.822 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 12.9291ms
2025-08-05 20:17:14.824 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:17:14.827 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:17:14.832 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.836 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.838 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 10.5971ms
2025-08-05 20:17:14.839 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:14.842 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:17:14.846 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:17:14.849 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.851 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:17:14.853 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:14.854 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 30.1573ms
2025-08-05 20:17:14.857 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:17:14.866 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:17:14.871 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:17:14.876 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:17:14.881 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:17:14.883 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 13.6409ms
2025-08-05 20:17:14.885 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:17:14.887 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 44.2692ms
2025-08-05 20:17:14.892 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:17:14.897 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.899 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 7.1942ms
2025-08-05 20:17:14.905 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:17:14.908 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:14.911 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:14.916 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:14.918 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:17:14.926 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:17:14.938 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.942 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.948 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.953 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.958 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.964 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.969 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.973 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.976 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.985 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.989 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:14.992 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:17:14.995 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 73.8799ms
2025-08-05 20:17:14.997 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:14.999 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 94.578ms
2025-08-05 20:17:15.004 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:17:15.008 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:15.009 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 4.9229ms
2025-08-05 20:17:15.014 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:17:15.019 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:15.021 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:15.024 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 9.8568ms
2025-08-05 20:17:15.029 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:17:44.601 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:17:44.605 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:44.607 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 5.4923ms
2025-08-05 20:17:44.646 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:17:44.741 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:44.745 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:44.758 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:44.760 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:17:44.776 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:17:44.910 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:17:44.913 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 148.9442ms
2025-08-05 20:17:44.914 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:44.916 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 270.3656ms
2025-08-05 20:17:44.923 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:17:44.926 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:44.928 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.7482ms
2025-08-05 20:17:44.932 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:17:44.936 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:44.941 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:44.944 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:17:44.946 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:17:44.947 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 15.772ms
2025-08-05 20:17:44.949 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:17:44.956 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:17:44.961 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:44.964 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:44.969 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 12.9573ms
2025-08-05 20:17:44.970 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:44.975 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:17:44.978 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:17:44.982 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:44.985 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:17:44.988 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:44.988 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 38.9991ms
2025-08-05 20:17:44.991 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:17:44.997 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:17:45.003 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:17:45.009 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:17:45.013 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:17:45.016 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 15.05ms
2025-08-05 20:17:45.018 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:17:45.021 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 45.3778ms
2025-08-05 20:17:45.026 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:17:45.030 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:45.031 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 5.5939ms
2025-08-05 20:17:45.037 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:17:45.042 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:45.045 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:45.049 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:45.052 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:17:45.072 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:17:45.087 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.091 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.095 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.099 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.104 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.108 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.114 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.121 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.126 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.130 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.136 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.141 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:17:45.144 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:17:45.147 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 84.5802ms
2025-08-05 20:17:45.152 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:17:45.155 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 117.1087ms
2025-08-05 20:17:45.161 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:17:45.166 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:45.181 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 20.2437ms
2025-08-05 20:17:45.195 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:17:45.203 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:17:45.207 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:17:45.211 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 15.1889ms
2025-08-05 20:17:45.219 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:18:07.853 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:18:07.856 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:07.857 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 4.6652ms
2025-08-05 20:18:07.863 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:18:07.867 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:07.871 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:07.875 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:18:07.876 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:18:07.887 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:18:07.905 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.909 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.917 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.923 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.928 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.933 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.937 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.941 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.945 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.949 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.953 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.957 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:18:07.962 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:07.965 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 84.2469ms
2025-08-05 20:18:07.967 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:18:07.968 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 105.4071ms
2025-08-05 20:18:12.505 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - null null
2025-08-05 20:18:12.508 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:12.509 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - 204 null null 3.6694ms
2025-08-05 20:18:12.512 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/logout - application/json 0
2025-08-05 20:18:12.517 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:12.519 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:12.522 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:18:12.523 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:18:12.528 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r.id, r.created_at, r.created_by_ip, r.expires_at, r.replaced_by_token, r.revoked_at, r.revoked_by_ip, r.token, r.user_id
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN refresh_tokens AS r ON a0."Id" = r.user_id
ORDER BY a0."Id"
2025-08-05 20:18:12.537 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_tokens SET revoked_at = @p0
WHERE id = @p1;
2025-08-05 20:18:12.542 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:12.545 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 19.2181ms
2025-08-05 20:18:12.548 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:18:12.549 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/logout - 200 null application/json; charset=utf-8 36.8752ms
2025-08-05 20:18:12.644 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:18:12.647 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:18:12.678 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:12.718 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:12.750 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 102.228ms
2025-08-05 20:18:12.722 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 77.6913ms
2025-08-05 20:18:12.766 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:18:12.771 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:18:12.788 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:12.798 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:12.800 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:18:12.801 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:18:12.803 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 20:18:12.804 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:18:12.807 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 40.485ms
2025-08-05 20:18:12.826 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:18:12.970 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:12.976 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 161.3111ms
2025-08-05 20:18:12.979 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:18:12.981 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 210.1834ms
2025-08-05 20:18:18.294 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 20:18:18.298 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:18.299 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 4.9022ms
2025-08-05 20:18:18.311 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 51
2025-08-05 20:18:18.315 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:18.316 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:18:18.318 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:18:18.327 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 20:18:18.413 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 20:18:18.418 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 20:18:18.420 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 94.9422ms
2025-08-05 20:18:18.422 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:18:18.423 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 111.5958ms
2025-08-05 20:18:18.465 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:18:18.466 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:18:18.472 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:18.474 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:18.476 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 10.4515ms
2025-08-05 20:18:18.477 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 10.8569ms
2025-08-05 20:18:18.482 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:18:18.488 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:18:18.492 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:18.506 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:18.512 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:18.523 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:18.527 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:18:18.531 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:18:18.532 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:18:18.540 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:18:18.547 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:18:18.554 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:18:18.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:18:18.595 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:18:18.606 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:18:18.614 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:18:18.625 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:18:18.631 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:18:18.649 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:18:18.676 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:18:18.683 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:18:18.694 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:18.698 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 152.1072ms
2025-08-05 20:18:18.710 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:18:18.712 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 224.328ms
2025-08-05 20:18:18.820 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:18.822 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 279.7503ms
2025-08-05 20:18:18.824 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:18:18.826 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 343.9297ms
2025-08-05 20:18:23.115 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:18:23.136 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:23.139 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:23.145 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:18:23.153 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:18:23.159 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:18:23.166 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:18:23.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:18:23.177 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:18:23.187 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:18:23.200 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:18:23.209 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:18:23.225 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:18:23.235 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:18:23.241 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:18:23.246 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:23.258 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 100.4701ms
2025-08-05 20:18:23.261 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:18:23.265 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 149.8486ms
2025-08-05 20:18:23.281 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/course-completions - null null
2025-08-05 20:18:23.292 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:23.297 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/course-completions - 204 null null 15.5217ms
2025-08-05 20:18:23.311 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/course-completions - application/json null
2025-08-05 20:18:23.316 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:23.320 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:23.326 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api)'
2025-08-05 20:18:23.329 +08:00 [INF] Route matched with {action = "GetCourseCompletions", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseCompletions(Int32) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:23.340 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT e0.id, a."FullName", a."Avatar", a."Email", c.title, e0.course_id::text, e0.completed_at, COALESCE(e0.average_quiz_score, 0.0), e0.certificate_issued, e0.certificate_url
FROM (
    SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.course_id, e.student_id
    FROM enrollments AS e
    WHERE e.completed_at IS NOT NULL
    ORDER BY e.completed_at DESC
    LIMIT @__p_0
) AS e0
INNER JOIN "AspNetUsers" AS a ON e0.student_id = a."Id"
INNER JOIN courses AS c ON e0.course_id = c.id
ORDER BY e0.completed_at DESC
2025-08-05 20:18:23.343 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType9`10[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:23.346 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api) in 9.4578ms
2025-08-05 20:18:23.349 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetCourseCompletions (CeceLearningPortal.Api)'
2025-08-05 20:18:23.351 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/course-completions - 200 null application/json; charset=utf-8 39.7024ms
2025-08-05 20:18:29.670 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users - null null
2025-08-05 20:18:29.670 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/subscription-plans - null null
2025-08-05 20:18:29.673 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.675 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.676 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users - 204 null null 6.2934ms
2025-08-05 20:18:29.677 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/subscription-plans - 204 null null 7.1208ms
2025-08-05 20:18:29.682 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/subscription-plans - application/json null
2025-08-05 20:18:29.685 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users - application/json null
2025-08-05 20:18:29.688 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.691 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.774 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:29.779 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-08-05 20:18:29.786 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:29.794 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:29.795 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-08-05 20:18:29.803 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:29.808 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:18:29.819 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-08-05 20:18:29.825 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:29.831 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price, s0.id, s0.billing_cycle, s0.created_at, s0.end_date, s0.next_billing_date, s0.plan_name, s0.price, s0.start_date, s0.status, s0.stripe_subscription_id, s0.subscription_plan_id, s0.updated_at, s0.user_id
FROM subscription_plans AS s
LEFT JOIN subscriptions AS s0 ON s.id = s0.subscription_plan_id
ORDER BY s.id
2025-08-05 20:18:29.834 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 36.0948ms
2025-08-05 20:18:29.836 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-08-05 20:18:29.838 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users - 200 null application/json; charset=utf-8 152.7475ms
2025-08-05 20:18:29.846 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - null null
2025-08-05 20:18:29.847 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:29.850 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.850 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - null null
2025-08-05 20:18:29.853 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - null null
2025-08-05 20:18:29.853 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - 204 null null 7.3203ms
2025-08-05 20:18:29.859 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - null null
2025-08-05 20:18:29.859 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - null null
2025-08-05 20:18:29.862 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.864 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 57.5261ms
2025-08-05 20:18:29.865 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.869 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - null null
2025-08-05 20:18:29.873 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.876 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.878 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - 204 null null 27.1085ms
2025-08-05 20:18:29.880 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-08-05 20:18:29.881 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - 204 null null 28.0094ms
2025-08-05 20:18:29.884 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.885 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - 204 null null 26.853ms
2025-08-05 20:18:29.887 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - 204 null null 27.7987ms
2025-08-05 20:18:29.892 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - null null
2025-08-05 20:18:29.893 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/subscription-plans - 200 null application/json; charset=utf-8 211.7581ms
2025-08-05 20:18:29.898 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - null null
2025-08-05 20:18:29.899 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - 204 null null 29.7497ms
2025-08-05 20:18:29.903 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - null null
2025-08-05 20:18:29.908 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - null null
2025-08-05 20:18:29.912 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.916 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - null null
2025-08-05 20:18:29.919 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.923 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - application/json null
2025-08-05 20:18:29.927 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.930 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.932 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - 204 null null 39.4499ms
2025-08-05 20:18:29.935 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.936 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - 204 null null 38.3615ms
2025-08-05 20:18:29.940 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.941 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - 204 null null 38.1218ms
2025-08-05 20:18:29.943 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - 204 null null 34.9123ms
2025-08-05 20:18:29.947 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - application/json null
2025-08-05 20:18:29.948 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - 204 null null 32.2822ms
2025-08-05 20:18:29.952 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - application/json null
2025-08-05 20:18:29.955 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:29.958 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - application/json null
2025-08-05 20:18:29.962 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - application/json null
2025-08-05 20:18:29.966 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.970 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - application/json null
2025-08-05 20:18:29.975 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.978 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:29.982 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.984 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.987 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:29.990 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:29.993 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:29.997 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:29.998 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.000 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.002 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.011 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.016 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.017 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.027 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.049 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.051 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.121 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:18:30.124 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:18:30.134 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:30.140 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.141 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:30.152 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.180 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.180 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 174.423ms
2025-08-05 20:18:30.209 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 185.9417ms
2025-08-05 20:18:30.225 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.228 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.231 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.262 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.265 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.267 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.277 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:30.282 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:18:30.282 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.287 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - 200 null application/json; charset=utf-8 363.1615ms
2025-08-05 20:18:30.287 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.289 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - 200 null application/json; charset=utf-8 341.7185ms
2025-08-05 20:18:30.304 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 271.4073ms
2025-08-05 20:18:30.315 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:30.335 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - application/json null
2025-08-05 20:18:30.336 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.343 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:18:30.345 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - application/json null
2025-08-05 20:18:30.347 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.350 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 320.0759ms
2025-08-05 20:18:30.353 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:30.357 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:30.361 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:18:30.364 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:30.366 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - 200 null application/json; charset=utf-8 395.5412ms
2025-08-05 20:18:30.368 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.371 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 48.1113ms
2025-08-05 20:18:30.372 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.375 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 89.8749ms
2025-08-05 20:18:30.380 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.381 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - application/json null
2025-08-05 20:18:30.383 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - 200 null application/json; charset=utf-8 430.5935ms
2025-08-05 20:18:30.385 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.388 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.392 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.395 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.399 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:30.403 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - application/json null
2025-08-05 20:18:30.404 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - 200 null application/json; charset=utf-8 441.6011ms
2025-08-05 20:18:30.406 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.408 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - 200 null application/json; charset=utf-8 449.6735ms
2025-08-05 20:18:30.411 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.413 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.415 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:30.419 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - application/json null
2025-08-05 20:18:30.424 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.431 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.432 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.434 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.436 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:18:30.440 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:30.444 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:30.446 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.449 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.451 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:18:30.452 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 30.7899ms
2025-08-05 20:18:30.453 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 24.6422ms
2025-08-05 20:18:30.458 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.459 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.461 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.463 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.464 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.470 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:30.473 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:18:30.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - 200 null application/json; charset=utf-8 139.615ms
2025-08-05 20:18:30.477 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - 200 null application/json; charset=utf-8 131.8246ms
2025-08-05 20:18:30.481 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:30.482 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 25.9398ms
2025-08-05 20:18:30.487 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:18:30.497 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 30.5602ms
2025-08-05 20:18:30.499 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.503 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:18:30.507 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - 200 null application/json; charset=utf-8 127.5256ms
2025-08-05 20:18:30.512 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 26.8442ms
2025-08-05 20:18:30.513 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - 200 null application/json; charset=utf-8 110.4391ms
2025-08-05 20:18:30.520 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:18:30.527 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - 200 null application/json; charset=utf-8 108.7942ms
2025-08-05 20:47:49.051 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/subscription-plans - null null
2025-08-05 20:47:49.051 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users - null null
2025-08-05 20:47:49.054 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.057 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.058 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/subscription-plans - 204 null null 7.1696ms
2025-08-05 20:47:49.059 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users - 204 null null 8.7915ms
2025-08-05 20:47:49.066 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/subscription-plans - application/json null
2025-08-05 20:47:49.070 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users - application/json null
2025-08-05 20:47:49.072 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.076 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.148 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.152 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-08-05 20:47:49.153 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.159 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price, s0.id, s0.billing_cycle, s0.created_at, s0.end_date, s0.next_billing_date, s0.plan_name, s0.price, s0.start_date, s0.status, s0.stripe_subscription_id, s0.subscription_plan_id, s0.updated_at, s0.user_id
FROM subscription_plans AS s
LEFT JOIN subscriptions AS s0 ON s.id = s0.subscription_plan_id
ORDER BY s.id
2025-08-05 20:47:49.164 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:47:49.166 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 10.5359ms
2025-08-05 20:47:49.168 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-08-05 20:47:49.169 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/subscription-plans - 200 null application/json; charset=utf-8 103.4854ms
2025-08-05 20:47:49.240 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.242 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-08-05 20:47:49.243 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.252 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:47:49.256 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-08-05 20:47:49.258 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:47:49.260 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 14.7396ms
2025-08-05 20:47:49.261 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-08-05 20:47:49.264 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users - 200 null application/json; charset=utf-8 194.264ms
2025-08-05 20:47:49.269 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - null null
2025-08-05 20:47:49.271 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - null null
2025-08-05 20:47:49.272 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.273 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - null null
2025-08-05 20:47:49.275 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.276 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - 204 null null 7.4898ms
2025-08-05 20:47:49.275 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - null null
2025-08-05 20:47:49.278 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - null null
2025-08-05 20:47:49.278 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - null null
2025-08-05 20:47:49.281 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.283 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - 204 null null 12.4519ms
2025-08-05 20:47:49.287 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - null null
2025-08-05 20:47:49.290 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.293 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.297 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.298 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - 204 null null 24.8602ms
2025-08-05 20:47:49.302 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - null null
2025-08-05 20:47:49.306 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.307 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - 204 null null 31.1135ms
2025-08-05 20:47:49.308 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - 204 null null 30.1289ms
2025-08-05 20:47:49.309 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - 204 null null 30.7035ms
2025-08-05 20:47:49.314 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - null null
2025-08-05 20:47:49.317 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.318 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - 204 null null 30.8335ms
2025-08-05 20:47:49.323 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - null null
2025-08-05 20:47:49.327 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - null null
2025-08-05 20:47:49.333 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - application/json null
2025-08-05 20:47:49.337 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.338 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - 204 null null 35.6103ms
2025-08-05 20:47:49.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - application/json null
2025-08-05 20:47:49.344 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.349 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.352 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.353 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - 204 null null 39.1543ms
2025-08-05 20:47:49.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - application/json null
2025-08-05 20:47:49.361 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.362 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - 204 null null 38.4065ms
2025-08-05 20:47:49.366 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - 204 null null 38.3868ms
2025-08-05 20:47:49.370 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.377 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - application/json null
2025-08-05 20:47:49.383 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.386 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.389 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - application/json null
2025-08-05 20:47:49.393 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - application/json null
2025-08-05 20:47:49.403 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.405 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.408 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.410 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.417 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.421 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.422 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.425 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.427 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.428 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.436 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.440 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.442 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.452 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.454 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.455 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.461 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.469 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.470 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:47:49.476 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:47:49.493 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:47:49.505 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:47:49.520 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 75.7498ms
2025-08-05 20:47:49.525 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 67.6847ms
2025-08-05 20:47:49.535 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.533 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.537 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/f5a5e8fb-3830-45db-8c74-0bc027c7a022/subscription - 200 null application/json; charset=utf-8 179.3313ms
2025-08-05 20:47:49.539 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/7f4060f0-5142-47fb-a7c8-3c8a334e332f/subscription - 200 null application/json; charset=utf-8 197.2207ms
2025-08-05 20:47:49.544 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - application/json null
2025-08-05 20:47:49.556 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.555 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.552 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - application/json null
2025-08-05 20:47:49.559 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.561 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.566 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.569 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.571 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.574 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.574 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.574 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.583 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.583 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.583 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:47:49.590 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.590 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:47:49.592 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:47:49.593 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.598 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:47:49.600 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.602 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subscription_SubscriptionPlanId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
WHERE s.id = @__subscription_SubscriptionPlanId_0
LIMIT 1
2025-08-05 20:47:49.602 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 24.5804ms
2025-08-05 20:47:49.604 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 28.1414ms
2025-08-05 20:47:49.608 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.608 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 170.3933ms
2025-08-05 20:47:49.610 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:47:49.614 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType96`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType97`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CeceLearningPortal.Api.Models.SubscriptionStatus, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:47:49.616 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.618 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.620 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:47:49.622 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.623 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 136.681ms
2025-08-05 20:47:49.625 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 153.1131ms
2025-08-05 20:47:49.626 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/03459560-c478-4788-94b1-9db3b68ea8dc/subscription - 200 null application/json; charset=utf-8 81.6626ms
2025-08-05 20:47:49.627 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/d3427a04-289b-4176-b151-3b450ed528c7/subscription - 200 null application/json; charset=utf-8 233.934ms
2025-08-05 20:47:49.631 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 25.1956ms
2025-08-05 20:47:49.633 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/3ad7dc32-1a84-4c52-98c4-d7dfa5c27005/subscription - 200 null application/json; charset=utf-8 299.2077ms
2025-08-05 20:47:49.634 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.635 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.639 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - application/json null
2025-08-05 20:47:49.642 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - application/json null
2025-08-05 20:47:49.643 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.649 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - application/json null
2025-08-05 20:47:49.651 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/subscription - 200 null application/json; charset=utf-8 261.4876ms
2025-08-05 20:47:49.652 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/93a0dc69-b68a-40bb-8574-d50790ed0ddd/subscription - 200 null application/json; charset=utf-8 279.6022ms
2025-08-05 20:47:49.654 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.657 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.658 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/babde744-6d48-4972-a04a-89c5818003d8/subscription - 200 null application/json; charset=utf-8 105.5819ms
2025-08-05 20:47:49.661 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:47:49.675 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.676 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.683 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.683 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:47:49.686 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.687 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.689 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.690 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.694 +08:00 [INF] Route matched with {action = "GetUserSubscription", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSubscription(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:47:49.694 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.699 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.701 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.billing_cycle, s.created_at, s.end_date, s.next_billing_date, s.plan_name, s.price, s.start_date, s.status, s.stripe_subscription_id, s.subscription_plan_id, s.updated_at, s.user_id, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM subscriptions AS s
INNER JOIN "AspNetUsers" AS a ON s.user_id = a."Id"
WHERE s.user_id = @__userId_0 AND s.status = 'Active'
ORDER BY s.created_at DESC
LIMIT 1
2025-08-05 20:47:49.702 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:47:49.705 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:47:49.707 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType95`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:47:49.709 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 16.2961ms
2025-08-05 20:47:49.710 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 12.5107ms
2025-08-05 20:47:49.712 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api) in 12.0121ms
2025-08-05 20:47:49.715 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.716 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.717 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUserSubscription (CeceLearningPortal.Api)'
2025-08-05 20:47:49.719 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/1909eb5a-7375-4110-b4d7-a63951a7ec81/subscription - 200 null application/json; charset=utf-8 79.9169ms
2025-08-05 20:47:49.720 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/b214607c-a8e7-4216-8c20-9d4300a5bd35/subscription - 200 null application/json; charset=utf-8 77.7462ms
2025-08-05 20:47:49.721 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/users/f12ceab0-c966-48f1-b278-dc9853aae80d/subscription - 200 null application/json; charset=utf-8 71.568ms
2025-08-05 20:48:32.734 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/policies - null null
2025-08-05 20:48:32.738 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:32.740 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/policies - 204 null null 6.0514ms
2025-08-05 20:48:32.746 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/policies - application/json null
2025-08-05 20:48:32.750 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:32.752 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:48:32.756 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetPolicies (CeceLearningPortal.Api)'
2025-08-05 20:48:32.761 +08:00 [INF] Route matched with {action = "GetPolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPolicies() on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:48:32.764 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Object[]'.
2025-08-05 20:48:32.769 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetPolicies (CeceLearningPortal.Api) in 5.7824ms
2025-08-05 20:48:32.771 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetPolicies (CeceLearningPortal.Api)'
2025-08-05 20:48:32.773 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/policies - 200 null application/json; charset=utf-8 26.6202ms
2025-08-05 20:48:35.737 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/tasks - null null
2025-08-05 20:48:35.739 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:35.741 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/tasks - 204 null null 4.1362ms
2025-08-05 20:48:35.744 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/tasks - application/json null
2025-08-05 20:48:35.747 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:35.749 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:48:35.752 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetTasks (CeceLearningPortal.Api)'
2025-08-05 20:48:35.758 +08:00 [INF] Route matched with {action = "GetTasks", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTasks(System.String) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:48:35.762 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Object[]'.
2025-08-05 20:48:35.766 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetTasks (CeceLearningPortal.Api) in 5.3264ms
2025-08-05 20:48:35.768 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetTasks (CeceLearningPortal.Api)'
2025-08-05 20:48:35.770 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/tasks - 200 null application/json; charset=utf-8 25.7387ms
2025-08-05 20:48:36.789 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/admin/onboarding-progress - null null
2025-08-05 20:48:36.792 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:36.793 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/admin/onboarding-progress - 204 null null 3.6422ms
2025-08-05 20:48:36.798 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/admin/onboarding-progress - application/json null
2025-08-05 20:48:36.801 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:36.803 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:48:36.806 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetOnboardingProgress (CeceLearningPortal.Api)'
2025-08-05 20:48:36.811 +08:00 [INF] Route matched with {action = "GetOnboardingProgress", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOnboardingProgress() on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-08-05 20:48:36.817 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:48:36.823 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
WHERE a."FullName" <> ''
2025-08-05 20:48:36.829 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
WHERE EXISTS (
    SELECT 1
    FROM enrollments AS e
    WHERE a."Id" = e.student_id)
2025-08-05 20:48:36.837 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
WHERE EXISTS (
    SELECT 1
    FROM enrollments AS e
    WHERE a."Id" = e.student_id AND e.certificate_issued)
2025-08-05 20:48:36.839 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType16`4[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-08-05 20:48:36.843 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetOnboardingProgress (CeceLearningPortal.Api) in 29.2192ms
2025-08-05 20:48:36.845 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetOnboardingProgress (CeceLearningPortal.Api)'
2025-08-05 20:48:36.847 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/admin/onboarding-progress - 200 null application/json; charset=utf-8 49.2492ms
2025-08-05 20:48:49.668 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:48:49.669 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:48:49.673 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:49.677 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:49.678 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 9.3611ms
2025-08-05 20:48:49.679 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 9.7243ms
2025-08-05 20:48:49.683 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:48:49.689 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:48:49.693 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:49.696 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:48:49.699 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:48:49.700 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:48:49.704 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:48:49.707 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:48:49.708 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:48:49.710 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:48:49.714 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:48:49.724 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:48:49.735 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:48:49.739 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:48:49.742 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:48:49.763 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:48:49.781 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:48:49.789 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:48:49.794 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:48:49.798 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:48:49.802 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:48:49.805 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:48:49.807 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 95.099ms
2025-08-05 20:48:49.809 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:48:49.811 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 127.5078ms
2025-08-05 20:48:49.891 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:48:49.892 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 177.0885ms
2025-08-05 20:48:49.894 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:48:49.895 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 205.9951ms
2025-08-05 20:49:00.132 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:49:00.137 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.139 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 6.9146ms
2025-08-05 20:49:00.146 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:49:00.151 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.158 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.161 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.163 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:00.179 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:00.281 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:00.283 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 117.177ms
2025-08-05 20:49:00.284 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.286 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 139.1899ms
2025-08-05 20:49:00.290 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:49:00.294 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.296 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 5.7126ms
2025-08-05 20:49:00.300 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:49:00.303 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.305 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.308 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:49:00.310 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:49:00.313 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:49:00.317 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:49:00.329 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:49:00.332 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:49:00.342 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:49:00.354 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:49:00.387 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:49:00.397 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:49:00.401 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:49:00.405 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:49:00.408 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:49:00.411 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 98.5747ms
2025-08-05 20:49:00.412 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:49:00.413 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:49:00.416 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.417 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 117.9277ms
2025-08-05 20:49:00.420 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.423 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:49:00.428 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:49:00.431 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.432 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:49:00.433 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 10.1316ms
2025-08-05 20:49:00.438 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:49:00.440 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:49:00.446 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:49:00.446 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:49:00.452 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.453 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:49:00.455 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:49:00.458 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:49:00.461 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:49:00.463 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:49:00.466 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:49:00.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:49:00.471 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:49:00.472 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:49:00.476 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:49:00.476 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 15.4798ms
2025-08-05 20:49:00.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:49:00.481 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:49:00.484 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:49:00.484 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 43.6708ms
2025-08-05 20:49:00.487 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:49:00.491 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:49:00.493 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 56.7015ms
2025-08-05 20:49:00.496 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.498 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:49:00.499 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 8.049ms
2025-08-05 20:49:00.500 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 88.3571ms
2025-08-05 20:49:00.508 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:49:00.511 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.514 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.522 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - null null
2025-08-05 20:49:00.526 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=3ad7dc32-1a84-4c52-98c4-d7dfa5c27005 - null null
2025-08-05 20:49:00.528 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=7f4060f0-5142-47fb-a7c8-3c8a334e332f - null null
2025-08-05 20:49:00.528 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=03459560-c478-4788-94b1-9db3b68ea8dc - null null
2025-08-05 20:49:00.528 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=1909eb5a-7375-4110-b4d7-a63951a7ec81 - null null
2025-08-05 20:49:00.529 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.531 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.534 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.537 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.540 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.543 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.544 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:49:00.544 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - 204 null null 22.0064ms
2025-08-05 20:49:00.545 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=3ad7dc32-1a84-4c52-98c4-d7dfa5c27005 - 204 null null 18.9625ms
2025-08-05 20:49:00.546 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=7f4060f0-5142-47fb-a7c8-3c8a334e332f - 204 null null 18.3371ms
2025-08-05 20:49:00.547 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=03459560-c478-4788-94b1-9db3b68ea8dc - 204 null null 18.8504ms
2025-08-05 20:49:00.548 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses?instructorId=1909eb5a-7375-4110-b4d7-a63951a7ec81 - 204 null null 19.4655ms
2025-08-05 20:49:00.553 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=1909eb5a-7375-4110-b4d7-a63951a7ec81 - application/json null
2025-08-05 20:49:00.555 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:49:00.557 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - application/json null
2025-08-05 20:49:00.560 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=7f4060f0-5142-47fb-a7c8-3c8a334e332f - application/json null
2025-08-05 20:49:00.564 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=3ad7dc32-1a84-4c52-98c4-d7dfa5c27005 - application/json null
2025-08-05 20:49:00.567 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=03459560-c478-4788-94b1-9db3b68ea8dc - application/json null
2025-08-05 20:49:00.570 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.573 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:00.575 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.577 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.580 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.582 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.584 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.585 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 35.1844ms
2025-08-05 20:49:00.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.589 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.590 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.592 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.593 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.595 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.598 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.615 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:00.602 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.621 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:00.607 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 99.449ms
2025-08-05 20:49:00.608 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:00.600 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.605 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:00.632 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:00.633 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:49:00.633 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:00.637 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:00.652 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:00.649 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.652 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:00.682 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:00.685 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 52.0408ms
2025-08-05 20:49:00.866 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:49:00.931 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:00.982 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:00.984 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 366.3768ms
2025-08-05 20:49:01.007 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:00.991 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:00.987 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:01.012 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=7f4060f0-5142-47fb-a7c8-3c8a334e332f - 200 null application/json; charset=utf-8 451.325ms
2025-08-05 20:49:01.016 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 149.897ms
2025-08-05 20:49:01.018 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 394.465ms
2025-08-05 20:49:01.021 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:01.024 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:01.026 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:49:01.028 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:01.030 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 390.7524ms
2025-08-05 20:49:01.032 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 395.9828ms
2025-08-05 20:49:01.035 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=03459560-c478-4788-94b1-9db3b68ea8dc - 200 null application/json; charset=utf-8 467.6551ms
2025-08-05 20:49:01.037 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:01.039 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:01.044 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=1909eb5a-7375-4110-b4d7-a63951a7ec81 - 200 null application/json; charset=utf-8 490.702ms
2025-08-05 20:49:01.045 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=93a0dc69-b68a-40bb-8574-d50790ed0ddd - 200 null application/json; charset=utf-8 488.7138ms
2025-08-05 20:49:01.075 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:01.077 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 412.4885ms
2025-08-05 20:49:01.078 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:01.079 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses?instructorId=3ad7dc32-1a84-4c52-98c4-d7dfa5c27005 - 200 null application/json; charset=utf-8 515.7244ms
2025-08-05 20:49:20.509 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/profile - null null
2025-08-05 20:49:20.512 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.514 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/profile - 204 null null 4.5732ms
2025-08-05 20:49:20.517 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/profile - application/json null
2025-08-05 20:49:20.521 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.527 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:20.530 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/profile - 404 0 null 12.9503ms
2025-08-05 20:49:20.535 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/profile, Response status code: 404
2025-08-05 20:49:20.537 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c - null null
2025-08-05 20:49:20.540 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.541 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c - 204 null null 4.0809ms
2025-08-05 20:49:20.546 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c - application/json null
2025-08-05 20:49:20.548 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.551 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:20.553 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-08-05 20:49:20.556 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-08-05 20:49:20.565 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-05 20:49:20.568 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserDto'.
2025-08-05 20:49:20.571 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api) in 12.2804ms
2025-08-05 20:49:20.573 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-08-05 20:49:20.574 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c - 200 null application/json; charset=utf-8 28.4774ms
2025-08-05 20:49:20.578 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/stats - null null
2025-08-05 20:49:20.581 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.582 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/stats - 204 null null 3.5178ms
2025-08-05 20:49:20.585 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/stats - application/json null
2025-08-05 20:49:20.588 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.590 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:20.593 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-08-05 20:49:20.596 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-08-05 20:49:20.610 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-08-05 20:49:20.640 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s.id, s."AccessDuration", s."AccessType", s."AutomationAbandonmentSequence", s."AutomationCompletionCertificate", s."AutomationProgressReminders", s."AutomationWelcomeEmail", s.category, s."CourseType", s.created_at, s."Currency", s.description, s.discount, s."DripContent", s."DripScheduleJson", s.duration, s."EnrollmentLimit", s.enrollment_type, s.features, s."HasAssignments", s."HasCertificate", s."HasCommunity", s."HasDownloadableResources", s."HasLiveSessions", s."HasQuizzes", s.instructor_id, s.is_bestseller, s."IsPublished", s."Language", s.level, s.original_price, s."PaymentPlanDetailsJson", s.preview_url, s.price, s."PricingModel", s."PromoVideoUrl", s."PublishedAt", s."ShortDescription", s.status, s."SubscriptionPeriod", s.thumbnail, s.thumbnail_url, s.title, s.updated_at, s.id0, s.average_quiz_score, s.certificate_issued, s.certificate_url, s.completed_at, s.completed_lessons, s.course_id, s.enrolled_at, s.last_accessed_date, s.progress_percentage, s.quiz_count, s.student_id, s.total_time_spent, s.id1, s.approved_at, s.approved_by, s.comment, s.course_id0, s.created_at0, s.is_flagged, s.rating, s.status0, s.student_id0
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, e.id AS id0, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c0.id AS id1, c0.approved_at, c0.approved_by, c0.comment, c0.course_id AS course_id0, c0.created_at AS created_at0, c0.is_flagged, c0.rating, c0.status AS status0, c0.student_id AS student_id0
    FROM courses AS c
    LEFT JOIN enrollments AS e ON c.id = e.course_id
    LEFT JOIN course_reviews AS c0 ON c.id = c0.course_id
) AS s ON a0."Id" = s.instructor_id
ORDER BY a0."Id", s.id, s.id0
2025-08-05 20:49:20.652 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-08-05 20:49:20.658 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 59.0557ms
2025-08-05 20:49:20.659 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-08-05 20:49:20.661 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/stats - 200 null application/json; charset=utf-8 75.6273ms
2025-08-05 20:49:20.665 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/certificates - null null
2025-08-05 20:49:20.668 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.669 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/certificates - 204 null null 4.0002ms
2025-08-05 20:49:20.673 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/certificates - application/json null
2025-08-05 20:49:20.676 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.678 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:20.680 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/certificates - 404 0 null 7.2335ms
2025-08-05 20:49:20.684 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/certificates, Response status code: 404
2025-08-05 20:49:20.687 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/activity - null null
2025-08-05 20:49:20.690 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.692 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/activity - 204 null null 4.9313ms
2025-08-05 20:49:20.696 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/activity - application/json null
2025-08-05 20:49:20.699 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:20.701 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:20.703 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/activity - 404 0 null 7.6289ms
2025-08-05 20:49:20.707 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/users/bc04938c-c121-4a40-9c72-2c754bd40e0c/activity, Response status code: 404
2025-08-05 20:49:36.521 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:49:36.521 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:49:36.525 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:36.528 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:36.529 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 8.1384ms
2025-08-05 20:49:36.530 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 8.349ms
2025-08-05 20:49:36.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:49:36.537 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:49:36.540 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:36.544 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:36.547 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:36.547 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:36.550 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:49:36.553 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:36.554 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-08-05 20:49:36.555 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:36.561 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-08-05 20:49:36.565 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM courses AS c
2025-08-05 20:49:36.569 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:36.569 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(t.amount), 0.0)
FROM transactions AS t
WHERE t.status = 'Completed'
2025-08-05 20:49:36.578 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM enrollments AS e
2025-08-05 20:49:36.584 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM courses AS c0
    WHERE c0.instructor_id = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM enrollments AS e
    INNER JOIN courses AS c1 ON e.course_id = c1.id
    WHERE c1.instructor_id = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(t0.amount), 0.0)
    FROM transactions AS t0
    LEFT JOIN courses AS c2 ON t0.course_id = c2.id
    WHERE c2.instructor_id = a."Id" AND t0.status = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(c3.rating::double precision)
    FROM course_reviews AS c3
    INNER JOIN courses AS c4 ON c3.course_id = c4.id
    WHERE c4.instructor_id = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c ON t.course_id = c.id
    WHERE c.instructor_id = a."Id" AND t.status = 'Completed') DESC
LIMIT @__p_0
2025-08-05 20:49:36.589 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(t.amount), 0.0)
    FROM transactions AS t
    LEFT JOIN courses AS c0 ON t.course_id = c0.id
    WHERE c0.category = c.category AND t.status = 'Completed') AS revenue
FROM courses AS c
GROUP BY c.category
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM enrollments AS e
    WHERE c.id = e.course_id)), 0)::int DESC
2025-08-05 20:49:36.593 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Year", t0."Month", COALESCE(sum(t0.amount), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT t.amount, date_part('year', t.created_at AT TIME ZONE 'UTC')::int AS "Year", date_part('month', t.created_at AT TIME ZONE 'UTC')::int AS "Month"
    FROM transactions AS t
    WHERE t.status = 'Completed' AND t.created_at >= @__sixMonthsAgo_0
) AS t0
GROUP BY t0."Year", t0."Month"
2025-08-05 20:49:36.597 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-08-05 20:49:36.601 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM subscriptions AS s
WHERE s.status = 'Active'
2025-08-05 20:49:36.605 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.plan_name AS plan, count(*)::int AS count, COALESCE(sum(s.price), 0.0) AS "monthlyRevenue"
FROM subscriptions AS s
WHERE s.status = 'Active'
GROUP BY s.plan_name
2025-08-05 20:49:36.608 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`6[[<>f__AnonymousType21`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:49:36.611 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 52.8495ms
2025-08-05 20:49:36.613 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-08-05 20:49:36.615 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 200 null application/json; charset=utf-8 81.5656ms
2025-08-05 20:49:36.721 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:36.724 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 162.2904ms
2025-08-05 20:49:36.727 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:36.729 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 192.0097ms
2025-08-05 20:49:41.920 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - null null
2025-08-05 20:49:41.923 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:41.924 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - 204 null null 3.7729ms
2025-08-05 20:49:41.927 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/logout - application/json 0
2025-08-05 20:49:41.931 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:41.933 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:41.936 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:49:41.938 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:49:41.942 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r.id, r.created_at, r.created_by_ip, r.expires_at, r.replaced_by_token, r.revoked_at, r.revoked_by_ip, r.token, r.user_id
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN refresh_tokens AS r ON a0."Id" = r.user_id
ORDER BY a0."Id"
2025-08-05 20:49:41.948 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_tokens SET revoked_at = @p0
WHERE id = @p1;
2025-08-05 20:49:41.951 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:49:41.954 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 13.9321ms
2025-08-05 20:49:41.957 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:49:41.959 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/logout - 200 null application/json; charset=utf-8 31.4487ms
2025-08-05 20:49:41.995 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:49:41.997 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:49:41.998 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:42.000 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:42.003 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 6.6662ms
2025-08-05 20:49:42.004 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 7.6074ms
2025-08-05 20:49:42.013 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:49:42.018 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:49:42.027 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:42.030 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:42.032 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:49:42.033 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:42.034 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 20:49:42.037 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:42.040 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 26.2718ms
2025-08-05 20:49:42.049 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:42.177 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:42.180 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 137.7119ms
2025-08-05 20:49:42.182 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:42.184 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 166.0278ms
2025-08-05 20:49:44.690 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 20:49:44.692 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:44.693 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 3.7987ms
2025-08-05 20:49:44.697 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 55
2025-08-05 20:49:44.701 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:44.702 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:49:44.704 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:49:44.708 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 20:49:44.782 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 20:49:44.787 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 20:49:44.788 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 82.4951ms
2025-08-05 20:49:44.790 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:49:44.791 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 94.2087ms
2025-08-05 20:49:44.826 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:49:44.828 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:49:44.831 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:44.838 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:44.839 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 13.2018ms
2025-08-05 20:49:44.841 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 13.0084ms
2025-08-05 20:49:44.847 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:49:44.851 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:49:44.854 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:44.859 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:44.861 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:44.863 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:44.865 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:49:44.869 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:44.870 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:49:44.872 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:44.873 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 26.8567ms
2025-08-05 20:49:44.882 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:45.025 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:45.027 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 151.2509ms
2025-08-05 20:49:45.029 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:45.030 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 179.5014ms
2025-08-05 20:49:46.228 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:49:46.231 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.261 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:46.264 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:46.265 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:49:46.276 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:49:46.386 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:46.388 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 119.8988ms
2025-08-05 20:49:46.390 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:46.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 164.4168ms
2025-08-05 20:49:46.397 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:49:46.400 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.403 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:46.406 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:49:46.407 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:49:46.409 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 12.0802ms
2025-08-05 20:49:46.420 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:49:46.423 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.426 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:46.429 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:49:46.431 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:49:46.433 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 12.4813ms
2025-08-05 20:49:46.452 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:49:46.455 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.456 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 4.3263ms
2025-08-05 20:49:46.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:49:46.464 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:46.470 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:49:46.471 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:49:46.475 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:49:46.481 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:49:46.484 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:49:46.486 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 12.6769ms
2025-08-05 20:49:46.488 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:49:46.490 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 29.9959ms
2025-08-05 20:49:46.494 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:49:46.499 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.500 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 5.8005ms
2025-08-05 20:49:46.505 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:49:46.508 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.511 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:46.522 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:46.524 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:49:46.539 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:49:46.559 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.563 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.568 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.572 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.577 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.581 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.585 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.592 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.595 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.599 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.602 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:49:46.604 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:49:46.607 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 73.4925ms
2025-08-05 20:49:46.608 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:49:46.610 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 104.8719ms
2025-08-05 20:49:46.613 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:49:46.617 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.618 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 4.1898ms
2025-08-05 20:49:46.622 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:49:46.625 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:49:46.627 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:49:46.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 7.4016ms
2025-08-05 20:49:46.633 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:50:10.145 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - null null
2025-08-05 20:50:10.147 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:10.148 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/logout - 204 null null 3.7226ms
2025-08-05 20:50:10.152 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/logout - application/json 0
2025-08-05 20:50:10.155 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:10.159 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:10.161 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:50:10.163 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:50:10.167 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r.id, r.created_at, r.created_by_ip, r.expires_at, r.replaced_by_token, r.revoked_at, r.revoked_by_ip, r.token, r.user_id
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN refresh_tokens AS r ON a0."Id" = r.user_id
ORDER BY a0."Id"
2025-08-05 20:50:10.175 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE refresh_tokens SET revoked_at = @p0
WHERE id = @p1;
2025-08-05 20:50:10.178 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:50:10.180 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 14.7836ms
2025-08-05 20:50:10.182 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-08-05 20:50:10.183 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/logout - 200 null application/json; charset=utf-8 31.1393ms
2025-08-05 20:50:10.238 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:50:10.243 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:10.244 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 5.8534ms
2025-08-05 20:50:10.248 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:50:10.252 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:10.253 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:10.257 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:50:10.275 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:50:10.409 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:50:10.412 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 144.7163ms
2025-08-05 20:50:10.414 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:10.415 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 166.6257ms
2025-08-05 20:50:10.419 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:50:10.422 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:10.423 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.2312ms
2025-08-05 20:50:10.427 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:50:10.430 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:10.431 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:50:10.432 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 20:50:10.433 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 6.1085ms
2025-08-05 20:50:14.941 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 20:50:14.944 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:14.945 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 4.1678ms
2025-08-05 20:50:14.949 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 55
2025-08-05 20:50:14.952 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:14.956 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:50:14.957 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 20:50:14.962 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 20:50:15.031 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 20:50:15.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 20:50:15.040 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 81.07ms
2025-08-05 20:50:15.042 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 20:50:15.044 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 95.5145ms
2025-08-05 20:50:15.085 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:50:15.096 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:50:15.099 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:15.102 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:15.107 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 21.4971ms
2025-08-05 20:50:15.110 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 14.1471ms
2025-08-05 20:50:15.114 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:50:15.120 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:50:15.124 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:15.127 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:15.130 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:15.131 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:15.133 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:15.138 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:50:15.139 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:50:15.140 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:50:15.144 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 24.1915ms
2025-08-05 20:50:15.152 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:50:15.291 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:50:15.293 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 150.4835ms
2025-08-05 20:50:15.295 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:15.296 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 181.6936ms
2025-08-05 20:50:17.215 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:50:17.218 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.221 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:17.226 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:17.227 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:50:17.240 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:50:17.363 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:50:17.366 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 135.5109ms
2025-08-05 20:50:17.368 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:17.370 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 154.5977ms
2025-08-05 20:50:17.374 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:50:17.378 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.381 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:17.384 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:50:17.386 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:50:17.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 16.0251ms
2025-08-05 20:50:17.412 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:50:17.415 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.417 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:17.420 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:50:17.422 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:50:17.423 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 11.813ms
2025-08-05 20:50:17.434 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:50:17.439 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.440 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 5.5982ms
2025-08-05 20:50:17.444 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:50:17.448 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.452 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:17.455 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:50:17.456 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:50:17.469 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:50:17.482 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:50:17.488 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:50:17.490 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 31.0292ms
2025-08-05 20:50:17.492 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:50:17.493 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 49.4672ms
2025-08-05 20:50:17.500 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:50:17.504 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.506 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 5.9264ms
2025-08-05 20:50:17.511 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:50:17.516 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.520 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:17.523 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:17.524 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:50:17.537 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:50:17.549 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.553 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.557 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.565 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.569 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.573 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.576 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.580 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.583 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.587 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.590 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:17.592 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:50:17.594 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 65.0548ms
2025-08-05 20:50:17.596 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:17.597 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 85.7832ms
2025-08-05 20:50:17.601 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:50:17.604 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.605 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 3.5476ms
2025-08-05 20:50:17.610 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:50:17.613 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:17.615 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:17.618 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 8.502ms
2025-08-05 20:50:17.623 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:50:47.215 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:50:47.218 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.219 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 3.7944ms
2025-08-05 20:50:47.223 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:50:47.227 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.231 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:47.234 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:47.235 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:50:47.243 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:50:47.340 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:50:47.342 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 104.5358ms
2025-08-05 20:50:47.343 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:47.344 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 122.0148ms
2025-08-05 20:50:47.348 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:50:47.351 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.352 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.097ms
2025-08-05 20:50:47.356 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:50:47.359 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.361 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:47.364 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:50:47.365 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:50:47.367 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 10.1296ms
2025-08-05 20:50:47.368 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:50:47.370 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:50:47.374 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.376 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.378 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 7.8531ms
2025-08-05 20:50:47.378 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:47.382 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:50:47.385 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:50:47.388 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.389 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:50:47.391 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:47.391 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 23.4391ms
2025-08-05 20:50:47.394 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:50:47.399 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:50:47.403 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:50:47.407 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:50:47.410 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:50:47.413 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 11.3342ms
2025-08-05 20:50:47.415 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:50:47.416 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 34.2402ms
2025-08-05 20:50:47.421 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:50:47.425 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.426 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 4.8499ms
2025-08-05 20:50:47.431 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:50:47.434 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.437 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:47.440 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:47.442 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:50:47.451 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:50:47.463 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.472 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.477 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.481 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.484 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.489 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.493 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.497 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.500 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.503 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.507 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:50:47.510 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:50:47.512 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 66.9438ms
2025-08-05 20:50:47.513 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:50:47.514 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 82.8828ms
2025-08-05 20:50:47.518 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:50:47.521 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.522 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 4.3789ms
2025-08-05 20:50:47.526 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:50:47.529 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:50:47.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:50:47.533 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 7.1717ms
2025-08-05 20:50:47.537 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:51:17.204 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:51:17.207 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.208 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 3.9578ms
2025-08-05 20:51:17.212 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:51:17.215 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:17.220 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:51:17.221 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:51:17.232 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:51:17.328 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:51:17.330 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 107.1978ms
2025-08-05 20:51:17.332 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:51:17.333 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 121.731ms
2025-08-05 20:51:17.337 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:51:17.340 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.341 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 3.8971ms
2025-08-05 20:51:17.349 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:51:17.349 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:51:17.351 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.354 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.355 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 6.3107ms
2025-08-05 20:51:17.358 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:17.363 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:51:17.364 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:51:17.365 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 15.6385ms
2025-08-05 20:51:17.366 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:51:17.370 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:51:17.374 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.376 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.378 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 7.5984ms
2025-08-05 20:51:17.378 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:17.381 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:51:17.383 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:51:17.387 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.388 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:51:17.390 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:17.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 24.3887ms
2025-08-05 20:51:17.393 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:51:17.397 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:51:17.402 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:51:17.406 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:51:17.409 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:51:17.411 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 10.7609ms
2025-08-05 20:51:17.412 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:51:17.414 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 32.4705ms
2025-08-05 20:51:17.418 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:51:17.421 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.422 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 3.6636ms
2025-08-05 20:51:17.426 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:51:17.430 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.432 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:17.435 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:51:17.436 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:51:17.442 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:51:17.451 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.453 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.457 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.463 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.471 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.474 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.477 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.483 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.488 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.492 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:51:17.495 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:51:17.498 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 59.9512ms
2025-08-05 20:51:17.500 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:51:17.504 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 77.7309ms
2025-08-05 20:51:17.519 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:51:17.523 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.526 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 6.6281ms
2025-08-05 20:51:17.530 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:51:17.534 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:17.537 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:17.540 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 10.1503ms
2025-08-05 20:51:17.545 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:51:27.505 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:51:27.510 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:27.505 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:51:27.512 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 7.7878ms
2025-08-05 20:51:27.516 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:27.520 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:51:27.521 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 16.2114ms
2025-08-05 20:51:27.524 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:27.527 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:51:27.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:27.532 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:51:27.535 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:51:27.538 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:51:27.538 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:51:27.543 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:51:27.544 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:51:27.546 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 18.439ms
2025-08-05 20:51:27.550 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:51:27.678 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:51:27.681 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 140.0809ms
2025-08-05 20:51:27.683 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:51:27.684 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 164.3569ms
2025-08-05 20:54:01.101 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:54:01.104 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.106 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 4.8362ms
2025-08-05 20:54:01.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:54:01.126 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.213 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:01.218 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:01.220 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:54:01.236 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:54:01.421 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:01.423 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 201.171ms
2025-08-05 20:54:01.425 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:01.426 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 305.9694ms
2025-08-05 20:54:01.431 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:54:01.435 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.436 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 5.242ms
2025-08-05 20:54:01.440 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:01.444 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.446 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:01.450 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:01.451 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:01.452 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 11.9711ms
2025-08-05 20:54:01.461 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:01.468 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.470 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:01.473 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:01.475 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:01.476 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 14.6366ms
2025-08-05 20:54:01.500 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:54:01.504 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.507 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 6.9445ms
2025-08-05 20:54:01.519 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:54:01.523 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.528 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:01.557 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:01.560 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:01.571 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:54:01.579 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:54:01.587 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:54:01.590 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 27.6376ms
2025-08-05 20:54:01.592 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:01.594 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 74.7807ms
2025-08-05 20:54:01.602 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:54:01.606 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.607 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 4.9724ms
2025-08-05 20:54:01.611 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:54:01.617 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.620 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:01.623 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:01.625 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:01.634 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:54:01.645 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.652 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.656 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.660 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.663 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.670 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.673 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.675 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.678 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.683 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.687 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:01.692 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:01.694 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 66.6435ms
2025-08-05 20:54:01.695 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:01.696 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 84.9359ms
2025-08-05 20:54:01.702 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:54:01.704 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.705 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 3.3139ms
2025-08-05 20:54:01.708 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:54:01.711 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:01.713 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:01.718 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 9.7342ms
2025-08-05 20:54:01.721 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:54:31.083 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:54:31.086 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.088 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 5.2872ms
2025-08-05 20:54:31.092 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:54:31.096 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.101 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:31.105 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:31.106 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:54:31.117 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:54:31.247 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:31.249 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 140.1016ms
2025-08-05 20:54:31.251 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:31.252 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 160.2545ms
2025-08-05 20:54:31.256 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:54:31.260 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.261 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.5277ms
2025-08-05 20:54:31.265 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:31.268 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.271 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:31.273 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:31.275 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:31.276 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 11.1069ms
2025-08-05 20:54:31.288 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:31.291 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.291 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:54:31.294 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:31.295 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.298 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:31.299 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 8.1323ms
2025-08-05 20:54:31.300 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:31.304 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:54:31.305 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 17.3384ms
2025-08-05 20:54:31.308 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.314 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:31.317 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:31.318 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:31.322 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:54:31.326 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:54:31.329 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:54:31.331 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 10.493ms
2025-08-05 20:54:31.332 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:31.334 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 29.855ms
2025-08-05 20:54:31.340 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:54:31.343 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.344 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 4.0161ms
2025-08-05 20:54:31.348 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:54:31.350 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.352 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:31.355 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:31.356 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:31.363 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:54:31.372 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.375 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.378 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.381 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.384 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.387 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.390 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.393 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.395 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.398 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.401 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.403 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:31.406 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:31.408 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 49.8369ms
2025-08-05 20:54:31.410 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:31.411 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 63.4262ms
2025-08-05 20:54:31.415 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:54:31.418 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.419 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 4.2808ms
2025-08-05 20:54:31.423 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:54:31.427 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:31.429 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:31.433 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 9.5261ms
2025-08-05 20:54:31.438 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:54:41.839 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:54:41.845 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:41.846 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 7.2546ms
2025-08-05 20:54:41.854 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:54:41.860 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:41.864 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:41.868 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:41.870 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:54:41.881 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:54:42.015 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:42.018 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 145.1197ms
2025-08-05 20:54:42.019 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:42.020 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 166.2064ms
2025-08-05 20:54:42.025 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:54:42.028 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.029 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.5388ms
2025-08-05 20:54:42.033 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:42.037 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.039 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:42.041 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:42.052 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:42.054 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 20.6138ms
2025-08-05 20:54:42.056 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:42.062 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:54:42.065 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.068 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.070 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 8.0993ms
2025-08-05 20:54:42.071 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:42.074 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:54:42.077 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:42.079 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.080 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:42.082 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 26.5621ms
2025-08-05 20:54:42.083 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:42.088 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:42.090 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:42.095 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:54:42.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:54:42.103 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:54:42.106 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 13.4152ms
2025-08-05 20:54:42.108 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:42.109 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 35.3845ms
2025-08-05 20:54:42.113 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:54:42.116 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.117 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 3.8233ms
2025-08-05 20:54:42.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:54:42.123 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.127 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:42.130 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:42.131 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:42.139 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:54:42.153 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.157 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.161 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.164 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.168 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.175 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.182 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.190 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.194 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:42.197 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:42.200 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 65.9739ms
2025-08-05 20:54:42.201 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:42.203 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 82.3462ms
2025-08-05 20:54:42.210 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:54:42.213 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.214 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 4.671ms
2025-08-05 20:54:42.218 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:54:42.221 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:42.224 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:42.227 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 8.5542ms
2025-08-05 20:54:42.231 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 20:54:49.717 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 20:54:49.720 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.722 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 4.7912ms
2025-08-05 20:54:49.727 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 20:54:49.730 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.732 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:49.735 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:49.736 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 20:54:49.745 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 20:54:49.849 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:49.852 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 111.9041ms
2025-08-05 20:54:49.854 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:49.856 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 129.2225ms
2025-08-05 20:54:49.860 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 20:54:49.863 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.865 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 4.1542ms
2025-08-05 20:54:49.869 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:49.872 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.875 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:49.878 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:49.880 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:49.882 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 13.559ms
2025-08-05 20:54:49.883 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 20:54:49.887 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - null null
2025-08-05 20:54:49.890 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.893 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.896 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:49.896 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/stats - 204 null null 8.8767ms
2025-08-05 20:54:49.898 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 20:54:49.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/stats - application/json null
2025-08-05 20:54:49.903 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 20:54:49.907 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.909 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 25.248ms
2025-08-05 20:54:49.911 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:49.916 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:49.918 +08:00 [INF] Route matched with {action = "GetStudentStats", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentStats() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:49.923 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
WHERE e.student_id = @__userId_0
2025-08-05 20:54:49.928 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.amount, t.course_id, t.created_at, t.currency, t.payment_intent_id, t.payment_method, t.processed_at, t.status, t.subscription_id, t.transaction_id, t.user_id
FROM transactions AS t
WHERE t.user_id = @__userId_0 AND t.status = 'Completed'
2025-08-05 20:54:49.931 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType58`9[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-05 20:54:49.934 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api) in 13.7127ms
2025-08-05 20:54:49.937 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetStudentStats (CeceLearningPortal.Api)'
2025-08-05 20:54:49.939 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/stats - 200 null application/json; charset=utf-8 36.7206ms
2025-08-05 20:54:49.943 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - null null
2025-08-05 20:54:49.948 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.949 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/students/courses - 204 null null 5.3237ms
2025-08-05 20:54:49.957 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/students/courses - application/json null
2025-08-05 20:54:49.961 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:49.965 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:49.969 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:49.971 +08:00 [INF] Route matched with {action = "GetEnrolledCourses", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEnrolledCourses() on controller CeceLearningPortal.Api.Controllers.StudentsController (CeceLearningPortal.Api).
2025-08-05 20:54:49.981 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent, c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url
FROM enrollments AS e
INNER JOIN courses AS c ON e.course_id = c.id
INNER JOIN "AspNetUsers" AS a ON c.instructor_id = a."Id"
LEFT JOIN (
    SELECT c0.id, c0.course_id, c0.created_at, c0.description, c0."order", c0.title, c0.updated_at, c1.id AS id0, c1.content, c1.created_at AS created_at0, c1.duration, c1.module_id, c1."order" AS order0, c1.title AS title0, c1.type, c1.updated_at AS updated_at0, c1.video_url
    FROM course_modules AS c0
    LEFT JOIN course_lessons AS c1 ON c0.id = c1.module_id
) AS s ON c.id = s.course_id
WHERE e.student_id = @__userId_0
ORDER BY COALESCE(e.last_accessed_date, e.enrolled_at) DESC, e.id, c.id, a."Id", s.id
2025-08-05 20:54:49.995 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:49.999 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.004 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.007 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.011 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.015 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.020 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.024 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.027 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.031 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.035 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.038 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?', @__lessonId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM lesson_progress AS l
    WHERE l.student_id = @__userId_0 AND l.lesson_id = @__lessonId_1 AND l.status = 'Completed')
2025-08-05 20:54:50.041 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType57`14[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 20:54:50.044 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api) in 68.9823ms
2025-08-05 20:54:50.046 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.StudentsController.GetEnrolledCourses (CeceLearningPortal.Api)'
2025-08-05 20:54:50.047 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/students/courses - 200 null application/json; charset=utf-8 90.6047ms
2025-08-05 20:54:50.053 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - null null
2025-08-05 20:54:50.056 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:50.058 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/subscriptions/current - 204 null null 4.2319ms
2025-08-05 20:54:50.062 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - application/json null
2025-08-05 20:54:50.065 +08:00 [INF] CORS policy execution successful.
2025-08-05 20:54:50.069 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 20:54:50.072 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/subscriptions/current - 404 0 null 9.977ms
2025-08-05 20:54:50.077 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/api/subscriptions/current, Response status code: 404
2025-08-05 21:12:25.539 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 21:12:25.540 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 21:12:25.542 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:25.544 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:25.545 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 6.5984ms
2025-08-05 21:12:25.547 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 6.8699ms
2025-08-05 21:12:25.555 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 21:12:25.558 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 21:12:25.560 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:25.562 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:25.564 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 21:12:25.564 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 21:12:25.566 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-05 21:12:25.567 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 21:12:25.568 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 401 0 null 13.1056ms
2025-08-05 21:12:25.660 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 21:12:25.849 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 21:12:25.851 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 280.6013ms
2025-08-05 21:12:25.852 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 21:12:25.853 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 295.2846ms
2025-08-05 21:12:30.715 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - null null
2025-08-05 21:12:30.720 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:30.724 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/auth/login - 204 null null 8.7861ms
2025-08-05 21:12:30.729 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/auth/login - application/json 55
2025-08-05 21:12:30.734 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:30.735 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 21:12:30.737 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 21:12:30.743 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 21:12:30.809 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 21:12:30.828 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 21:12:30.830 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 89.6826ms
2025-08-05 21:12:30.832 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 21:12:30.833 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/auth/login - 200 null application/json; charset=utf-8 103.4596ms
2025-08-05 21:12:30.863 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/courses - null null
2025-08-05 21:12:30.865 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - null null
2025-08-05 21:12:30.870 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:30.875 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/courses - 204 null null 11.4267ms
2025-08-05 21:12:30.873 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:30.881 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5294/api/analytics/platform - 204 null null 15.573ms
2025-08-05 21:12:30.880 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/courses - application/json null
2025-08-05 21:12:30.885 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/api/analytics/platform - application/json null
2025-08-05 21:12:30.889 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:30.892 +08:00 [INF] CORS policy execution successful.
2025-08-05 21:12:30.896 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 21:12:30.899 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 21:12:30.903 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-08-05 21:12:30.915 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0.id, c0."AccessDuration", c0."AccessType", c0."AutomationAbandonmentSequence", c0."AutomationCompletionCertificate", c0."AutomationProgressReminders", c0."AutomationWelcomeEmail", c0.category, c0."CourseType", c0.created_at, c0."Currency", c0.description, c0.discount, c0."DripContent", c0."DripScheduleJson", c0.duration, c0."EnrollmentLimit", c0.enrollment_type, c0.features, c0."HasAssignments", c0."HasCertificate", c0."HasCommunity", c0."HasDownloadableResources", c0."HasLiveSessions", c0."HasQuizzes", c0.instructor_id, c0.is_bestseller, c0."IsPublished", c0."Language", c0.level, c0.original_price, c0."PaymentPlanDetailsJson", c0.preview_url, c0.price, c0."PricingModel", c0."PromoVideoUrl", c0."PublishedAt", c0."ShortDescription", c0.status, c0."SubscriptionPeriod", c0.thumbnail, c0.thumbnail_url, c0.title, c0.updated_at, a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s.id, s.course_id, s.created_at, s.description, s."order", s.title, s.updated_at, s.id0, s.content, s.created_at0, s.duration, s.module_id, s.order0, s.title0, s.type, s.updated_at0, s.video_url, c3.id, c3.approved_at, c3.approved_by, c3.comment, c3.course_id, c3.created_at, c3.is_flagged, c3.rating, c3.status, c3.student_id, e.id, e.average_quiz_score, e.certificate_issued, e.certificate_url, e.completed_at, e.completed_lessons, e.course_id, e.enrolled_at, e.last_accessed_date, e.progress_percentage, e.quiz_count, e.student_id, e.total_time_spent
FROM (
    SELECT c.id, c."AccessDuration", c."AccessType", c."AutomationAbandonmentSequence", c."AutomationCompletionCertificate", c."AutomationProgressReminders", c."AutomationWelcomeEmail", c.category, c."CourseType", c.created_at, c."Currency", c.description, c.discount, c."DripContent", c."DripScheduleJson", c.duration, c."EnrollmentLimit", c.enrollment_type, c.features, c."HasAssignments", c."HasCertificate", c."HasCommunity", c."HasDownloadableResources", c."HasLiveSessions", c."HasQuizzes", c.instructor_id, c.is_bestseller, c."IsPublished", c."Language", c.level, c.original_price, c."PaymentPlanDetailsJson", c.preview_url, c.price, c."PricingModel", c."PromoVideoUrl", c."PublishedAt", c."ShortDescription", c.status, c."SubscriptionPeriod", c.thumbnail, c.thumbnail_url, c.title, c.updated_at
    FROM courses AS c
    ORDER BY c.created_at DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0.instructor_id = a."Id"
LEFT JOIN (
    SELECT c1.id, c1.course_id, c1.created_at, c1.description, c1."order", c1.title, c1.updated_at, c2.id AS id0, c2.content, c2.created_at AS created_at0, c2.duration, c2.module_id, c2."order" AS order0, c2.title AS title0, c2.type, c2.updated_at AS updated_at0, c2.video_url
    FROM course_modules AS c1
    LEFT JOIN course_lessons AS c2 ON c1.id = c2.module_id
) AS s ON c0.id = s.course_id
LEFT JOIN course_reviews AS c3 ON c0.id = c3.course_id
LEFT JOIN enrollments AS e ON c0.id = e.course_id
ORDER BY c0.created_at DESC, c0.id, a."Id", s.id, s.id0, c3.id
2025-08-05 21:12:30.968 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM refresh_tokens AS r
    WHERE r.user_id = @__userId_0 AND r.revoked_at IS NULL AND now() < r.expires_at)
2025-08-05 21:12:30.971 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-05 21:12:30.972 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-05 21:12:30.974 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/analytics/platform - 403 0 null 88.7648ms
2025-08-05 21:12:31.031 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-05 21:12:31.033 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 126.34ms
2025-08-05 21:12:31.034 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-08-05 21:12:31.036 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/api/courses - 200 null application/json; charset=utf-8 155.6296ms
2025-08-05 21:13:24.217 +08:00 [INF] Application is shutting down...
2025-08-05 21:59:28.841 +08:00 [INF] Checking database connection...
2025-08-05 21:59:30.762 +08:00 [ERR] Cannot connect to database. Please check your connection string.
2025-08-05 21:59:30.828 +08:00 [INF] User profile is available. Using 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-05 21:59:31.147 +08:00 [INF] Now listening on: https://localhost:7251
2025-08-05 21:59:31.267 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-05 21:59:31.269 +08:00 [INF] Hosting environment: Development
2025-08-05 21:59:31.271 +08:00 [INF] Content root path: C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api
2025-08-05 22:13:34.100 +08:00 [INF] Checking database connection...
2025-08-05 22:13:35.568 +08:00 [ERR] Cannot connect to database. Please check your connection string.
2025-08-05 22:13:35.630 +08:00 [INF] User profile is available. Using 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-05 22:13:35.978 +08:00 [INF] Now listening on: http://localhost:5294
2025-08-05 22:13:36.145 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-05 22:13:36.153 +08:00 [INF] Hosting environment: Development
2025-08-05 22:13:36.157 +08:00 [INF] Content root path: C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api
2025-08-05 22:15:29.966 +08:00 [INF] Checking database connection...
2025-08-05 22:15:31.569 +08:00 [ERR] Cannot connect to database. Please check your connection string.
2025-08-05 22:15:31.606 +08:00 [INF] User profile is available. Using 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-05 22:15:31.702 +08:00 [INF] Now listening on: http://localhost:5294
2025-08-05 22:15:31.705 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-05 22:15:31.707 +08:00 [INF] Hosting environment: Development
2025-08-05 22:15:31.710 +08:00 [INF] Content root path: C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api
2025-08-05 22:15:43.944 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/ - null null
2025-08-05 22:15:44.026 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-05 22:15:44.097 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/ - 404 0 null 154.8842ms
2025-08-05 22:15:44.120 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/, Response status code: 404
2025-08-05 22:15:48.623 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - null null
2025-08-05 22:15:48.886 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 263.9248ms
2025-08-05 22:15:56.730 +08:00 [INF] Application is shutting down...
2025-08-05 22:17:25.838 +08:00 [INF] Checking database connection...
2025-08-05 22:17:27.069 +08:00 [ERR] Cannot connect to database. Please check your connection string.
2025-08-05 22:17:27.111 +08:00 [INF] User profile is available. Using 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-05 22:17:27.283 +08:00 [INF] Now listening on: http://localhost:5294
2025-08-05 22:17:27.357 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-05 22:17:27.361 +08:00 [INF] Hosting environment: Development
2025-08-05 22:17:27.363 +08:00 [INF] Content root path: C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api
2025-08-05 22:17:36.017 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/ - null null
2025-08-05 22:17:36.283 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-05 22:17:36.395 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/ - 404 0 null 381.716ms
2025-08-05 22:17:36.408 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/, Response status code: 404
2025-08-05 22:17:41.310 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - null null
2025-08-05 22:17:41.374 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.1527ms
2025-08-05 22:18:29.349 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/index.html - null null
2025-08-05 22:18:29.422 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/index.html - 200 null text/html;charset=utf-8 72.8045ms
2025-08-05 22:18:29.464 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/_vs/browserLink - null null
2025-08-05 22:18:29.500 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/_framework/aspnetcore-browser-refresh.js - null null
2025-08-05 22:18:29.516 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 43.1634ms
2025-08-05 22:18:29.669 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/_vs/browserLink - 200 null text/javascript; charset=UTF-8 204.8033ms
2025-08-05 22:18:29.720 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - null null
2025-08-05 22:18:29.779 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.9205ms
2025-08-05 22:36:01.657 +08:00 [INF] Checking database connection...
2025-08-05 22:36:02.916 +08:00 [INF] Database connection successful.
2025-08-05 22:36:02.921 +08:00 [INF] Attempting to apply migrations...
2025-08-05 22:36:03.026 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-05 22:36:03.358 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-08-05 22:36:03.385 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-08-05 22:36:03.392 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-05 22:36:03.400 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-05 22:36:03.416 +08:00 [INF] Migrations applied successfully.
2025-08-05 22:36:03.419 +08:00 [INF] Starting data seeding...
2025-08-05 22:36:03.438 +08:00 [INF] User profile is available. Using 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-05 22:36:03.652 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM courses AS c)
2025-08-05 22:36:03.658 +08:00 [INF] Database already contains data. Checking if data cleanup is needed...
2025-08-05 22:36:03.660 +08:00 [INF] Checking for missing data components...
2025-08-05 22:36:03.669 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s)
2025-08-05 22:36:03.671 +08:00 [INF] No subscriptions found. Seeding subscriptions...
2025-08-05 22:36:03.681 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscription_plans AS s)
2025-08-05 22:36:03.737 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s.id, s.created_at, s.description, s.display_order, s.features, s.has_analytics, s.has_priority_support, s.has_unlimited_access, s.is_active, s.is_recommended, s.max_course_access, s.max_courses_can_create, s.max_students_per_course, s.monthly_price, s.name, s.plan_type, s.transaction_fee_percentage, s.updated_at, s.yearly_price
FROM subscription_plans AS s
2025-08-05 22:36:03.865 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Status" = 'Active'
2025-08-05 22:36:03.946 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__student_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__student_Id_0 AND s.status = 'Active')
2025-08-05 22:36:04.019 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__instructor_Id_0 AND s.status = 'Active')
2025-08-05 22:36:04.031 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__instructor_Id_0 AND s.status = 'Active')
2025-08-05 22:36:04.036 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructor_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s
    WHERE s.user_id = @__instructor_Id_0 AND s.status = 'Active')
2025-08-05 22:36:04.208 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Decimal), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Decimal), @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?' (DbType = DateTime), @p27='?' (DbType = DateTime), @p28='?', @p29='?' (DbType = Decimal), @p30='?' (DbType = DateTime), @p31='?', @p32='?', @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?', @p36='?', @p37='?' (DbType = DateTime), @p38='?' (DbType = DateTime), @p39='?' (DbType = DateTime), @p40='?', @p41='?' (DbType = Decimal), @p42='?' (DbType = DateTime), @p43='?', @p44='?', @p45='?' (DbType = Int32), @p46='?' (DbType = DateTime), @p47='?', @p48='?', @p49='?' (DbType = DateTime), @p50='?' (DbType = DateTime), @p51='?' (DbType = DateTime), @p52='?', @p53='?' (DbType = Decimal), @p54='?' (DbType = DateTime), @p55='?', @p56='?', @p57='?' (DbType = Int32), @p58='?' (DbType = DateTime), @p59='?', @p60='?', @p61='?' (DbType = DateTime), @p62='?' (DbType = DateTime), @p63='?' (DbType = DateTime), @p64='?', @p65='?' (DbType = Decimal), @p66='?' (DbType = DateTime), @p67='?', @p68='?', @p69='?' (DbType = Int32), @p70='?' (DbType = DateTime), @p71='?', @p72='?', @p73='?' (DbType = DateTime), @p74='?' (DbType = DateTime), @p75='?' (DbType = DateTime), @p76='?', @p77='?' (DbType = Decimal), @p78='?' (DbType = DateTime), @p79='?', @p80='?', @p81='?' (DbType = Int32), @p82='?' (DbType = DateTime), @p83='?', @p84='?', @p85='?' (DbType = DateTime), @p86='?' (DbType = DateTime), @p87='?' (DbType = DateTime), @p88='?', @p89='?' (DbType = Decimal), @p90='?' (DbType = DateTime), @p91='?', @p92='?', @p93='?' (DbType = Int32), @p94='?' (DbType = DateTime), @p95='?', @p96='?', @p97='?' (DbType = DateTime), @p98='?' (DbType = DateTime), @p99='?' (DbType = DateTime), @p100='?', @p101='?' (DbType = Decimal), @p102='?' (DbType = DateTime), @p103='?', @p104='?', @p105='?' (DbType = Int32), @p106='?' (DbType = DateTime), @p107='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95)
RETURNING id;
INSERT INTO subscriptions (billing_cycle, created_at, end_date, next_billing_date, plan_name, price, start_date, status, stripe_subscription_id, subscription_plan_id, updated_at, user_id)
VALUES (@p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107)
RETURNING id;
2025-08-05 22:36:04.301 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = Int32), @p9='?', @p10='?', @p11='?' (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime), @p14='?', @p15='?', @p16='?', @p17='?' (DbType = DateTime), @p18='?', @p19='?' (DbType = Int32), @p20='?', @p21='?', @p22='?' (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p25='?', @p26='?', @p27='?', @p28='?' (DbType = DateTime), @p29='?', @p30='?' (DbType = Int32), @p31='?', @p32='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21)
RETURNING id;
INSERT INTO transactions (amount, course_id, created_at, currency, payment_intent_id, payment_method, processed_at, status, subscription_id, transaction_id, user_id)
VALUES (@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32)
RETURNING id;
2025-08-05 22:36:04.310 +08:00 [INF] Created active subscriptions and payments for users
2025-08-05 22:36:04.311 +08:00 [INF] Subscriptions seeded successfully.
2025-08-05 22:36:04.312 +08:00 [INF] Data seeding completed.
2025-08-05 22:36:04.392 +08:00 [INF] Unable to bind to http://localhost:5294 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions.'.
2025-08-05 22:36:04.396 +08:00 [INF] Unable to bind to http://localhost:5294 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions.'.
2025-08-05 22:36:04.400 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://localhost:5294.
 ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions.) (An attempt was made to access a socket in a way forbidden by its access permissions.)
 ---> System.Net.Sockets.SocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
 ---> (Inner Exception #1) System.Net.Sockets.SocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)<---

   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-05 22:36:04.424 +08:00 [FTL] Application start-up failed
System.IO.IOException: Failed to bind to address http://localhost:5294.
 ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions.) (An attempt was made to access a socket in a way forbidden by its access permissions.)
 ---> System.Net.Sockets.SocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
 ---> (Inner Exception #1) System.Net.Sockets.SocketException (10013): An attempt was made to access a socket in a way forbidden by its access permissions.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)<---

   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api\Program.cs:line 259
2025-08-05 22:36:18.992 +08:00 [INF] Checking database connection...
2025-08-05 22:36:20.014 +08:00 [INF] Database connection successful.
2025-08-05 22:36:20.017 +08:00 [INF] Attempting to apply migrations...
2025-08-05 22:36:20.119 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-05 22:36:20.571 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-08-05 22:36:20.600 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-08-05 22:36:20.605 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-05 22:36:20.616 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-08-05 22:36:20.632 +08:00 [INF] Migrations applied successfully.
2025-08-05 22:36:20.634 +08:00 [INF] Starting data seeding...
2025-08-05 22:36:20.658 +08:00 [INF] User profile is available. Using 'C:\Users\Win11\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-05 22:36:20.913 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM courses AS c)
2025-08-05 22:36:20.919 +08:00 [INF] Database already contains data. Checking if data cleanup is needed...
2025-08-05 22:36:20.921 +08:00 [INF] Checking for missing data components...
2025-08-05 22:36:20.928 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM subscriptions AS s)
2025-08-05 22:36:20.932 +08:00 [INF] Data seeding completed.
2025-08-05 22:36:21.010 +08:00 [INF] Now listening on: http://localhost:5294
2025-08-05 22:36:21.012 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-05 22:36:21.014 +08:00 [INF] Hosting environment: Development
2025-08-05 22:36:21.015 +08:00 [INF] Content root path: C:\Users\Win11\Downloads\Cece-20250805T084305Z-1-001\Cece\Cece-master\Cece-master\CeceLearningPortal.Backend\CeceLearningPortal.Api
2025-08-05 22:36:25.491 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/ - null null
2025-08-05 22:36:25.560 +08:00 [WRN] Failed to determine the https port for redirect.
2025-08-05 22:36:25.623 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/ - 404 0 null 135.4652ms
2025-08-05 22:36:25.637 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5294/, Response status code: 404
2025-08-05 22:36:29.459 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - null null
2025-08-05 22:36:29.663 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5294/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 203.8185ms
2025-08-05 22:37:13.053 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5294/api/Auth/login - application/json 60
2025-08-05 22:37:13.074 +08:00 [INF] CORS policy execution failed.
2025-08-05 22:37:13.085 +08:00 [INF] Request origin http://localhost:5294 does not have permission to access the resource.
2025-08-05 22:37:13.090 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 22:37:13.120 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-08-05 22:37:13.398 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-05 22:37:13.833 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO refresh_tokens (created_at, created_by_ip, expires_at, replaced_by_token, revoked_at, revoked_by_ip, token, user_id)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING id;
2025-08-05 22:37:13.873 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-08-05 22:37:13.891 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 764.9883ms
2025-08-05 22:37:13.894 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-08-05 22:37:13.900 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5294/api/Auth/login - 200 null application/json; charset=utf-8 847.5615ms
2025-08-05 22:37:47.271 +08:00 [INF] Application is shutting down...
