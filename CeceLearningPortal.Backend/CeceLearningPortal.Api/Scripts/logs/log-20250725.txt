2025-07-25 12:45:35.933 +08:00 [FTL] Application start-up failed
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 170
2025-07-25 12:48:47.199 +08:00 [FTL] Application start-up failed
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 170
2025-07-25 12:49:02.889 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 12:49:02.949 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 12:49:03.298 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 12:49:03.607 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 12:49:03.616 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 12:49:03.617 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 12:49:03.618 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 12:49:03.622 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 12:49:03.642 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 12:49:03.688 +08:00 [WRN] The WebRootPath was not found: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/wwwroot. Static files may be unavailable.
2025-07-25 12:49:03.712 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 12:49:03.714 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 12:49:03.714 +08:00 [INF] Hosting environment: Development
2025-07-25 12:49:03.714 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 12:52:46.788 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 12:52:46.846 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 12:52:47.130 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 12:52:47.399 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 12:52:47.406 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 12:52:47.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 12:52:47.408 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 12:52:47.411 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 12:52:47.429 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 12:52:47.485 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 12:52:47.487 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 12:52:47.488 +08:00 [INF] Hosting environment: Development
2025-07-25 12:52:47.488 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 12:52:53.053 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/ - null null
2025-07-25 12:52:53.115 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 12:52:53.176 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 125.1262ms
2025-07-25 12:52:53.184 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404
2025-07-25 12:53:06.975 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null
2025-07-25 12:53:07.050 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 75.1045ms
2025-07-25 12:53:07.071 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui.css - null null
2025-07-25 12:53:07.079 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.css - null null
2025-07-25 12:53:07.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-bundle.js - null null
2025-07-25 12:53:07.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-standalone-preset.js - null null
2025-07-25 12:53:07.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.js - null null
2025-07-25 12:53:07.082 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.js - 200 null application/javascript;charset=utf-8 1.1194ms
2025-07-25 12:53:07.084 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.css - 200 202 text/css 4.8268ms
2025-07-25 12:53:07.172 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 91.943ms
2025-07-25 12:53:07.172 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui.css - 200 155175 text/css 101.5285ms
2025-07-25 12:53:07.178 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-bundle.js - 200 1485750 text/javascript 97.7011ms
2025-07-25 12:53:07.370 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-07-25 12:53:07.390 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/favicon-32x32.png - null null
2025-07-25 12:53:07.391 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/favicon-32x32.png - 200 628 image/png 0.5158ms
2025-07-25 12:53:07.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 138.6091ms
2025-07-25 13:04:47.221 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:04:47.362 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:04:48.026 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:04:48.673 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:04:48.690 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:04:48.692 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:04:48.693 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:04:48.701 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:04:48.733 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:04:48.756 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:04:48.882 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:04:48.900 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:04:48.908 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:04:48.910 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:04:49.448 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:04:49.582 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:04:49.585 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:04:49.613 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:49.763 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 13:04:49.769 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.064 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 13:04:50.093 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 13:04:50.127 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 13:04:50.132 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 13:04:50.147 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 13:04:50.149 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.169 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 13:04:50.174 +08:00 [INF] Created admin user
2025-07-25 13:04:50.175 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.284 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 13:04:50.286 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.296 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 13:04:50.298 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 13:04:50.300 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 13:04:50.301 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 13:04:50.303 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 13:04:50.305 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.307 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 13:04:50.308 +08:00 [INF] Created instructor user
2025-07-25 13:04:50.309 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.412 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 13:04:50.413 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.415 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 13:04:50.416 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 13:04:50.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 13:04:50.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 13:04:50.418 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 13:04:50.419 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.422 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 13:04:50.422 +08:00 [INF] Created student user
2025-07-25 13:04:50.447 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:04:50.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:04:50.615 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?', @p10='?' (DbType = Decimal), @p11='?', @p12='?' (DbType = Decimal), @p13='?', @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?' (DbType = Int32), @p21='?', @p22='?', @p23='?', @p24='?', @p25='?' (DbType = Boolean), @p26='?', @p27='?' (DbType = Decimal), @p28='?', @p29='?' (DbType = Decimal), @p30='?', @p31='?', @p32='?', @p33='?' (DbType = DateTime), @p34='?', @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Int32), @p38='?', @p39='?', @p40='?', @p41='?', @p42='?' (DbType = Boolean), @p43='?', @p44='?' (DbType = Decimal), @p45='?', @p46='?' (DbType = Decimal), @p47='?', @p48='?', @p49='?', @p50='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Category", "CreatedAt", "Description", "Discount", "Duration", "EnrollmentType", "Features", "InstructorId", "IsBestseller", "Level", "OriginalPrice", "PreviewUrl", "Price", "Status", "Thumbnail", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16)
RETURNING "Id";
INSERT INTO "Courses" ("Category", "CreatedAt", "Description", "Discount", "Duration", "EnrollmentType", "Features", "InstructorId", "IsBestseller", "Level", "OriginalPrice", "PreviewUrl", "Price", "Status", "Thumbnail", "Title", "UpdatedAt")
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33)
RETURNING "Id";
INSERT INTO "Courses" ("Category", "CreatedAt", "Description", "Discount", "Duration", "EnrollmentType", "Features", "InstructorId", "IsBestseller", "Level", "OriginalPrice", "PreviewUrl", "Price", "Status", "Thumbnail", "Title", "UpdatedAt")
VALUES (@p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50)
RETURNING "Id";
2025-07-25 13:04:50.668 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CourseModules" ("CourseId", "CreatedAt", "Description", "Order", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-07-25 13:04:50.717 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?', @p15='?', @p16='?' (DbType = DateTime), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Content", "CreatedAt", "Duration", "ModuleId", "Order", "Title", "Type", "UpdatedAt", "VideoUrl")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
INSERT INTO "Lessons" ("Content", "CreatedAt", "Duration", "ModuleId", "Order", "Title", "Type", "UpdatedAt", "VideoUrl")
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
2025-07-25 13:04:50.721 +08:00 [INF] Created sample courses
2025-07-25 13:04:50.721 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:04:50.798 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 13:04:50.798 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 13:04:50.798 +08:00 [INF] Hosting environment: Development
2025-07-25 13:04:50.798 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 13:08:32.840 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:08:32.898 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:08:33.205 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:08:33.492 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:08:33.499 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:08:33.501 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:08:33.501 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:08:33.506 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:08:33.522 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:08:33.537 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:08:33.610 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:08:33.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:08:33.626 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:08:33.628 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:08:33.911 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:08:33.951 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:08:33.952 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:08:33.970 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:08:34.066 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:08:34.067 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:08:34.083 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:08:34.086 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:08:34.156 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 13:08:34.156 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 13:08:34.156 +08:00 [INF] Hosting environment: Development
2025-07-25 13:08:34.156 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 13:08:38.012 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.html - null null
2025-07-25 13:08:38.132 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.html - 200 null text/html;charset=utf-8 123.4139ms
2025-07-25 13:08:38.151 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.js - null null
2025-07-25 13:08:38.151 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-standalone-preset.js - null null
2025-07-25 13:08:38.151 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/index.css - null null
2025-07-25 13:08:38.151 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-bundle.js - null null
2025-07-25 13:08:38.151 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui.css - null null
2025-07-25 13:08:38.157 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.js - 200 null application/javascript;charset=utf-8 6.2924ms
2025-07-25 13:08:38.169 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/index.css - 200 202 text/css 18.0298ms
2025-07-25 13:08:38.190 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 38.6385ms
2025-07-25 13:08:38.190 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui.css - 200 155175 text/css 38.8565ms
2025-07-25 13:08:38.192 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/swagger-ui-bundle.js - 200 1485750 text/javascript 41.0606ms
2025-07-25 13:08:38.373 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-07-25 13:08:38.396 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/favicon-32x32.png - null null
2025-07-25 13:08:38.396 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/favicon-32x32.png - 200 628 image/png 0.5588ms
2025-07-25 13:08:38.544 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 171.1135ms
2025-07-25 13:08:41.105 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:08:41.108 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 13:08:41.110 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:08:41.110 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:08:41.112 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 6.3127ms
2025-07-25 13:08:42.123 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:08:42.130 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:08:42.130 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:08:42.130 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 7.2862ms
2025-07-25 13:08:42.837 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:08:42.838 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:08:42.839 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:08:42.839 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.272ms
2025-07-25 13:08:43.405 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:08:43.406 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:08:43.406 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:08:43.406 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.668ms
2025-07-25 13:08:44.672 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:08:44.672 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:08:44.672 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:08:44.673 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.0287ms
2025-07-25 13:08:51.374 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:08:51.374 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:08:51.374 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:08:51.374 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6625ms
2025-07-25 13:09:12.553 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:09:12.634 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:09:13.070 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:09:13.518 +08:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:09:13.541 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:09:13.542 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:09:13.542 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:09:13.547 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:09:13.564 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:09:13.580 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:09:13.666 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:09:13.679 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:09:13.683 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:09:13.685 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:09:14.037 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:09:14.078 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:09:14.082 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:09:14.101 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:09:14.206 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:09:14.208 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:09:14.224 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:09:14.228 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:09:14.302 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-25 13:09:14.356 +08:00 [FTL] Application start-up failed
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 205
2025-07-25 13:10:07.981 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:10:08.102 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:10:08.638 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:09.134 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:10:09.143 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:10:09.144 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:10:09.145 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:09.149 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:10:09.165 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:10:09.186 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:09.254 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:10:09.266 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:10:09.268 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:09.268 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:10:09.694 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:10:09.740 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:10:09.741 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:10:09.763 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:10:09.887 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:10:09.889 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:10:09.905 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:10:09.909 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:10:09.981 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 13:10:09.982 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 13:10:09.982 +08:00 [INF] Hosting environment: Development
2025-07-25 13:10:09.982 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 13:10:42.278 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:10:42.387 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:10:42.936 +08:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:43.384 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:10:43.393 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:10:43.394 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:10:43.395 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:43.399 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:10:43.415 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:10:43.437 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:43.508 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:10:43.521 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:10:43.523 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:10:43.523 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:10:43.944 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:10:43.988 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:10:43.989 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:10:44.007 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:10:44.165 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:10:44.167 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:10:44.192 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:10:44.196 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:10:44.270 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 13:10:44.270 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 13:10:44.270 +08:00 [INF] Hosting environment: Development
2025-07-25 13:10:44.270 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 13:12:30.902 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:12:30.960 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 13:12:30.964 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:12:30.964 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:12:30.971 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 73.339ms
2025-07-25 13:12:31.969 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:12:31.973 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:12:31.993 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:12:31.993 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 24.5313ms
2025-07-25 13:12:35.465 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-07-25 13:12:35.672 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.4664ms
2025-07-25 13:16:04.694 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:16:04.696 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:16:04.696 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:16:04.696 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.5336ms
2025-07-25 13:16:14.500 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:16:14.500 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:16:14.500 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:16:14.500 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6896ms
2025-07-25 13:16:18.954 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-07-25 13:16:18.971 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.7083ms
2025-07-25 13:16:36.428 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:16:36.428 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:16:36.428 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:16:36.429 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.7377ms
2025-07-25 13:16:38.211 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:16:38.211 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:16:38.211 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:16:38.212 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.463ms
2025-07-25 13:17:17.246 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 58
2025-07-25 13:17:17.297 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:17:17.318 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:17:17.353 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 13:17:17.381 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 59.0589ms
2025-07-25 13:17:17.381 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:17:17.383 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null application/problem+json; charset=utf-8 136.7887ms
2025-07-25 13:17:44.242 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 13:17:44.242 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:17:44.242 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:17:44.245 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:17:44.245 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:17:44.293 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:17:44.733 +08:00 [INF] Executed DbCommand (159ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:17:44.787 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:17:44.793 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 547.5116ms
2025-07-25 13:17:44.793 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:17:44.797 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 554.5808ms
2025-07-25 13:21:09.996 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 58
2025-07-25 13:21:09.997 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:21:09.997 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:21:09.999 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:21:09.999 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:21:10.014 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 13:21:10.015 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 16.0554ms
2025-07-25 13:21:10.015 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:21:10.015 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null application/problem+json; charset=utf-8 19.0526ms
2025-07-25 13:21:41.321 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 13:21:41.321 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:21:41.321 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:21:41.322 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:21:41.322 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:21:41.378 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:21:41.475 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:21:41.476 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:21:41.476 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 154.0906ms
2025-07-25 13:21:41.476 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:21:41.476 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 155.3499ms
2025-07-25 13:26:04.771 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:26:04.771 +08:00 [INF] CORS policy execution failed.
2025-07-25 13:26:04.772 +08:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-07-25 13:26:04.772 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.8438ms
2025-07-25 13:26:07.809 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-07-25 13:26:07.828 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.3025ms
at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 206
2025-07-25 13:20:35.413 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:20:35.478 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:20:35.966 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:20:36.449 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:20:36.465 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:20:36.468 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:20:36.469 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:20:36.475 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:20:36.494 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:20:36.526 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:20:36.662 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:20:36.686 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:20:36.689 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:20:36.690 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:20:37.245 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:20:37.302 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:20:37.311 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:20:37.338 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:20:37.566 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:20:37.568 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:20:37.584 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:20:37.588 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:20:37.680 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-25 13:20:37.695 +08:00 [FTL] Application start-up failed
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 207
2025-07-25 13:29:01.370 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:29:01.425 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:29:01.739 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:02.052 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:29:02.060 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:29:02.062 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:29:02.063 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:02.067 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:29:02.085 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:29:02.099 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:02.174 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:29:02.187 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:29:02.191 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:02.193 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:29:02.476 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:29:02.513 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:29:02.514 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:29:02.530 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:29:02.630 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:29:02.632 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:29:02.647 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:29:02.651 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:29:02.715 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-25 13:29:02.727 +08:00 [FTL] Application start-up failed
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 207
2025-07-25 13:29:45.269 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:29:45.350 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:29:45.807 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:46.116 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:29:46.125 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:29:46.126 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:29:46.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:46.131 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:29:46.147 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:29:46.163 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:46.248 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:29:46.261 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:29:46.264 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:29:46.266 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:29:46.670 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:29:46.712 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:29:46.713 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:29:46.732 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:29:46.830 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:29:46.832 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:29:46.901 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:29:46.907 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:29:46.973 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 13:29:46.973 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 13:29:46.973 +08:00 [INF] Hosting environment: Development
2025-07-25 13:29:46.973 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 13:32:26.903 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:32:26.962 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:32:27.249 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:32:27.532 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:32:27.540 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:32:27.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:32:27.542 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:32:27.545 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:32:27.560 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:32:27.572 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:32:27.641 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:32:27.653 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:32:27.657 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:32:27.658 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:32:27.921 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:32:27.952 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:32:27.953 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:32:27.967 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:32:28.046 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:32:28.047 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:32:28.060 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:32:28.063 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:32:28.120 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-25 13:32:28.132 +08:00 [FTL] Application start-up failed
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 207
2025-07-25 13:33:45.765 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:33:45.821 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 13:33:46.113 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:33:46.485 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:33:46.499 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 13:33:46.501 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:33:46.502 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:33:46.507 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:33:46.524 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 13:33:46.538 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:33:46.610 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 13:33:46.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 13:33:46.625 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 13:33:46.627 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 13:33:46.894 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:33:46.932 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:33:46.934 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 13:33:46.950 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:33:47.048 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:33:47.050 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:33:47.067 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 13:33:47.071 +08:00 [INF] Data seeding completed successfully
2025-07-25 13:33:47.128 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 13:33:47.128 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 13:33:47.128 +08:00 [INF] Hosting environment: Development
2025-07-25 13:33:47.129 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 13:33:53.338 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/ - null null
2025-07-25 13:33:53.395 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 13:33:53.442 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/ - 404 0 null 107.7339ms
2025-07-25 13:33:53.453 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/, Response status code: 404
2025-07-25 13:33:56.661 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - null null
2025-07-25 13:33:56.793 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.1113ms
2025-07-25 13:34:05.699 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:34:05.703 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:05.705 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 6.3408ms
2025-07-25 13:34:05.707 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 13:34:05.712 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:05.717 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:34:05.768 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:34:05.822 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:34:05.911 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 13:34:05.920 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 148.16ms
2025-07-25 13:34:05.920 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:34:05.925 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 218.2983ms
2025-07-25 13:34:18.793 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:34:18.793 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:18.793 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.7736ms
2025-07-25 13:34:18.794 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 13:34:18.795 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:18.798 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:34:18.799 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:34:18.867 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:34:19.106 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:34:19.128 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:34:19.135 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 335.4827ms
2025-07-25 13:34:19.135 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:34:19.135 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 340.9281ms
2025-07-25 13:34:25.338 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - null null
2025-07-25 13:34:25.339 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.339 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 204 null null 1.0574ms
2025-07-25 13:34:25.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - application/json null
2025-07-25 13:34:25.341 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.399 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:34:25.422 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 500 null text/plain; charset=utf-8 81.049ms
2025-07-25 13:34:25.424 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - null null
2025-07-25 13:34:25.424 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.425 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 204 null null 0.4391ms
2025-07-25 13:34:25.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - application/json null
2025-07-25 13:34:25.426 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.431 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:34:25.434 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 500 null text/plain; charset=utf-8 8.433ms
2025-07-25 13:34:25.436 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - null null
2025-07-25 13:34:25.436 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.437 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 204 null null 0.5952ms
2025-07-25 13:34:25.438 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - application/json null
2025-07-25 13:34:25.438 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.440 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:34:25.442 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 500 null text/plain; charset=utf-8 3.7172ms
2025-07-25 13:34:25.444 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - null null
2025-07-25 13:34:25.445 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.445 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 204 null null 0.5272ms
2025-07-25 13:34:25.446 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - application/json null
2025-07-25 13:34:25.446 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:25.449 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:34:25.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 500 null text/plain; charset=utf-8 4.8307ms
2025-07-25 13:34:50.294 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 13:34:50.294 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:50.295 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.7127ms
2025-07-25 13:34:50.296 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 13:34:50.296 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:34:50.299 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:34:50.300 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.5317ms
2025-07-25 13:35:04.441 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:35:04.441 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:04.442 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.0405ms
2025-07-25 13:35:04.442 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 13:35:04.443 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:04.443 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:35:04.443 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:35:04.463 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:35:04.550 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:35:04.551 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:35:04.551 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 107.9862ms
2025-07-25 13:35:04.552 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:35:04.552 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 109.2895ms
2025-07-25 13:35:08.983 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 13:35:08.984 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:08.984 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.7533ms
2025-07-25 13:35:08.985 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 13:35:08.986 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:08.989 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:35:08.991 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 5.5415ms
2025-07-25 13:35:08.994 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 13:35:08.994 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:08.995 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4293ms
2025-07-25 13:35:08.996 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 13:35:08.996 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:08.998 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:35:08.999 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.7646ms
2025-07-25 13:35:28.373 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-25 13:35:28.374 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.374 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 0.9128ms
2025-07-25 13:35:28.375 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-25 13:35:28.376 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.379 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:35:28.380 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - 500 null text/plain; charset=utf-8 4.9066ms
2025-07-25 13:35:28.384 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - null null
2025-07-25 13:35:28.384 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.384 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 204 null null 0.5214ms
2025-07-25 13:35:28.386 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - application/json null
2025-07-25 13:35:28.386 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.388 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:35:28.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 500 null text/plain; charset=utf-8 4.3695ms
2025-07-25 13:35:28.393 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - null null
2025-07-25 13:35:28.393 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.393 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 204 null null 0.4188ms
2025-07-25 13:35:28.394 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - application/json null
2025-07-25 13:35:28.394 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.397 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:35:28.399 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 500 null text/plain; charset=utf-8 4.8748ms
2025-07-25 13:35:28.401 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - null null
2025-07-25 13:35:28.401 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.402 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 204 null null 0.4119ms
2025-07-25 13:35:28.403 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - application/json null
2025-07-25 13:35:28.403 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:28.405 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:35:28.406 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 500 null text/plain; charset=utf-8 3.4413ms
2025-07-25 13:35:38.575 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 13:35:38.575 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:38.576 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.6382ms
2025-07-25 13:35:38.577 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 13:35:38.577 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:38.579 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:35:38.580 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.5368ms
2025-07-25 13:35:43.759 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:35:43.760 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:43.760 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5118ms
2025-07-25 13:35:43.761 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 13:35:43.762 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:35:43.762 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:35:43.762 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:35:43.766 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:35:43.852 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:35:43.853 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:35:43.854 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 91.1089ms
2025-07-25 13:35:43.854 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:35:43.854 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 92.7008ms
2025-07-25 13:36:51.702 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 13:36:51.702 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:51.702 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.5843ms
2025-07-25 13:36:51.703 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 13:36:51.704 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:51.705 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:36:51.707 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.4024ms
2025-07-25 13:36:51.710 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 13:36:51.710 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:51.711 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.6852ms
2025-07-25 13:36:51.712 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 13:36:51.712 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:51.714 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:36:51.716 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 4.5885ms
2025-07-25 13:36:59.222 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378 - null null
2025-07-25 13:36:59.222 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.223 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378 - 204 null null 0.5893ms
2025-07-25 13:36:59.224 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378 - application/json null
2025-07-25 13:36:59.224 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.226 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:36:59.227 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378 - 500 null text/plain; charset=utf-8 3.5899ms
2025-07-25 13:36:59.231 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - null null
2025-07-25 13:36:59.231 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.231 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 204 null null 0.4209ms
2025-07-25 13:36:59.232 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - application/json null
2025-07-25 13:36:59.232 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.234 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:36:59.236 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 500 null text/plain; charset=utf-8 3.4882ms
2025-07-25 13:36:59.239 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - null null
2025-07-25 13:36:59.239 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.239 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 204 null null 0.3826ms
2025-07-25 13:36:59.240 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - application/json null
2025-07-25 13:36:59.241 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.242 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:36:59.244 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 500 null text/plain; charset=utf-8 3.174ms
2025-07-25 13:36:59.246 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - null null
2025-07-25 13:36:59.246 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.246 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 204 null null 0.457ms
2025-07-25 13:36:59.248 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - application/json null
2025-07-25 13:36:59.249 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:36:59.250 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:36:59.252 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 500 null text/plain; charset=utf-8 4.2129ms
2025-07-25 13:47:27.044 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 13:47:27.045 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:27.045 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.3592ms
2025-07-25 13:47:27.046 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 13:47:27.046 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:27.048 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:27.051 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.6745ms
2025-07-25 13:47:33.295 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:47:33.295 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:33.295 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.337ms
2025-07-25 13:47:33.296 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 13:47:33.296 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:33.297 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:47:33.297 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:47:33.315 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:47:33.400 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:47:33.401 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:47:33.401 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 104.33ms
2025-07-25 13:47:33.402 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:47:33.402 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 105.8648ms
2025-07-25 13:47:42.103 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 13:47:42.103 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:42.103 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.5952ms
2025-07-25 13:47:42.104 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 13:47:42.105 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:42.106 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:42.107 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.2299ms
2025-07-25 13:47:42.111 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 13:47:42.112 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:42.112 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.7382ms
2025-07-25 13:47:42.113 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 13:47:42.113 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:42.115 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:42.117 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.9711ms
2025-07-25 13:47:44.403 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - null null
2025-07-25 13:47:44.403 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.403 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 204 null null 0.373ms
2025-07-25 13:47:44.404 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - application/json null
2025-07-25 13:47:44.404 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.406 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:44.407 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 500 null text/plain; charset=utf-8 3.0256ms
2025-07-25 13:47:44.416 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - null null
2025-07-25 13:47:44.417 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.417 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 204 null null 0.7705ms
2025-07-25 13:47:44.418 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - application/json null
2025-07-25 13:47:44.419 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.421 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:44.423 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 500 null text/plain; charset=utf-8 4.3571ms
2025-07-25 13:47:44.425 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - null null
2025-07-25 13:47:44.425 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.426 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 204 null null 0.3553ms
2025-07-25 13:47:44.426 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - application/json null
2025-07-25 13:47:44.427 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.428 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:44.430 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 500 null text/plain; charset=utf-8 3.3401ms
2025-07-25 13:47:44.432 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - null null
2025-07-25 13:47:44.432 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.432 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 204 null null 0.3248ms
2025-07-25 13:47:44.433 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - application/json null
2025-07-25 13:47:44.433 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:44.435 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:44.436 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 500 null text/plain; charset=utf-8 3.0685ms
2025-07-25 13:47:52.458 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 13:47:52.458 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:52.458 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.5583ms
2025-07-25 13:47:52.460 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 13:47:52.460 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:52.462 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:52.463 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.4391ms
2025-07-25 13:47:55.344 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:47:55.344 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:55.344 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3914ms
2025-07-25 13:47:55.345 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 13:47:55.346 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:55.346 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:47:55.346 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:47:55.348 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:47:55.437 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:47:55.438 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:47:55.438 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 91.626ms
2025-07-25 13:47:55.438 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:47:55.438 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 93.024ms
2025-07-25 13:47:57.467 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - null null
2025-07-25 13:47:57.467 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.468 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 204 null null 0.8135ms
2025-07-25 13:47:57.469 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - application/json null
2025-07-25 13:47:57.470 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.474 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:57.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 500 null text/plain; charset=utf-8 6.2761ms
2025-07-25 13:47:57.479 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - null null
2025-07-25 13:47:57.480 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.480 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 204 null null 0.5749ms
2025-07-25 13:47:57.481 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - application/json null
2025-07-25 13:47:57.481 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.483 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:57.485 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 500 null text/plain; charset=utf-8 3.4443ms
2025-07-25 13:47:57.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - null null
2025-07-25 13:47:57.489 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.489 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 204 null null 0.3878ms
2025-07-25 13:47:57.489 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - application/json null
2025-07-25 13:47:57.490 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.492 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:57.493 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 500 null text/plain; charset=utf-8 3.5253ms
2025-07-25 13:47:57.495 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - null null
2025-07-25 13:47:57.495 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.495 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 204 null null 0.2996ms
2025-07-25 13:47:57.496 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - application/json null
2025-07-25 13:47:57.497 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:47:57.498 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:47:57.499 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 500 null text/plain; charset=utf-8 2.9607ms
2025-07-25 13:51:07.900 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - null null
2025-07-25 13:51:07.901 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.902 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 204 null null 1.5467ms
2025-07-25 13:51:07.903 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - application/json null
2025-07-25 13:51:07.903 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.905 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:51:07.907 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 500 null text/plain; charset=utf-8 4.574ms
2025-07-25 13:51:07.910 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - null null
2025-07-25 13:51:07.910 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.910 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 204 null null 0.3406ms
2025-07-25 13:51:07.911 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - application/json null
2025-07-25 13:51:07.912 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.914 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:51:07.915 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 500 null text/plain; charset=utf-8 3.1867ms
2025-07-25 13:51:07.917 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - null null
2025-07-25 13:51:07.917 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.917 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 204 null null 0.3317ms
2025-07-25 13:51:07.918 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - application/json null
2025-07-25 13:51:07.918 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.920 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:51:07.921 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 500 null text/plain; charset=utf-8 2.8242ms
2025-07-25 13:51:07.923 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - null null
2025-07-25 13:51:07.924 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.924 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 204 null null 0.3248ms
2025-07-25 13:51:07.925 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - application/json null
2025-07-25 13:51:07.925 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:07.927 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:51:07.928 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 500 null text/plain; charset=utf-8 3.0519ms
2025-07-25 13:51:09.783 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 13:51:09.783 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:09.784 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.5191ms
2025-07-25 13:51:09.784 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 13:51:09.785 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:09.786 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:51:09.788 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.3738ms
2025-07-25 13:51:09.791 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 13:51:09.792 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:09.792 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.3452ms
2025-07-25 13:51:09.792 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 13:51:09.793 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:51:09.794 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:51:09.795 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.8925ms
2025-07-25 13:55:52.466 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - null null
2025-07-25 13:55:52.467 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.467 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 204 null null 0.7714ms
2025-07-25 13:55:52.468 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - application/json null
2025-07-25 13:55:52.469 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.470 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:55:52.472 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432 - 500 null text/plain; charset=utf-8 3.6753ms
2025-07-25 13:55:52.476 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - null null
2025-07-25 13:55:52.476 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.476 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 204 null null 0.4585ms
2025-07-25 13:55:52.477 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - application/json null
2025-07-25 13:55:52.477 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.479 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:55:52.480 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 500 null text/plain; charset=utf-8 3.237ms
2025-07-25 13:55:52.483 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - null null
2025-07-25 13:55:52.483 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.483 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 204 null null 0.3194ms
2025-07-25 13:55:52.484 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - application/json null
2025-07-25 13:55:52.484 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.486 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:55:52.487 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 500 null text/plain; charset=utf-8 2.8977ms
2025-07-25 13:55:52.489 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - null null
2025-07-25 13:55:52.489 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.489 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 204 null null 0.3165ms
2025-07-25 13:55:52.490 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - application/json null
2025-07-25 13:55:52.490 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:52.492 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:55:52.493 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 500 null text/plain; charset=utf-8 2.8468ms
2025-07-25 13:55:54.802 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 13:55:54.802 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:54.803 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.6603ms
2025-07-25 13:55:54.804 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 13:55:54.804 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:55:54.805 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:55:54.807 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.2404ms
2025-07-25 13:56:00.238 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 13:56:00.238 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:00.238 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4024ms
2025-07-25 13:56:00.239 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 13:56:00.239 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:00.240 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:56:00.240 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 13:56:00.256 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 13:56:00.344 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 13:56:00.345 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 13:56:00.345 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 104.9014ms
2025-07-25 13:56:00.345 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 13:56:00.345 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 106.4975ms
2025-07-25 13:56:06.672 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-25 13:56:06.672 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.673 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 0.4048ms
2025-07-25 13:56:06.673 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-25 13:56:06.674 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.675 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:06.677 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44 - 500 null text/plain; charset=utf-8 3.3748ms
2025-07-25 13:56:06.685 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - null null
2025-07-25 13:56:06.686 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.686 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 204 null null 0.5113ms
2025-07-25 13:56:06.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - application/json null
2025-07-25 13:56:06.687 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.688 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:06.690 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 500 null text/plain; charset=utf-8 2.8759ms
2025-07-25 13:56:06.693 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - null null
2025-07-25 13:56:06.694 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.694 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 204 null null 0.6482ms
2025-07-25 13:56:06.695 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - application/json null
2025-07-25 13:56:06.695 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.696 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:06.698 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 500 null text/plain; charset=utf-8 2.7048ms
2025-07-25 13:56:06.700 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - null null
2025-07-25 13:56:06.700 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.700 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 204 null null 0.4027ms
2025-07-25 13:56:06.701 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - application/json null
2025-07-25 13:56:06.701 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:06.703 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:06.704 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 500 null text/plain; charset=utf-8 2.5715ms
2025-07-25 13:56:07.890 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 13:56:07.890 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:07.890 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.3403ms
2025-07-25 13:56:07.891 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 13:56:07.892 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:07.893 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:07.895 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.422ms
2025-07-25 13:56:07.899 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 13:56:07.899 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:07.900 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4149ms
2025-07-25 13:56:07.901 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 13:56:07.901 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:07.903 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:07.904 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.463ms
2025-07-25 13:56:12.262 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 13:56:12.262 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:12.264 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:12.265 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 2.8858ms
2025-07-25 13:56:12.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 13:56:12.268 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:56:12.270 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:56:12.271 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.3405ms
2025-07-25 13:59:19.941 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 13:59:19.943 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:59:19.943 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.1595ms
2025-07-25 13:59:19.944 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 13:59:19.944 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:59:19.947 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:59:19.949 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 5.1ms
2025-07-25 13:59:19.952 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 13:59:19.952 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:59:19.952 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.6723ms
2025-07-25 13:59:19.954 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 13:59:19.954 +08:00 [INF] CORS policy execution successful.
2025-07-25 13:59:19.956 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 13:59:19.957 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.4499ms
2025-07-25 14:01:11.886 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:01:11.886 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:01:11.886 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.625ms
2025-07-25 14:01:11.887 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:01:11.888 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:01:11.891 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:01:11.897 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 9.2492ms
2025-07-25 14:01:11.901 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:01:11.901 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:01:11.901 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.3705ms
2025-07-25 14:01:11.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:01:11.903 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:01:11.906 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:01:11.908 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 5.3071ms
2025-07-25 14:06:34.081 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:06:34.082 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:34.082 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.3691ms
2025-07-25 14:06:34.083 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:06:34.084 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:34.085 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:06:34.088 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 4.5892ms
2025-07-25 14:06:34.091 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:06:34.091 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:34.091 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.3938ms
2025-07-25 14:06:34.092 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:06:34.093 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:34.094 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:06:34.095 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.0516ms
2025-07-25 14:06:41.912 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:06:41.913 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:41.913 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.5502ms
2025-07-25 14:06:41.914 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:06:41.914 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:41.915 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:06:41.916 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.343ms
2025-07-25 14:06:47.512 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:06:47.513 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:47.513 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4703ms
2025-07-25 14:06:47.514 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 14:06:47.515 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:06:47.515 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:06:47.515 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:06:47.531 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:06:47.615 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:06:47.617 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:06:47.617 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 101.2785ms
2025-07-25 14:06:47.617 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:06:47.617 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 103.3047ms
2025-07-25 14:07:07.781 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:07:07.781 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:07:07.781 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.3984ms
2025-07-25 14:07:07.782 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:07:07.783 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:07:07.784 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:07:07.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.0581ms
2025-07-25 14:07:07.788 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:07:07.788 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:07:07.789 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.5538ms
2025-07-25 14:07:07.790 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:07:07.790 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:07:07.792 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:07:07.793 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.5438ms
2025-07-25 14:08:38.463 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:08:38.464 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:38.464 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.3842ms
2025-07-25 14:08:38.465 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:08:38.465 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:38.466 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:08:38.467 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 2.6194ms
2025-07-25 14:08:38.470 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:08:38.470 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:38.470 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.589ms
2025-07-25 14:08:38.472 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:08:38.472 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:38.474 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:08:38.475 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.7064ms
2025-07-25 14:08:42.507 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:08:42.507 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:42.507 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4948ms
2025-07-25 14:08:42.508 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:08:42.508 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:42.510 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:08:42.511 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.8922ms
2025-07-25 14:08:47.809 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:08:47.810 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:47.810 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3485ms
2025-07-25 14:08:47.811 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 14:08:47.811 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:08:47.811 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:08:47.812 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:08:47.848 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:08:47.930 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:08:47.931 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:08:47.931 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 119.5596ms
2025-07-25 14:08:47.932 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:08:47.932 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 121.1027ms
2025-07-25 14:19:48.284 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:19:48.286 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:19:48.286 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.9137ms
2025-07-25 14:19:48.287 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:19:48.287 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:19:48.289 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:19:48.290 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.3365ms
2025-07-25 14:19:53.066 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:19:53.066 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:19:53.067 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.308ms
2025-07-25 14:19:53.067 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 14:19:53.068 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:19:53.068 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:19:53.068 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:19:53.085 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:19:53.171 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:19:53.173 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:19:53.173 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 104.8034ms
2025-07-25 14:19:53.173 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:19:53.173 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 106.0535ms
2025-07-25 14:33:07.355 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:33:07.356 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:07.356 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.5954ms
2025-07-25 14:33:07.357 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:33:07.358 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:07.360 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:33:07.363 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 5.992ms
2025-07-25 14:33:12.583 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:33:12.584 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:12.584 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5675ms
2025-07-25 14:33:12.585 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 14:33:12.585 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:12.586 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:33:12.587 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:33:12.613 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:33:12.705 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:33:12.706 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:33:12.707 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 119.6802ms
2025-07-25 14:33:12.707 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:33:12.707 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 122.0571ms
2025-07-25 14:33:47.942 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:33:47.942 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:47.942 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.7747ms
2025-07-25 14:33:47.943 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:33:47.944 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:47.945 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:33:47.947 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.2611ms
2025-07-25 14:33:47.949 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:33:47.950 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:47.950 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.5911ms
2025-07-25 14:33:47.951 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:33:47.951 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:47.952 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:33:47.954 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.8339ms
2025-07-25 14:33:53.306 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:33:53.306 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:53.306 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4226ms
2025-07-25 14:33:53.307 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:33:53.307 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:53.309 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:33:53.310 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.7782ms
2025-07-25 14:33:56.368 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:33:56.368 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:56.368 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3779ms
2025-07-25 14:33:56.369 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 14:33:56.370 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:33:56.370 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:33:56.371 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:33:56.373 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:33:56.496 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:33:56.497 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:33:56.497 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 126.1861ms
2025-07-25 14:33:56.497 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:33:56.497 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 128.1569ms
2025-07-25 14:34:41.728 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:34:41.729 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:34:41.729 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.1651ms
2025-07-25 14:34:41.730 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:34:41.731 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:34:41.732 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:34:41.733 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.3124ms
2025-07-25 14:34:47.245 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:34:47.245 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:34:47.245 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.363ms
2025-07-25 14:34:47.246 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 14:34:47.246 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:34:47.246 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:34:47.246 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:34:47.249 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:34:47.337 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:34:47.338 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:34:47.338 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 91.2719ms
2025-07-25 14:34:47.338 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:34:47.338 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 92.3983ms
2025-07-25 14:41:29.494 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:41:29.496 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:29.496 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 2.1413ms
2025-07-25 14:41:29.497 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:41:29.497 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:29.502 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:41:29.503 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 6.0909ms
2025-07-25 14:41:34.368 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:41:34.368 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:34.368 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5276ms
2025-07-25 14:41:34.369 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 14:41:34.370 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:34.370 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:41:34.370 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:41:34.389 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:41:34.479 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:41:34.480 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:41:34.481 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 110.0391ms
2025-07-25 14:41:34.481 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:41:34.481 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 111.8187ms
2025-07-25 14:41:53.483 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:41:53.484 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:53.484 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4466ms
2025-07-25 14:41:53.485 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:41:53.485 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:53.486 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:41:53.487 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.5083ms
2025-07-25 14:41:57.244 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:41:57.245 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:57.245 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4946ms
2025-07-25 14:41:57.246 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 14:41:57.246 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:41:57.247 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:41:57.247 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:41:57.249 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:41:57.337 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:41:57.338 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:41:57.338 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 90.9706ms
2025-07-25 14:41:57.338 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:41:57.339 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 92.8836ms
2025-07-25 14:42:12.530 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:42:12.531 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:42:12.531 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.5317ms
2025-07-25 14:42:12.532 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:42:12.532 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:42:12.534 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:42:12.535 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.2742ms
2025-07-25 14:42:16.595 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:42:16.595 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:42:16.595 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.536ms
2025-07-25 14:42:16.596 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 14:42:16.597 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:42:16.597 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:42:16.598 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:42:16.600 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:42:16.690 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:42:16.692 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:42:16.692 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 94.0953ms
2025-07-25 14:42:16.692 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:42:16.692 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 96.0016ms
2025-07-25 14:45:55.445 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:45:55.447 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:45:55.447 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.7569ms
2025-07-25 14:45:55.448 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:45:55.449 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:45:55.451 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:45:55.454 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 5.3342ms
2025-07-25 14:45:55.456 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:45:55.457 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:45:55.457 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 1.0383ms
2025-07-25 14:45:55.458 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:45:55.458 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:45:55.460 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:45:55.461 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.7727ms
2025-07-25 14:46:04.215 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:46:04.216 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:04.216 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.6372ms
2025-07-25 14:46:04.217 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:46:04.217 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:04.219 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:46:04.220 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.8646ms
2025-07-25 14:46:10.054 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:46:10.054 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:10.054 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.361ms
2025-07-25 14:46:10.055 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 14:46:10.056 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:10.056 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:46:10.057 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:46:10.059 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:46:10.146 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:46:10.147 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:46:10.148 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 90.6394ms
2025-07-25 14:46:10.148 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:46:10.148 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 92.6377ms
2025-07-25 14:46:18.615 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:46:18.615 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:18.616 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.6104ms
2025-07-25 14:46:18.617 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:46:18.617 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:18.619 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:46:18.620 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.0372ms
2025-07-25 14:46:18.624 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:46:18.624 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:18.624 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.3894ms
2025-07-25 14:46:18.625 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:46:18.625 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:18.627 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:46:18.628 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.821ms
2025-07-25 14:46:29.338 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:46:29.346 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:29.347 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 8.2532ms
2025-07-25 14:46:29.348 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:46:29.367 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:29.368 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:46:29.388 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 40.4929ms
2025-07-25 14:46:29.391 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:46:29.391 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:29.392 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.433ms
2025-07-25 14:46:29.392 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:46:29.393 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:29.394 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:46:29.395 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.8514ms
2025-07-25 14:46:51.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 14:46:51.604 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:51.604 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.4277ms
2025-07-25 14:46:51.605 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 14:46:51.605 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:51.607 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:46:51.608 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.0602ms
2025-07-25 14:46:51.611 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 14:46:51.611 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:51.612 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4111ms
2025-07-25 14:46:51.613 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 14:46:51.613 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:46:51.614 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:46:51.615 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.3368ms
2025-07-25 14:57:38.871 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 14:57:38.872 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:57:38.872 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.6799ms
2025-07-25 14:57:38.873 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 14:57:38.873 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:57:38.875 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 14:57:38.876 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.3274ms
2025-07-25 14:57:44.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 14:57:44.712 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:57:44.712 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5022ms
2025-07-25 14:57:44.713 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 14:57:44.713 +08:00 [INF] CORS policy execution successful.
2025-07-25 14:57:44.713 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:57:44.714 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 14:57:44.729 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 14:57:44.816 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 14:57:44.817 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 14:57:44.817 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 103.2083ms
2025-07-25 14:57:44.817 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 14:57:44.818 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 104.8531ms
2025-07-25 15:02:13.734 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:02:13.736 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:02:13.736 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.8948ms
2025-07-25 15:02:13.737 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:02:13.737 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:02:13.738 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:02:13.740 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.009ms
2025-07-25 15:02:18.859 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:02:18.860 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:02:18.860 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3992ms
2025-07-25 15:02:18.861 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 15:02:18.861 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:02:18.861 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:02:18.862 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:02:18.866 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:02:18.952 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:02:18.953 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:02:18.954 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 91.4121ms
2025-07-25 15:02:18.954 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:02:18.954 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 93.3146ms
2025-07-25 15:06:36.828 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:06:36.829 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:06:36.829 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.9957ms
2025-07-25 15:06:36.830 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:06:36.831 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:06:36.832 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:06:36.834 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 4.032ms
2025-07-25 15:06:36.837 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:06:36.837 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:06:36.837 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4186ms
2025-07-25 15:06:36.839 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:06:36.839 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:06:36.841 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:06:36.843 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.9522ms
2025-07-25 15:21:23.589 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:21:23.592 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:23.592 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 3.2137ms
2025-07-25 15:21:23.594 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:21:23.594 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:23.609 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:21:23.613 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 19.5008ms
2025-07-25 15:21:29.246 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:21:29.247 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:29.247 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3651ms
2025-07-25 15:21:29.248 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 15:21:29.248 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:29.249 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:21:29.251 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:21:29.280 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:21:29.375 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:21:29.377 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:21:29.377 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 125.7434ms
2025-07-25 15:21:29.378 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:21:29.378 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 130.1804ms
2025-07-25 15:21:34.159 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:21:34.160 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:34.160 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.0816ms
2025-07-25 15:21:34.161 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:21:34.162 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:34.164 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:21:34.165 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 4.1974ms
2025-07-25 15:21:34.168 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:21:34.168 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:34.168 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.3959ms
2025-07-25 15:21:34.169 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:21:34.169 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:34.171 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:21:34.172 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.7917ms
2025-07-25 15:21:59.537 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:21:59.537 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:59.537 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.6824ms
2025-07-25 15:21:59.539 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:21:59.539 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:59.541 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:21:59.544 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 5.8642ms
2025-07-25 15:21:59.547 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:21:59.547 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:59.547 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4999ms
2025-07-25 15:21:59.548 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:21:59.549 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:21:59.550 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:21:59.552 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.8524ms
2025-07-25 15:22:09.903 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:22:09.904 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:22:09.904 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.4899ms
2025-07-25 15:22:09.905 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:22:09.905 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:22:09.908 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:22:09.909 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 4.6404ms
2025-07-25 15:22:09.922 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:22:09.922 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:22:09.923 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.5158ms
2025-07-25 15:22:09.924 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:22:09.924 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:22:09.925 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:22:09.927 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.2603ms
2025-07-25 15:24:15.978 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:24:15.979 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:24:15.979 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.2595ms
2025-07-25 15:24:15.980 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:24:15.980 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:24:15.982 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:24:15.983 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.8455ms
2025-07-25 15:24:21.911 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:24:21.911 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:24:21.911 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3699ms
2025-07-25 15:24:21.913 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 15:24:21.913 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:24:21.913 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:24:21.913 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:24:21.915 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:24:21.999 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:24:22.000 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:24:22.001 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 87.1138ms
2025-07-25 15:24:22.001 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:24:22.001 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 88.0452ms
2025-07-25 15:25:35.542 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:25:35.543 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:35.543 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.3142ms
2025-07-25 15:25:35.544 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:25:35.544 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:35.546 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:25:35.549 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 5.0622ms
2025-07-25 15:25:41.093 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:25:41.093 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:41.093 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4597ms
2025-07-25 15:25:41.094 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 15:25:41.095 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:41.095 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:25:41.096 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:25:41.099 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:25:41.184 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:25:41.185 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:25:41.186 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 89.7103ms
2025-07-25 15:25:41.186 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:25:41.187 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 92.1601ms
2025-07-25 15:25:45.529 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:25:45.529 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:45.530 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.418ms
2025-07-25 15:25:45.530 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:25:45.531 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:45.533 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:25:45.536 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 6.1453ms
2025-07-25 15:25:45.539 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:25:45.539 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:45.539 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.371ms
2025-07-25 15:25:45.541 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:25:45.541 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:25:45.542 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:25:45.543 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.6546ms
2025-07-25 15:26:16.958 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:26:16.958 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:26:16.958 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4167ms
2025-07-25 15:26:16.959 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:26:16.960 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:26:16.961 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:26:16.962 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.7597ms
2025-07-25 15:26:20.943 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:26:20.943 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:26:20.943 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4157ms
2025-07-25 15:26:20.944 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 15:26:20.945 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:26:20.945 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:26:20.946 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:26:20.948 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:26:21.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:26:21.034 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:26:21.034 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 88.1839ms
2025-07-25 15:26:21.034 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:26:21.034 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 90.0941ms
2025-07-25 15:32:45.632 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:32:45.633 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:32:45.633 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.4719ms
2025-07-25 15:32:45.635 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:32:45.635 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:32:45.642 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:32:45.643 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 8.6568ms
2025-07-25 15:32:45.646 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:32:45.647 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:32:45.647 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4875ms
2025-07-25 15:32:45.648 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:32:45.648 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:32:45.650 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:32:45.653 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 4.4346ms
2025-07-25 15:33:20.074 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:33:20.074 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:33:20.074 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.693ms
2025-07-25 15:33:20.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:33:20.076 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:33:20.076 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 15:33:20.106 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 15:33:20.268 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 15:33:20.353 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 15:33:20.480 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 15:33:20.507 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 400.2508ms
2025-07-25 15:33:20.507 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 15:33:20.507 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 431.6523ms
2025-07-25 15:33:23.299 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:33:23.299 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:33:23.300 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4754ms
2025-07-25 15:33:23.301 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:33:23.301 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:33:23.302 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:33:23.305 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.3664ms
2025-07-25 15:33:29.968 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:33:29.969 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:33:29.969 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5743ms
2025-07-25 15:33:29.970 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 15:33:29.970 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:33:29.970 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:33:29.971 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:33:29.975 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:33:30.104 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:33:30.105 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:33:30.105 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 134.0627ms
2025-07-25 15:33:30.105 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:33:30.106 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 135.7359ms
2025-07-25 15:34:21.181 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:34:21.181 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:34:21.181 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4667ms
2025-07-25 15:34:21.182 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:34:21.183 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:34:21.184 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:34:21.185 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.641ms
2025-07-25 15:34:24.584 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:34:24.584 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:34:24.584 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5047ms
2025-07-25 15:34:24.585 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 15:34:24.586 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:34:24.586 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:34:24.586 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:34:24.589 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:34:24.688 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:34:24.689 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:34:24.689 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 102.0652ms
2025-07-25 15:34:24.689 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:34:24.689 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 103.8602ms
2025-07-25 15:50:49.034 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:50:49.037 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:50:49.038 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 4.027ms
2025-07-25 15:50:49.047 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:50:49.048 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:50:49.063 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:50:49.066 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 18.2593ms
2025-07-25 15:56:30.608 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 15:56:30.742 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 15:56:32.365 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 15:56:33.097 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 15:56:33.113 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 15:56:33.116 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 15:56:33.117 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 15:56:33.124 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 15:56:33.148 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 15:56:33.174 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 15:56:33.298 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 15:56:33.320 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 15:56:33.324 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 15:56:33.327 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 15:56:33.828 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 15:56:33.889 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 15:56:33.891 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 15:56:33.931 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:56:34.088 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:56:34.090 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:56:34.120 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 15:56:34.124 +08:00 [INF] Data seeding completed successfully
2025-07-25 15:56:34.243 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 15:56:34.244 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 15:56:34.244 +08:00 [INF] Hosting environment: Development
2025-07-25 15:56:34.244 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 15:57:54.417 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:57:54.474 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 15:57:54.478 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:57:54.486 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 71.5673ms
2025-07-25 15:57:54.493 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 15:57:54.499 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:57:54.560 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:57:54.582 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:57:54.643 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:57:54.931 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:57:54.959 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:57:54.976 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 389.5063ms
2025-07-25 15:57:54.976 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:57:54.984 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 490.5597ms
2025-07-25 15:58:35.749 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:58:35.752 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:35.752 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 3.2211ms
2025-07-25 15:58:35.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:58:35.762 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:35.884 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:58:35.913 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 159.2631ms
2025-07-25 15:58:35.918 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:58:35.918 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:35.918 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4642ms
2025-07-25 15:58:35.919 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:58:35.920 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:35.924 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:58:35.926 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 7.4885ms
2025-07-25 15:58:48.340 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:58:48.340 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:48.340 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4584ms
2025-07-25 15:58:48.341 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:58:48.342 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:48.344 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:58:48.345 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.6369ms
2025-07-25 15:58:51.692 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:58:51.693 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:51.693 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6945ms
2025-07-25 15:58:51.694 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 15:58:51.695 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:58:51.696 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:58:51.696 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:58:51.704 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:58:51.796 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:58:51.798 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:58:51.798 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 101.4259ms
2025-07-25 15:58:51.798 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:58:51.799 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 104.3208ms
2025-07-25 15:59:01.347 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 15:59:01.348 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:01.348 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.9714ms
2025-07-25 15:59:01.350 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 15:59:01.350 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:01.354 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:59:01.356 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 6.6682ms
2025-07-25 15:59:01.360 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 15:59:01.360 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:01.360 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.445ms
2025-07-25 15:59:01.361 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 15:59:01.362 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:01.364 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:59:01.365 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.8921ms
2025-07-25 15:59:33.656 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 15:59:33.656 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:33.656 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.704ms
2025-07-25 15:59:33.657 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 15:59:33.658 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:33.660 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 15:59:33.662 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.4582ms
2025-07-25 15:59:40.058 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 15:59:40.059 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:40.059 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6565ms
2025-07-25 15:59:40.060 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 15:59:40.061 +08:00 [INF] CORS policy execution successful.
2025-07-25 15:59:40.061 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:59:40.062 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 15:59:40.079 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 15:59:40.170 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 15:59:40.171 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 15:59:40.171 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 109.7992ms
2025-07-25 15:59:40.172 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 15:59:40.172 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 111.4802ms
2025-07-25 16:27:27.938 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 16:27:27.940 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:27:27.941 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 3.0352ms
2025-07-25 16:27:27.942 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 16:27:27.942 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:27:27.945 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:27:27.946 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.2748ms
2025-07-25 16:27:33.608 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 16:27:33.609 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:27:33.609 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.0789ms
2025-07-25 16:27:33.610 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 16:27:33.611 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:27:33.611 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:27:33.611 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 16:27:33.631 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 16:27:33.734 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 16:27:33.736 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 16:27:33.736 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 124.4863ms
2025-07-25 16:27:33.736 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:27:33.736 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 126.0753ms
2025-07-25 16:28:10.766 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 16:28:10.766 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:10.767 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.6737ms
2025-07-25 16:28:10.768 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 16:28:10.768 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:10.770 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:28:10.772 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 4.7099ms
2025-07-25 16:28:10.775 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 16:28:10.776 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:10.776 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4117ms
2025-07-25 16:28:10.777 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 16:28:10.777 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:10.779 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:28:10.781 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 4.0913ms
2025-07-25 16:28:13.402 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 16:28:13.403 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:13.403 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4221ms
2025-07-25 16:28:13.404 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 16:28:13.404 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:13.406 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:28:13.407 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.1245ms
2025-07-25 16:28:16.387 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 16:28:16.388 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:16.388 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5987ms
2025-07-25 16:28:16.389 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 16:28:16.389 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:16.390 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:28:16.390 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 16:28:16.393 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 16:28:16.500 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 16:28:16.501 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 16:28:16.501 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 110.6962ms
2025-07-25 16:28:16.501 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:28:16.502 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 112.5903ms
2025-07-25 16:28:26.292 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 16:28:26.292 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:26.292 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.4944ms
2025-07-25 16:28:26.293 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 16:28:26.294 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:26.296 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:28:26.299 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 5.0215ms
2025-07-25 16:28:26.302 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 16:28:26.302 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:26.302 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.5156ms
2025-07-25 16:28:26.303 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 16:28:26.304 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:26.307 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:28:26.309 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 5.7181ms
2025-07-25 16:28:50.653 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 16:28:50.653 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:50.653 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.595ms
2025-07-25 16:28:50.654 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 16:28:50.654 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:50.656 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:28:50.657 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.0174ms
2025-07-25 16:28:55.705 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 16:28:55.705 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:55.705 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3523ms
2025-07-25 16:28:55.706 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 16:28:55.706 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:28:55.706 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:28:55.707 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 16:28:55.709 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 16:28:55.809 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 16:28:55.810 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 16:28:55.811 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 104.222ms
2025-07-25 16:28:55.811 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:28:55.812 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 105.85ms
2025-07-25 16:32:17.252 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 16:32:17.253 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:32:17.253 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.7005ms
2025-07-25 16:32:17.271 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 16:32:17.272 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:32:17.275 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:32:17.278 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 7.036ms
2025-07-25 16:34:30.602 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 16:34:30.602 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:34:30.603 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.7648ms
2025-07-25 16:34:30.606 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 16:34:30.607 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:34:30.607 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:34:30.608 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 16:34:30.624 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 16:34:30.752 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 16:34:30.753 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 16:34:30.753 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 144.6219ms
2025-07-25 16:34:30.753 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:34:30.754 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 147.5708ms
2025-07-25 16:34:55.077 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 16:34:55.078 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:34:55.078 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.7181ms
2025-07-25 16:34:55.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 16:34:55.082 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:34:55.094 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:34:55.101 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 19.5818ms
2025-07-25 16:34:55.106 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 16:34:55.107 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:34:55.108 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 1.1924ms
2025-07-25 16:34:55.109 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 16:34:55.109 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:34:55.111 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:34:55.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 4.6577ms
2025-07-25 16:35:03.130 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 16:35:03.130 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:03.131 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4143ms
2025-07-25 16:35:03.132 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 16:35:03.132 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:03.134 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:35:03.135 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.2384ms
2025-07-25 16:35:06.783 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 16:35:06.784 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:06.784 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.3344ms
2025-07-25 16:35:06.785 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 16:35:06.785 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:06.785 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:35:06.786 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 16:35:06.788 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 16:35:06.890 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 16:35:06.891 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 16:35:06.892 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 105.9664ms
2025-07-25 16:35:06.892 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:35:06.892 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 107.0681ms
2025-07-25 16:35:14.605 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 16:35:14.606 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:14.606 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.4482ms
2025-07-25 16:35:14.608 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 16:35:14.609 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:14.617 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:35:14.620 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 12.2302ms
2025-07-25 16:35:14.625 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 16:35:14.625 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:14.625 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.6787ms
2025-07-25 16:35:14.627 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 16:35:14.627 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:14.629 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:35:14.633 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 5.7121ms
2025-07-25 16:35:35.997 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 16:35:35.997 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:35.997 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.384ms
2025-07-25 16:35:35.999 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 16:35:35.999 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:36.002 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:35:36.003 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.1821ms
2025-07-25 16:35:41.049 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 16:35:41.050 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:41.050 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.7228ms
2025-07-25 16:35:41.051 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 16:35:41.052 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:35:41.052 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:35:41.052 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 16:35:41.055 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 16:35:41.157 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 16:35:41.159 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 16:35:41.159 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 106.6379ms
2025-07-25 16:35:41.159 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 16:35:41.159 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 107.9634ms
2025-07-25 16:36:09.913 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 16:36:09.914 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:36:09.914 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.2227ms
2025-07-25 16:36:09.916 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 16:36:09.916 +08:00 [INF] CORS policy execution successful.
2025-07-25 16:36:09.918 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 16:36:09.920 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.0406ms
2025-07-25 19:47:28.009 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 19:47:28.073 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 19:47:28.436 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 19:47:28.713 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 19:47:28.720 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 19:47:28.722 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 19:47:28.723 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 19:47:28.727 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 19:47:28.746 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 19:47:28.762 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 19:47:28.836 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 19:47:28.847 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 19:47:28.850 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 19:47:28.852 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 19:47:29.123 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 19:47:29.159 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 19:47:29.160 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 19:47:29.180 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 19:47:29.273 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 19:47:29.274 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 19:47:29.289 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 19:47:29.292 +08:00 [INF] Data seeding completed successfully
2025-07-25 19:47:29.368 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 19:47:29.368 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 19:47:29.368 +08:00 [INF] Hosting environment: Development
2025-07-25 19:47:29.369 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 19:54:17.622 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 19:54:17.679 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 19:54:17.682 +08:00 [INF] CORS policy execution successful.
2025-07-25 19:54:17.690 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 70.4694ms
2025-07-25 19:54:17.697 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 19:54:17.703 +08:00 [INF] CORS policy execution successful.
2025-07-25 19:54:17.753 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 19:54:17.778 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 19:54:17.855 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 19:54:18.152 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 19:54:18.179 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 19:54:18.195 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 413.2177ms
2025-07-25 19:54:18.196 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 19:54:18.204 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 506.3478ms
2025-07-25 19:56:45.693 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 19:56:45.696 +08:00 [INF] CORS policy execution successful.
2025-07-25 19:56:45.697 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 3.595ms
2025-07-25 19:56:45.698 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 19:56:45.699 +08:00 [INF] CORS policy execution successful.
2025-07-25 19:56:45.846 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 19:56:45.878 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 180.0658ms
2025-07-25 19:56:50.311 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 19:56:50.312 +08:00 [INF] CORS policy execution successful.
2025-07-25 19:56:50.312 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.9653ms
2025-07-25 19:56:50.313 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 19:56:50.314 +08:00 [INF] CORS policy execution successful.
2025-07-25 19:56:50.316 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 19:56:50.317 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 19:56:50.325 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 19:56:50.418 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 19:56:50.420 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 19:56:50.421 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 103.442ms
2025-07-25 19:56:50.421 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 19:56:50.421 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 107.7811ms
2025-07-25 20:00:05.806 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:00:05.808 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:00:05.808 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.4048ms
2025-07-25 20:00:05.809 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:00:05.809 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:00:05.814 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:00:05.816 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 7.0333ms
2025-07-25 20:00:10.873 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:00:10.874 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:00:10.874 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6946ms
2025-07-25 20:00:10.876 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 20:00:10.877 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:00:10.877 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:00:10.877 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:00:10.911 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:00:11.005 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:00:11.006 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:00:11.006 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 128.6218ms
2025-07-25 20:00:11.007 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:00:11.007 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 131.1728ms
2025-07-25 20:21:47.299 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:21:47.301 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:21:47.301 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.5857ms
2025-07-25 20:21:47.302 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:21:47.302 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:21:47.304 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:21:47.306 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.1842ms
2025-07-25 20:21:52.627 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:21:52.628 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:21:52.628 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.7289ms
2025-07-25 20:21:52.630 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 20:21:52.630 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:21:52.630 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:21:52.631 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:21:52.646 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:21:52.735 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:21:52.737 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:21:52.737 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 105.9276ms
2025-07-25 20:21:52.737 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:21:52.737 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 107.637ms
2025-07-25 20:22:21.177 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 20:22:21.178 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:21.178 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.9267ms
2025-07-25 20:22:21.179 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 20:22:21.186 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:21.188 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:22:21.190 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 10.6689ms
2025-07-25 20:22:21.194 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 20:22:21.194 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:21.194 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4662ms
2025-07-25 20:22:21.195 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 20:22:21.196 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:21.199 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:22:21.201 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 5.5977ms
2025-07-25 20:22:50.914 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:22:50.914 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:50.915 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.3742ms
2025-07-25 20:22:50.916 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:22:50.916 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:50.919 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:22:50.921 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.8889ms
2025-07-25 20:22:56.927 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:22:56.928 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:56.928 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.1702ms
2025-07-25 20:22:56.930 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 20:22:56.930 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:22:56.931 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:22:56.931 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:22:56.935 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:22:57.023 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:22:57.025 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:22:57.025 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 93.751ms
2025-07-25 20:22:57.025 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:22:57.026 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 95.7058ms
2025-07-25 20:23:03.380 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 20:23:03.380 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:23:03.380 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.7296ms
2025-07-25 20:23:03.381 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 20:23:03.382 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:23:03.385 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:23:03.388 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 6.4195ms
2025-07-25 20:23:03.392 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 20:23:03.392 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:23:03.392 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.7003ms
2025-07-25 20:23:03.394 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 20:23:03.394 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:23:03.396 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:23:03.398 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 4.0686ms
2025-07-25 20:27:02.738 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:27:02.739 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:27:02.739 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.3528ms
2025-07-25 20:27:02.740 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:27:02.740 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:27:02.742 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:27:02.743 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.3988ms
2025-07-25 20:27:07.639 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:27:07.640 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:27:07.640 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4836ms
2025-07-25 20:27:07.641 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 20:27:07.647 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:27:07.648 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:27:07.649 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:27:07.665 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:27:07.750 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:27:07.751 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:27:07.752 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 102.2702ms
2025-07-25 20:27:07.752 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:27:07.752 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 110.9009ms
2025-07-25 20:30:03.501 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:30:03.502 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:03.502 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.3594ms
2025-07-25 20:30:03.503 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:30:03.503 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:03.506 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:30:03.508 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 4.5792ms
2025-07-25 20:30:11.364 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:30:11.364 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:11.364 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6074ms
2025-07-25 20:30:11.365 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 20:30:11.366 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:11.366 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:30:11.367 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:30:11.369 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:30:11.457 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:30:11.458 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:30:11.458 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 91.5896ms
2025-07-25 20:30:11.459 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:30:11.459 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 93.1595ms
2025-07-25 20:30:56.872 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 20:30:56.873 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:56.873 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.429ms
2025-07-25 20:30:56.875 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 20:30:56.875 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:56.879 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:30:56.881 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 5.9224ms
2025-07-25 20:30:56.891 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 20:30:56.892 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:56.892 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.5706ms
2025-07-25 20:30:56.894 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 20:30:56.894 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:30:56.897 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:30:56.899 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 5.088ms
2025-07-25 20:31:00.521 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:31:00.521 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:31:00.521 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.3746ms
2025-07-25 20:31:00.522 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:31:00.522 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:31:00.524 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:31:00.526 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.8884ms
2025-07-25 20:31:04.406 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:31:04.406 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:31:04.406 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3869ms
2025-07-25 20:31:04.407 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 20:31:04.408 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:31:04.408 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:31:04.408 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:31:04.410 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:31:04.498 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:31:04.499 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:31:04.501 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 92.3764ms
2025-07-25 20:31:04.501 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:31:04.501 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 93.9837ms
2025-07-25 20:38:24.955 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:38:24.956 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:24.956 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.3211ms
2025-07-25 20:38:24.957 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:38:24.958 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:24.959 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:38:24.961 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.8302ms
2025-07-25 20:38:30.988 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:38:30.989 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:30.989 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6581ms
2025-07-25 20:38:30.990 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 20:38:30.990 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:30.991 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:38:30.991 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:38:31.008 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:38:31.097 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:38:31.098 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:38:31.098 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 107.0835ms
2025-07-25 20:38:31.098 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:38:31.098 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 108.5292ms
2025-07-25 20:38:53.244 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:38:53.245 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:53.245 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.6098ms
2025-07-25 20:38:53.246 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:38:53.246 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:53.248 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:38:53.249 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.4508ms
2025-07-25 20:38:56.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:38:56.604 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:56.604 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5264ms
2025-07-25 20:38:56.606 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 20:38:56.606 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:56.607 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:38:56.607 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:38:56.609 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:38:56.697 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:38:56.700 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:38:56.701 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 93.2664ms
2025-07-25 20:38:56.701 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:38:56.701 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 95.1521ms
2025-07-25 20:38:59.869 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 20:38:59.870 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:59.870 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.7062ms
2025-07-25 20:38:59.871 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 20:38:59.871 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:59.874 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:38:59.877 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 6.1097ms
2025-07-25 20:38:59.880 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 20:38:59.881 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:59.881 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4865ms
2025-07-25 20:38:59.882 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 20:38:59.883 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:38:59.884 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:38:59.885 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.82ms
2025-07-25 20:49:35.190 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:49:35.191 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:35.191 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.776ms
2025-07-25 20:49:35.192 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:49:35.192 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:35.194 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:49:35.195 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.8955ms
2025-07-25 20:49:39.902 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:49:39.902 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:39.902 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.2887ms
2025-07-25 20:49:39.903 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 20:49:39.903 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:39.904 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:49:39.904 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:49:39.918 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:49:40.009 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:49:40.011 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:49:40.011 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 106.8734ms
2025-07-25 20:49:40.011 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:49:40.011 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 108.3641ms
2025-07-25 20:49:42.702 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 20:49:42.703 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:42.703 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.4145ms
2025-07-25 20:49:42.704 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 20:49:42.704 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:42.707 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:49:42.708 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 4.3919ms
2025-07-25 20:49:42.712 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 20:49:42.713 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:42.714 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 1.6616ms
2025-07-25 20:49:42.724 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 20:49:42.725 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:49:42.730 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:49:42.732 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 7.7773ms
2025-07-25 20:50:07.006 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:50:07.007 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:07.007 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4311ms
2025-07-25 20:50:07.008 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:50:07.008 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:07.010 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:50:07.011 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.4934ms
2025-07-25 20:50:10.383 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:50:10.384 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:10.384 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.604ms
2025-07-25 20:50:10.385 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 20:50:10.385 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:10.386 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:50:10.386 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:50:10.389 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:50:10.480 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:50:10.482 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:50:10.482 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 96.0405ms
2025-07-25 20:50:10.483 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:50:10.483 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 97.6964ms
2025-07-25 20:50:14.597 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:50:14.597 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:14.597 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.37ms
2025-07-25 20:50:14.598 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:50:14.598 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:14.600 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:50:14.602 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.4274ms
2025-07-25 20:50:18.239 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:50:18.239 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:18.239 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5068ms
2025-07-25 20:50:18.241 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 20:50:18.241 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:50:18.241 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:50:18.241 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:50:18.244 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:50:18.347 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:50:18.348 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:50:18.349 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 106.9829ms
2025-07-25 20:50:18.349 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:50:18.349 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 108.2671ms
2025-07-25 20:56:31.295 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 20:56:31.295 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:31.295 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.3989ms
2025-07-25 20:56:31.296 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 20:56:31.296 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:31.298 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:56:31.299 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.1584ms
2025-07-25 20:56:35.577 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 20:56:35.577 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:35.577 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4918ms
2025-07-25 20:56:35.578 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 20:56:35.578 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:35.579 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:56:35.579 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 20:56:35.594 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 20:56:35.675 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 20:56:35.678 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 20:56:35.678 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 99.299ms
2025-07-25 20:56:35.679 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 20:56:35.679 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 100.6065ms
2025-07-25 20:56:37.811 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 20:56:37.811 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:37.811 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.4399ms
2025-07-25 20:56:37.812 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 20:56:37.813 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:37.814 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:56:37.818 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 5.3154ms
2025-07-25 20:56:37.821 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 20:56:37.821 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:37.821 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.5785ms
2025-07-25 20:56:37.822 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 20:56:37.823 +08:00 [INF] CORS policy execution successful.
2025-07-25 20:56:37.825 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 20:56:37.826 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.2888ms
2025-07-25 21:04:09.670 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 21:04:09.671 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:04:09.671 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.7239ms
2025-07-25 21:04:09.672 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 21:04:09.672 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:04:09.673 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:04:09.674 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.7716ms
2025-07-25 21:04:13.835 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 21:04:13.835 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:04:13.836 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4828ms
2025-07-25 21:04:13.837 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 21:04:13.837 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:04:13.837 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:04:13.838 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 21:04:13.854 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 21:04:13.942 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 21:04:13.943 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 21:04:13.943 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 105.2675ms
2025-07-25 21:04:13.943 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:04:13.943 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 106.6581ms
2025-07-25 21:09:10.310 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 21:09:10.311 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:09:10.311 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4103ms
2025-07-25 21:09:10.312 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 21:09:10.312 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:09:10.314 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:09:10.315 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.7446ms
2025-07-25 21:09:16.504 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 21:09:16.504 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:09:16.504 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4312ms
2025-07-25 21:09:16.505 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 21:09:16.506 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:09:16.506 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:09:16.506 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 21:09:16.520 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 21:09:16.602 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 21:09:16.603 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 21:09:16.603 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 96.8655ms
2025-07-25 21:09:16.604 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:09:16.604 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 98.5328ms
2025-07-25 21:17:21.975 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 21:17:21.976 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:21.977 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.6362ms
2025-07-25 21:17:21.977 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 21:17:21.977 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:21.980 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:17:21.981 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.7155ms
2025-07-25 21:17:26.112 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 21:17:26.113 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:26.113 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3792ms
2025-07-25 21:17:26.114 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 21:17:26.114 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:26.114 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:17:26.115 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 21:17:26.132 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 21:17:26.218 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 21:17:26.219 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 21:17:26.219 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 103.9261ms
2025-07-25 21:17:26.219 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:17:26.219 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 105.5571ms
2025-07-25 21:17:28.603 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 21:17:28.603 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:28.603 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.5127ms
2025-07-25 21:17:28.604 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 21:17:28.604 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:28.607 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:17:28.608 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 3.7715ms
2025-07-25 21:17:28.611 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 21:17:28.612 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:28.612 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.4818ms
2025-07-25 21:17:28.613 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 21:17:28.613 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:17:28.614 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:17:28.615 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 2.7861ms
2025-07-25 21:19:36.927 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 21:19:36.927 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:19:36.927 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.9504ms
2025-07-25 21:19:36.929 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 21:19:36.929 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:19:36.932 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:19:36.934 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 500 null text/plain; charset=utf-8 4.8944ms
2025-07-25 21:19:36.947 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 21:19:36.947 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:19:36.947 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.7011ms
2025-07-25 21:19:36.949 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 21:19:36.949 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:19:36.951 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:19:36.952 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 500 null text/plain; charset=utf-8 3.0719ms
2025-07-25 21:23:22.989 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 21:23:22.990 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:23:22.991 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.2048ms
2025-07-25 21:23:22.991 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 21:23:22.992 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:23:22.994 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:23:22.995 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.8259ms
2025-07-25 21:23:27.694 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 21:23:27.695 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:23:27.695 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4107ms
2025-07-25 21:23:27.695 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 21:23:27.696 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:23:27.696 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:23:27.696 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 21:23:27.712 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 21:23:27.796 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 21:23:27.797 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 21:23:27.797 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 101.2406ms
2025-07-25 21:23:27.798 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:23:27.798 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 102.4947ms
2025-07-25 21:34:15.029 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 21:34:15.030 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:34:15.030 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.4068ms
2025-07-25 21:34:15.031 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 21:34:15.031 +08:00 [INF] CORS policy execution successful.
2025-07-25 21:34:15.033 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 21:34:15.034 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 3.1426ms
2025-07-25 21:58:11.698 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 21:58:11.700 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:58:11.701 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 21:58:11.717 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 21:58:11.797 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 21:58:11.806 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 104.7254ms
2025-07-25 21:58:11.806 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 21:58:11.806 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 107.7489ms
2025-07-25 22:12:14.704 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 22:12:14.764 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 22:12:15.061 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 22:12:15.354 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 22:12:15.363 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 22:12:15.364 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 22:12:15.365 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 22:12:15.371 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 22:12:15.389 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 22:12:15.404 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 22:12:15.520 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 22:12:15.532 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 22:12:15.536 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 22:12:15.538 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 22:12:15.836 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 22:12:15.875 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 22:12:15.876 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 22:12:15.892 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:12:15.986 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:12:15.987 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:12:16.002 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 22:12:16.005 +08:00 [INF] Data seeding completed successfully
2025-07-25 22:12:16.067 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 22:12:16.067 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 22:12:16.067 +08:00 [INF] Hosting environment: Development
2025-07-25 22:12:16.067 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 22:12:34.750 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 22:12:34.795 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 22:12:34.797 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:12:34.802 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 54.2377ms
2025-07-25 22:12:34.809 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 22:12:34.815 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:12:34.860 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-25 22:12:34.870 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:12:34.873 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:12:34.883 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 22:12:34.892 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 22:12:34.893 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 401 0 null 84.0198ms
2025-07-25 22:30:29.152 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 22:30:29.159 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:30:29.162 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 10.071ms
2025-07-25 22:30:29.163 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 22:30:29.164 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:30:29.170 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-25 22:30:29.171 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:30:29.171 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:30:29.180 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 22:30:29.181 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 22:30:29.181 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 401 0 null 18.5438ms
2025-07-25 22:30:40.238 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 22:30:40.239 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:30:40.239 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.205ms
2025-07-25 22:30:40.240 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 22:30:40.250 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:30:40.252 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-25 22:30:40.253 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:30:40.253 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:30:40.256 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 22:30:40.289 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 22:30:40.483 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 22:30:40.560 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 22:30:40.704 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 22:30:40.749 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 456.9093ms
2025-07-25 22:30:40.750 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 22:30:40.755 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 514.8523ms
2025-07-25 22:30:40.756 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 22:30:40.756 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:30:40.757 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.607ms
2025-07-25 22:30:40.757 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 22:30:40.759 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:30:40.759 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-25 22:30:40.759 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:30:40.760 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:30:40.762 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 22:30:40.763 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 22:30:40.763 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 401 0 null 5.3644ms
2025-07-25 22:37:16.681 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 22:37:16.683 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:16.683 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 2.2249ms
2025-07-25 22:37:16.684 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 22:37:16.684 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:16.685 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-25 22:37:16.685 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:37:16.685 +08:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-25 22:37:16.685 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 22:37:16.686 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 22:37:16.686 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 401 0 null 1.8801ms
2025-07-25 22:37:22.001 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:37:22.001 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:22.002 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.841ms
2025-07-25 22:37:22.003 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-25 22:37:22.004 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:22.004 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:22.011 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:37:22.212 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:37:22.318 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:37:22.322 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 310.9148ms
2025-07-25 22:37:22.322 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:22.322 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 319.4259ms
2025-07-25 22:37:32.184 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:37:32.185 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:32.185 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.784ms
2025-07-25 22:37:32.186 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-25 22:37:32.187 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:32.187 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:32.187 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:37:32.194 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:37:32.280 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:37:32.280 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 92.2146ms
2025-07-25 22:37:32.280 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:32.280 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 94.082ms
2025-07-25 22:37:37.111 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-25 22:37:37.111 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:37.111 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:37.111 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:37:37.129 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:37:37.213 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:37:37.214 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 102.0722ms
2025-07-25 22:37:37.214 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:37.214 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 103.5037ms
2025-07-25 22:37:46.034 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:37:46.034 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:46.035 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6583ms
2025-07-25 22:37:46.036 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 22:37:46.037 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:37:46.037 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:46.037 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:37:46.040 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:37:46.275 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 22:37:46.296 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 22:37:46.299 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 261.237ms
2025-07-25 22:37:46.299 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:37:46.299 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 262.8074ms
2025-07-25 22:38:07.974 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - null null
2025-07-25 22:38:07.974 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:07.975 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - 204 null null 1.2499ms
2025-07-25 22:38:07.976 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - application/json null
2025-07-25 22:38:07.979 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.031 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:38:08.046 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - 500 null text/plain; charset=utf-8 69.5634ms
2025-07-25 22:38:08.050 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - null null
2025-07-25 22:38:08.050 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.050 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 204 null null 0.386ms
2025-07-25 22:38:08.051 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - application/json null
2025-07-25 22:38:08.051 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.053 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:38:08.055 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 500 null text/plain; charset=utf-8 3.9537ms
2025-07-25 22:38:08.057 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - null null
2025-07-25 22:38:08.058 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.058 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 204 null null 0.4546ms
2025-07-25 22:38:08.059 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - application/json null
2025-07-25 22:38:08.059 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.061 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:38:08.063 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 500 null text/plain; charset=utf-8 4.0254ms
2025-07-25 22:38:08.065 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - null null
2025-07-25 22:38:08.065 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.065 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 204 null null 0.3749ms
2025-07-25 22:38:08.066 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - application/json null
2025-07-25 22:38:08.066 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.068 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:38:08.069 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 500 null text/plain; charset=utf-8 3.0909ms
2025-07-25 22:38:08.072 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/stats - null null
2025-07-25 22:38:08.072 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.072 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/stats - 204 null null 0.3888ms
2025-07-25 22:38:08.073 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/stats - application/json null
2025-07-25 22:38:08.073 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:38:08.075 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:38:08.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/stats - 500 null text/plain; charset=utf-8 3.0728ms
2025-07-25 22:45:50.881 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - null null
2025-07-25 22:45:50.882 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.882 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - 204 null null 1.1856ms
2025-07-25 22:45:50.884 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - application/json null
2025-07-25 22:45:50.886 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.889 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:50.891 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - 500 null text/plain; charset=utf-8 7.0283ms
2025-07-25 22:45:50.908 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - null null
2025-07-25 22:45:50.908 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.909 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 204 null null 0.8229ms
2025-07-25 22:45:50.916 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - application/json null
2025-07-25 22:45:50.917 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.919 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:50.921 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 500 null text/plain; charset=utf-8 4.9071ms
2025-07-25 22:45:50.924 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - null null
2025-07-25 22:45:50.925 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.925 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 204 null null 0.734ms
2025-07-25 22:45:50.927 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - application/json null
2025-07-25 22:45:50.927 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.930 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:50.932 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 500 null text/plain; charset=utf-8 5.2157ms
2025-07-25 22:45:50.965 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - null null
2025-07-25 22:45:50.965 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.965 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 204 null null 0.5405ms
2025-07-25 22:45:50.967 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - application/json null
2025-07-25 22:45:50.968 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.970 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:50.972 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 500 null text/plain; charset=utf-8 5.2144ms
2025-07-25 22:45:50.982 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/stats - null null
2025-07-25 22:45:50.982 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.983 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/stats - 204 null null 0.565ms
2025-07-25 22:45:50.984 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/stats - application/json null
2025-07-25 22:45:50.985 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:50.987 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:50.990 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/stats - 500 null text/plain; charset=utf-8 5.9923ms
2025-07-25 22:45:53.148 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - application/json null
2025-07-25 22:45:53.154 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:53.182 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:53.185 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - 500 null text/plain; charset=utf-8 37.0807ms
2025-07-25 22:45:53.199 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - application/json null
2025-07-25 22:45:53.199 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:53.202 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:53.204 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 500 null text/plain; charset=utf-8 4.6543ms
2025-07-25 22:45:53.214 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - application/json null
2025-07-25 22:45:53.217 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:53.219 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:53.221 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 500 null text/plain; charset=utf-8 7.1496ms
2025-07-25 22:45:53.224 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - application/json null
2025-07-25 22:45:53.225 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:53.227 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:53.228 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 500 null text/plain; charset=utf-8 4.224ms
2025-07-25 22:45:53.232 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/stats - application/json null
2025-07-25 22:45:53.232 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:53.235 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:53.237 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/stats - 500 null text/plain; charset=utf-8 5.7083ms
2025-07-25 22:45:55.700 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 22:45:55.701 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:55.701 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.5095ms
2025-07-25 22:45:55.710 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 22:45:55.711 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:45:55.714 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:45:55.716 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 5.2043ms
2025-07-25 22:46:01.084 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:46:01.086 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:46:01.087 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 3.0422ms
2025-07-25 22:46:01.088 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 22:46:01.088 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:46:01.089 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:46:01.089 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:46:01.117 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:46:01.223 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:46:01.223 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 133.9931ms
2025-07-25 22:46:01.224 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:46:01.224 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 135.6695ms
2025-07-25 22:51:01.859 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:51:01.860 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:01.860 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.8404ms
2025-07-25 22:51:01.861 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 22:51:01.861 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:01.861 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:51:01.862 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:51:01.878 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:51:01.964 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:51:01.964 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 102.482ms
2025-07-25 22:51:01.965 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:51:01.965 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 103.801ms
2025-07-25 22:51:06.793 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 22:51:06.794 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:06.794 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:51:06.794 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:51:06.797 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:51:06.889 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 22:51:06.891 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 22:51:06.891 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 96.551ms
2025-07-25 22:51:06.891 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:51:06.891 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 98.004ms
2025-07-25 22:51:09.853 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - null null
2025-07-25 22:51:09.854 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.854 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - 204 null null 1.3553ms
2025-07-25 22:51:09.856 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - application/json null
2025-07-25 22:51:09.856 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.859 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:51:09.862 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/profile - 500 null text/plain; charset=utf-8 6.1543ms
2025-07-25 22:51:09.865 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - null null
2025-07-25 22:51:09.865 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.866 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 204 null null 0.5855ms
2025-07-25 22:51:09.867 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - application/json null
2025-07-25 22:51:09.867 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.869 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:51:09.871 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/stats - 500 null text/plain; charset=utf-8 4.1508ms
2025-07-25 22:51:09.874 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - null null
2025-07-25 22:51:09.874 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.874 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 204 null null 0.3639ms
2025-07-25 22:51:09.875 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - application/json null
2025-07-25 22:51:09.875 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.878 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:51:09.879 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/certificates - 500 null text/plain; charset=utf-8 4.3548ms
2025-07-25 22:51:09.882 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - null null
2025-07-25 22:51:09.882 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.882 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 204 null null 0.3309ms
2025-07-25 22:51:09.883 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - application/json null
2025-07-25 22:51:09.883 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.885 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:51:09.886 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/48a537d5-befd-45bf-985b-908d97c7a378/activity - 500 null text/plain; charset=utf-8 2.9186ms
2025-07-25 22:51:09.888 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/stats - null null
2025-07-25 22:51:09.888 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.889 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/stats - 204 null null 0.3465ms
2025-07-25 22:51:09.889 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/stats - application/json null
2025-07-25 22:51:09.890 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:09.891 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:51:09.892 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/stats - 500 null text/plain; charset=utf-8 2.8488ms
2025-07-25 22:51:38.006 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 22:51:38.007 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:38.007 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.7025ms
2025-07-25 22:51:38.008 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 22:51:38.008 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:38.009 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 22:51:38.010 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 500 null text/plain; charset=utf-8 2.9464ms
2025-07-25 22:51:55.843 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:51:55.843 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:55.844 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6896ms
2025-07-25 22:51:55.845 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 22:51:55.845 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:51:55.846 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:51:55.846 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:51:55.850 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:51:55.850 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:51:55.851 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 4.2033ms
2025-07-25 22:51:55.851 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:51:55.851 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 5.984ms
2025-07-25 22:52:02.467 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:52:02.468 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:02.469 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.2725ms
2025-07-25 22:52:02.470 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 52
2025-07-25 22:52:02.470 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:02.470 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:02.471 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:52:02.474 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:52:02.475 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:52:02.475 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 4.5337ms
2025-07-25 22:52:02.476 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:02.476 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 6.0553ms
2025-07-25 22:52:05.603 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 52
2025-07-25 22:52:05.604 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:05.604 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:05.604 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:52:05.607 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:52:05.607 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:52:05.608 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 3.9991ms
2025-07-25 22:52:05.608 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:05.609 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 5.6208ms
2025-07-25 22:52:11.027 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:52:11.028 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:11.028 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.6558ms
2025-07-25 22:52:11.029 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 53
2025-07-25 22:52:11.029 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:11.030 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:11.030 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:52:11.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:52:11.118 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:52:11.118 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 87.7368ms
2025-07-25 22:52:11.118 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:11.118 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 89.1307ms
2025-07-25 22:52:13.692 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 65
2025-07-25 22:52:13.693 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:13.693 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:13.693 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:52:13.695 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:52:13.779 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 22:52:13.779 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 85.8646ms
2025-07-25 22:52:13.779 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:13.779 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 87.0741ms
2025-07-25 22:52:18.757 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 22:52:18.758 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:18.758 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.0576ms
2025-07-25 22:52:18.759 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 22:52:18.760 +08:00 [INF] CORS policy execution successful.
2025-07-25 22:52:18.760 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:18.760 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 22:52:18.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 22:52:18.847 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 22:52:18.848 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 22:52:18.849 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 88.4747ms
2025-07-25 22:52:18.849 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 22:52:18.849 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 89.4539ms
2025-07-25 23:01:39.680 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:01:39.738 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:01:40.077 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:01:40.388 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:01:40.397 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:01:40.398 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:01:40.399 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:01:40.403 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:01:40.419 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:01:40.433 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:01:40.499 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:01:40.510 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:01:40.513 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:01:40.515 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:01:40.814 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:01:40.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:01:40.850 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:01:40.865 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:01:40.963 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:01:40.964 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:01:40.978 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:01:40.981 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:01:41.056 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:01:41.056 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:01:41.056 +08:00 [INF] Hosting environment: Development
2025-07-25 23:01:41.056 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:03:35.165 +08:00 [FTL] Application start-up failed
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 173
2025-07-25 23:03:52.207 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:03:52.254 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:03:52.598 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:03:52.899 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:03:52.907 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:03:52.908 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:03:52.909 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:03:52.913 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:03:52.930 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:03:52.952 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:03:53.015 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:03:53.027 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:03:53.030 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:03:53.031 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:03:53.322 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:03:53.357 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:03:53.358 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:03:53.373 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:03:53.462 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:03:53.464 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:03:53.478 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:03:53.482 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:03:53.542 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-25 23:03:53.558 +08:00 [FTL] Application start-up failed
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 207
2025-07-25 23:04:57.507 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:04:57.554 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:04:57.851 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:04:58.176 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:04:58.186 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:04:58.187 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:04:58.188 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:04:58.193 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:04:58.210 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:04:58.231 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:04:58.380 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:04:58.394 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:04:58.397 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:04:58.397 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:04:58.734 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:04:58.775 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:04:58.776 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:04:58.796 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:04:58.896 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:04:58.896 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:04:58.910 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:04:58.914 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:04:58.972 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:04:58.972 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:04:58.972 +08:00 [INF] Hosting environment: Development
2025-07-25 23:04:58.972 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:05:03.764 +08:00 [INF] Request starting HTTP/1.1 HEAD http://localhost:5295/swagger/index.html - null null
2025-07-25 23:05:03.806 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:05:03.854 +08:00 [INF] Request finished HTTP/1.1 HEAD http://localhost:5295/swagger/index.html - 404 null null 91.7435ms
2025-07-25 23:05:03.862 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: HEAD http://localhost:5295/swagger/index.html, Response status code: 404
2025-07-25 23:05:13.513 +08:00 [INF] Request starting HTTP/1.1 HEAD http://localhost:5295/swagger - null null
2025-07-25 23:05:13.518 +08:00 [INF] Request finished HTTP/1.1 HEAD http://localhost:5295/swagger - 404 null null 4.9697ms
2025-07-25 23:05:13.519 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: HEAD http://localhost:5295/swagger, Response status code: 404
2025-07-25 23:05:18.049 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:05:18.057 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:05:18.076 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:05:18.237 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:05:18.287 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:05:18.407 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:05:18.446 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 367.1717ms
2025-07-25 23:05:18.447 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:05:18.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 402.2815ms
2025-07-25 23:05:52.059 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 58
2025-07-25 23:05:52.062 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:05:52.066 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:05:52.081 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 23:05:52.093 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 25.9956ms
2025-07-25 23:05:52.093 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:05:52.093 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null application/problem+json; charset=utf-8 33.6678ms
2025-07-25 23:05:58.006 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 23:05:58.008 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:05:58.008 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:05:58.066 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:05:58.147 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:05:58.150 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 141.9314ms
2025-07-25 23:05:58.150 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:05:58.150 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 144.5249ms
2025-07-25 23:06:20.058 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 91
2025-07-25 23:06:20.058 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:06:20.062 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:06:20.077 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 23:06:20.077 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 15.333ms
2025-07-25 23:06:20.077 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:06:20.077 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 400 null application/problem+json; charset=utf-8 19.7109ms
2025-07-25 23:06:25.484 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 89
2025-07-25 23:06:25.484 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:06:25.484 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:06:25.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:06:25.579 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:06:25.583 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:06:25.679 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 23:06:25.697 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:06:25.717 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:06:25.721 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:06:25.730 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:06:25.732 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:06:25.751 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:06:25.817 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-07-25 23:06:25.829 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:06:25.831 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 346.4935ms
2025-07-25 23:06:25.831 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:06:25.831 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 200 null application/json; charset=utf-8 347.2339ms
2025-07-25 23:06:31.768 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 49
2025-07-25 23:06:31.768 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:06:31.768 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:06:31.770 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:06:31.861 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:06:31.862 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:06:31.862 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 93.3791ms
2025-07-25 23:06:31.862 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:06:31.862 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 94.282ms
2025-07-25 23:06:52.693 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - application/json null
2025-07-25 23:06:52.755 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<RefreshToken>()
    .Any(r => r.UserId == __userId_0 && r.IsActive)' could not be translated. Additional information: Translation of member 'IsActive' on entity type 'RefreshToken' failed. This commonly occurs when the specified member is unmapped. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AnyAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Middleware.TokenBlacklistMiddleware.InvokeAsync(HttpContext context) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Middleware/TokenBlacklistMiddleware.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-25 23:06:52.779 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - 500 null text/plain; charset=utf-8 86.6022ms
2025-07-25 23:07:39.173 +08:00 [INF] Application is shutting down...
2025-07-25 23:07:49.962 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:07:50.016 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:07:50.324 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:07:50.627 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:07:50.635 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:07:50.636 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:07:50.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:07:50.640 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:07:50.656 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:07:50.675 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:07:50.732 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:07:50.744 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:07:50.746 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:07:50.746 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:07:51.033 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:07:51.071 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:07:51.071 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:07:51.086 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:07:51.181 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:07:51.182 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:07:51.195 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:07:51.198 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:07:51.256 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:07:51.256 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:07:51.256 +08:00 [INF] Hosting environment: Development
2025-07-25 23:07:51.256 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:07:57.059 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 49
2025-07-25 23:07:57.102 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:07:57.140 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:07:57.156 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:07:57.205 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:07:57.443 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:07:57.468 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:07:57.482 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 322.4154ms
2025-07-25 23:07:57.486 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:07:57.492 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 435.607ms
2025-07-25 23:11:51.229 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - application/json null
2025-07-25 23:11:51.387 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:11:51.391 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-07-25 23:11:51.396 +08:00 [INF] Route matched with {action = "EnrollInCourse", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnrollInCourse(Int32) on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:11:51.412 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM "Enrollments" AS e
WHERE FALSE
LIMIT 1
2025-07-25 23:11:51.527 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "Courses" AS c
INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
WHERE c."Id" = @__courseId_0
LIMIT 1
2025-07-25 23:11:51.648 +08:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CertificateUrl", "CompletedAt", "CourseId", "EnrolledAt", "ProgressPercentage", "StudentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-07-25 23:11:51.669 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'CeceLearningPortal.Api.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "StudentId" of relation "Enrollments" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "StudentId" of relation "Enrollments" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Enrollments
    ColumnName: StudentId
    File: execMain.c
    Line: 1988
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "StudentId" of relation "Enrollments" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "StudentId" of relation "Enrollments" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Enrollments
    ColumnName: StudentId
    File: execMain.c
    Line: 1988
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 23:11:51.673 +08:00 [ERR] Error enrolling in course 1
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "StudentId" of relation "Enrollments" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "StudentId" of relation "Enrollments" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Enrollments
    ColumnName: StudentId
    File: execMain.c
    Line: 1988
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Services.EnrollmentService.EnrollInCourseAsync(Int32 courseId, String studentId) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Services/EnrollmentService.cs:line 53
   at CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse(Int32 courseId) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Controllers/EnrollmentsController.cs:line 28
2025-07-25 23:11:51.681 +08:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:11:51.685 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api) in 288.9291ms
2025-07-25 23:11:51.686 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-07-25 23:11:51.686 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - 500 null application/json; charset=utf-8 457.515ms
2025-07-25 23:14:17.772 +08:00 [INF] Application is shutting down...
2025-07-25 23:14:26.202 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:14:26.260 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:14:26.552 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:14:26.881 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:14:26.890 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:14:26.891 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:14:26.892 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:14:26.895 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:14:26.911 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:14:26.930 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:14:26.997 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:14:27.008 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:14:27.010 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:14:27.010 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:14:27.292 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:14:27.326 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:14:27.327 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:14:27.342 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:14:27.445 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:14:27.446 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:14:27.462 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:14:27.465 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:14:27.539 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:14:27.539 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:14:27.539 +08:00 [INF] Hosting environment: Development
2025-07-25 23:14:27.539 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:15:06.970 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:15:07.019 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:15:07.056 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:15:07.076 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:15:07.236 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:15:07.289 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:15:07.420 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:15:07.462 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 381.8109ms
2025-07-25 23:15:07.466 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:15:07.474 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 505.4857ms
2025-07-25 23:15:07.488 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 93
2025-07-25 23:15:07.493 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:15:07.498 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:15:07.568 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:15:07.657 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:15:07.661 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:15:07.761 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 23:15:07.780 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:15:07.798 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:15:07.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:15:07.812 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:15:07.814 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:15:07.836 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:15:07.902 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-07-25 23:15:07.916 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:15:07.919 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 420.9867ms
2025-07-25 23:15:07.919 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:15:07.919 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 200 null application/json; charset=utf-8 431.1313ms
2025-07-25 23:15:07.936 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 53
2025-07-25 23:15:07.940 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:15:07.944 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:15:07.951 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:15:08.041 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:15:08.042 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:15:08.043 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 98.8188ms
2025-07-25 23:15:08.043 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:15:08.043 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 106.6512ms
2025-07-25 23:15:08.069 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:15:08.070 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:15:08.070 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:15:08.074 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:15:08.076 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:15:08.076 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.8141ms
2025-07-25 23:15:08.076 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:15:08.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 7.0975ms
2025-07-25 23:15:08.094 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/1 - null null
2025-07-25 23:15:08.095 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-25 23:15:08.099 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:15:08.121 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:15:08.167 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-25 23:15:08.176 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-25 23:15:08.176 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 77.0191ms
2025-07-25 23:15:08.176 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-25 23:15:08.176 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/1 - 200 null application/json; charset=utf-8 82.0688ms
2025-07-25 23:15:08.194 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - application/json null
2025-07-25 23:15:08.252 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:15:08.255 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-07-25 23:15:08.259 +08:00 [INF] Route matched with {action = "EnrollInCourse", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnrollInCourse(Int32) on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:15:08.261 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:15:08.266 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api) in 6.6605ms
2025-07-25 23:15:08.266 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-07-25 23:15:08.266 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - 401 null application/json; charset=utf-8 72.5776ms
2025-07-25 23:15:08.319 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - null null
2025-07-25 23:15:08.321 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:15:08.323 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:15:08.327 +08:00 [INF] Route matched with {action = "GetMyEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyEnrollments() on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:15:08.350 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."StudentId", a."FullName" AS "StudentName", e."CourseId", c."Title" AS "CourseTitle", c."Thumbnail" AS "CourseThumbnail", a0."FullName" AS "InstructorName", e."EnrolledAt", e."CompletedAt", e."ProgressPercentage", e."CertificateUrl"
FROM "Enrollments" AS e
INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
INNER JOIN "AspNetUsers" AS a0 ON c."InstructorId" = a0."Id"
WHERE FALSE
2025-07-25 23:15:08.350 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.EnrollmentDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:15:08.355 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api) in 27.6111ms
2025-07-25 23:15:08.355 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:15:08.355 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 200 null application/json; charset=utf-8 36.3538ms
2025-07-25 23:15:08.382 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/06d920ab-e998-49e6-9a7c-183d462643d3 - application/json 32
2025-07-25 23:15:08.384 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:15:08.386 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.UpdateUser (CeceLearningPortal.Api)'
2025-07-25 23:15:08.391 +08:00 [INF] Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.String, CeceLearningPortal.Api.DTOs.UpdateUserDto) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:15:08.398 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-07-25 23:15:08.400 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-25 23:15:08.401 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.UpdateUser (CeceLearningPortal.Api) in 9.2743ms
2025-07-25 23:15:08.401 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.UpdateUser (CeceLearningPortal.Api)'
2025-07-25 23:15:08.401 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/06d920ab-e998-49e6-9a7c-183d462643d3 - 403 0 null 19.0828ms
2025-07-25 23:15:37.825 +08:00 [INF] Application is shutting down...
2025-07-25 23:15:45.450 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:15:45.505 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:15:45.904 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:15:46.203 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:15:46.211 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:15:46.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:15:46.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:15:46.217 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:15:46.232 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:15:46.252 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:15:46.328 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:15:46.340 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:15:46.342 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:15:46.342 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:15:46.620 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:15:46.652 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:15:46.653 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:15:46.667 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:15:46.752 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:15:46.754 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:15:46.769 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:15:46.772 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:15:46.834 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:15:46.834 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:15:46.834 +08:00 [INF] Hosting environment: Development
2025-07-25 23:15:46.834 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:16:04.332 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:16:04.376 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:16:04.409 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:16:04.428 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:16:04.614 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:16:04.663 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:16:04.799 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:16:04.848 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 416.787ms
2025-07-25 23:16:04.853 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:16:04.860 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 529.7802ms
2025-07-25 23:16:04.874 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 93
2025-07-25 23:16:04.879 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:16:04.883 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:16:04.959 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:16:04.960 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:16:04.964 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 80.5403ms
2025-07-25 23:16:04.964 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:16:04.965 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 400 null application/json; charset=utf-8 90.4069ms
2025-07-25 23:16:04.981 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 53
2025-07-25 23:16:04.984 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:16:04.987 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:16:04.995 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:16:05.258 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:16:05.282 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:16:05.285 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 297.7033ms
2025-07-25 23:16:05.286 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:16:05.286 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 304.9983ms
2025-07-25 23:16:05.311 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:16:05.312 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:16:05.312 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:16:05.316 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:16:05.317 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:16:05.317 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.2783ms
2025-07-25 23:16:05.317 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:16:05.317 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 6.622ms
2025-07-25 23:16:05.334 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/1 - null null
2025-07-25 23:16:05.335 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-25 23:16:05.338 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:16:05.357 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:16:05.399 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-25 23:16:05.408 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-25 23:16:05.408 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 69.8529ms
2025-07-25 23:16:05.408 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-25 23:16:05.408 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/1 - 200 null application/json; charset=utf-8 73.9958ms
2025-07-25 23:16:05.424 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - application/json null
2025-07-25 23:16:05.481 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:05.485 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-07-25 23:16:05.488 +08:00 [INF] Route matched with {action = "EnrollInCourse", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EnrollInCourse(Int32) on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:16:05.498 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32), @__studentId_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = @__studentId_1
LIMIT 1
2025-07-25 23:16:05.513 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "Courses" AS c
INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
WHERE c."Id" = @__courseId_0
LIMIT 1
2025-07-25 23:16:05.572 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CertificateUrl", "CompletedAt", "CourseId", "EnrolledAt", "ProgressPercentage", "StudentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2025-07-25 23:16:05.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:16:05.594 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.EnrollmentDto'.
2025-07-25 23:16:05.600 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api) in 112.2601ms
2025-07-25 23:16:05.600 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.EnrollInCourse (CeceLearningPortal.Api)'
2025-07-25 23:16:05.600 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/enrollments/courses/1 - 200 null application/json; charset=utf-8 175.986ms
2025-07-25 23:16:05.616 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - null null
2025-07-25 23:16:05.618 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:05.620 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:16:05.623 +08:00 [INF] Route matched with {action = "GetMyEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyEnrollments() on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:16:05.642 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__studentId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."StudentId", a."FullName" AS "StudentName", e."CourseId", c."Title" AS "CourseTitle", c."Thumbnail" AS "CourseThumbnail", a0."FullName" AS "InstructorName", e."EnrolledAt", e."CompletedAt", e."ProgressPercentage", e."CertificateUrl"
FROM "Enrollments" AS e
INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
INNER JOIN "AspNetUsers" AS a0 ON c."InstructorId" = a0."Id"
WHERE e."StudentId" = @__studentId_0
2025-07-25 23:16:05.644 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.EnrollmentDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:16:05.644 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api) in 21.0756ms
2025-07-25 23:16:05.645 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:16:05.645 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 200 null application/json; charset=utf-8 28.5975ms
2025-07-25 23:16:05.669 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/06d920ab-e998-49e6-9a7c-183d462643d3 - application/json 32
2025-07-25 23:16:05.671 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:05.673 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.UpdateUser (CeceLearningPortal.Api)'
2025-07-25 23:16:05.676 +08:00 [INF] Route matched with {action = "UpdateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.String, CeceLearningPortal.Api.DTOs.UpdateUserDto) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:16:05.682 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-07-25 23:16:05.684 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-25 23:16:05.685 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.UpdateUser (CeceLearningPortal.Api) in 8.0448ms
2025-07-25 23:16:05.685 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.UpdateUser (CeceLearningPortal.Api)'
2025-07-25 23:16:05.685 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/06d920ab-e998-49e6-9a7c-183d462643d3 - 403 0 null 15.7752ms
2025-07-25 23:16:16.667 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - null null
2025-07-25 23:16:16.669 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.671 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - 204 null null 4.283ms
2025-07-25 23:16:16.673 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - application/json null
2025-07-25 23:16:16.675 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.680 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:16.681 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - 404 0 null 7.2723ms
2025-07-25 23:16:16.681 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile, Response status code: 404
2025-07-25 23:16:16.683 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - null null
2025-07-25 23:16:16.684 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.684 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 204 null null 0.4831ms
2025-07-25 23:16:16.685 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - application/json null
2025-07-25 23:16:16.685 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.688 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:16.689 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:16:16.693 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:16:16.695 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-07-25 23:16:16.695 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-25 23:16:16.695 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 2.3419ms
2025-07-25 23:16:16.695 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:16:16.696 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 403 0 null 10.8255ms
2025-07-25 23:16:16.698 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - null null
2025-07-25 23:16:16.698 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.698 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 204 null null 0.404ms
2025-07-25 23:16:16.699 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - application/json null
2025-07-25 23:16:16.699 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.702 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:16.702 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 404 0 null 2.9988ms
2025-07-25 23:16:16.702 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates, Response status code: 404
2025-07-25 23:16:16.704 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - null null
2025-07-25 23:16:16.705 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.705 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 204 null null 0.5301ms
2025-07-25 23:16:16.706 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - application/json null
2025-07-25 23:16:16.706 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:16.708 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:16.709 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 404 0 null 2.8966ms
2025-07-25 23:16:16.709 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity, Response status code: 404
2025-07-25 23:16:19.687 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:16:19.688 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:19.688 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.7131ms
2025-07-25 23:16:19.689 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:16:19.689 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:19.692 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:16:19.692 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:16:19.696 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:16:19.735 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE FALSE
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:16:19.735 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:16:19.736 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 39.0048ms
2025-07-25 23:16:19.736 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:16:19.736 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 46.6148ms
2025-07-25 23:16:24.557 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:16:24.557 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:24.557 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.3219ms
2025-07-25 23:16:24.558 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 55
2025-07-25 23:16:24.558 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:16:24.559 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:16:24.559 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:16:24.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:16:24.649 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:16:24.650 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:16:24.650 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 90.9763ms
2025-07-25 23:16:24.650 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:16:24.650 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 92.0807ms
2025-07-25 23:18:12.671 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:18:12.672 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:18:12.673 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.5814ms
2025-07-25 23:18:12.674 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 23:18:12.674 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:18:12.674 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:18:12.674 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:18:12.677 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:18:12.764 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:18:12.765 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:18:12.766 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 91.303ms
2025-07-25 23:18:12.766 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:18:12.766 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 92.1926ms
2025-07-25 23:18:16.663 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 23:18:16.664 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:18:16.665 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.4755ms
2025-07-25 23:18:16.666 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 23:18:16.666 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:18:16.668 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:18:16.669 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:18:16.669 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:18:16.674 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:18:16.676 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:18:16.676 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 6.8553ms
2025-07-25 23:18:16.676 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:18:16.676 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.6125ms
2025-07-25 23:18:16.679 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 23:18:16.679 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:18:16.679 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.5594ms
2025-07-25 23:18:16.681 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 23:18:16.681 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:18:16.683 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:18:16.683 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:18:16.684 +08:00 [INF] Route matched with {action = "GetMyEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyEnrollments() on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:18:16.688 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__studentId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."StudentId", a."FullName" AS "StudentName", e."CourseId", c."Title" AS "CourseTitle", c."Thumbnail" AS "CourseThumbnail", a0."FullName" AS "InstructorName", e."EnrolledAt", e."CompletedAt", e."ProgressPercentage", e."CertificateUrl"
FROM "Enrollments" AS e
INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
INNER JOIN "AspNetUsers" AS a0 ON c."InstructorId" = a0."Id"
WHERE e."StudentId" = @__studentId_0
2025-07-25 23:18:16.688 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.EnrollmentDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:18:16.688 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api) in 4.5937ms
2025-07-25 23:18:16.688 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:18:16.688 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 200 null application/json; charset=utf-8 7.3847ms
2025-07-25 23:19:11.362 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - null null
2025-07-25 23:19:11.363 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.363 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - 204 null null 0.493ms
2025-07-25 23:19:11.364 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - application/json null
2025-07-25 23:19:11.364 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.367 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:19:11.368 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - 404 0 null 3.5852ms
2025-07-25 23:19:11.368 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile, Response status code: 404
2025-07-25 23:19:11.386 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - null null
2025-07-25 23:19:11.387 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.387 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 204 null null 0.2771ms
2025-07-25 23:19:11.388 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - application/json null
2025-07-25 23:19:11.388 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.390 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:19:11.390 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:19:11.391 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:19:11.392 +08:00 [INF] Executing ForbidResult with authentication schemes ([]).
2025-07-25 23:19:11.392 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-25 23:19:11.392 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 1.4604ms
2025-07-25 23:19:11.392 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:19:11.392 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 403 0 null 4.7433ms
2025-07-25 23:19:11.395 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - null null
2025-07-25 23:19:11.396 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.396 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 204 null null 0.4407ms
2025-07-25 23:19:11.397 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - application/json null
2025-07-25 23:19:11.397 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.399 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:19:11.399 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 404 0 null 2.1761ms
2025-07-25 23:19:11.399 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates, Response status code: 404
2025-07-25 23:19:11.401 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - null null
2025-07-25 23:19:11.402 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.402 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 204 null null 0.2674ms
2025-07-25 23:19:11.402 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - application/json null
2025-07-25 23:19:11.403 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.404 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:19:11.405 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 404 0 null 2.0618ms
2025-07-25 23:19:11.405 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity, Response status code: 404
2025-07-25 23:19:11.407 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-25 23:19:11.407 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.407 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 0.2642ms
2025-07-25 23:19:11.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-25 23:19:11.408 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:19:11.409 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:19:11.410 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 2.012ms
2025-07-25 23:19:11.410 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-25 23:21:33.178 +08:00 [INF] Application is shutting down...
2025-07-25 23:21:40.620 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:21:40.677 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:21:41.042 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:21:41.387 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:21:41.396 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:21:41.397 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:21:41.398 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:21:41.402 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:21:41.417 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:21:41.437 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:21:41.522 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:21:41.538 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:21:41.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:21:41.541 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:21:41.891 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:21:41.929 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:21:41.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:21:41.948 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:21:42.065 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:21:42.066 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:21:42.084 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:21:42.088 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:21:42.163 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:21:42.164 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:21:42.164 +08:00 [INF] Hosting environment: Development
2025-07-25 23:21:42.164 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:22:19.254 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-25 23:22:19.299 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:22:19.336 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:22:19.352 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:22:19.379 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 23:22:19.440 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 84.5459ms
2025-07-25 23:22:19.444 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:22:19.447 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null application/problem+json; charset=utf-8 194.857ms
2025-07-25 23:22:25.288 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 59
2025-07-25 23:22:25.295 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:22:25.295 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:22:25.328 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:22:25.415 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:22:25.419 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 123.6209ms
2025-07-25 23:22:25.419 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:22:25.423 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 135.6905ms
2025-07-25 23:23:20.583 +08:00 [INF] Application is shutting down...
2025-07-25 23:23:28.851 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:23:28.910 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:23:29.304 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:23:29.668 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:23:29.679 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:23:29.680 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:23:29.681 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:23:29.686 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:23:29.706 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:23:29.729 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:23:29.799 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:23:29.810 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:23:29.812 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:23:29.813 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:23:30.145 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:23:30.187 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:23:30.188 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:23:30.204 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:23:30.321 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:23:30.322 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:23:30.340 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:23:30.343 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:23:30.414 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:23:30.414 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:23:30.414 +08:00 [INF] Hosting environment: Development
2025-07-25 23:23:30.414 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:23:42.779 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 59
2025-07-25 23:23:42.817 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:23:42.852 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:23:42.866 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:23:42.913 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:23:42.995 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:23:43.004 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 135.193ms
2025-07-25 23:23:43.008 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:23:43.014 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 235.9418ms
2025-07-25 23:23:48.647 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 112
2025-07-25 23:23:48.654 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:23:48.658 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:23:48.719 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:23:48.803 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:23:48.807 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:23:48.904 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 23:23:48.922 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:23:48.945 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:23:48.948 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:23:48.960 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:23:48.962 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:23:48.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:23:49.063 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-07-25 23:23:49.076 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:23:49.084 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 425.5879ms
2025-07-25 23:23:49.084 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:23:49.085 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 200 null application/json; charset=utf-8 437.3153ms
2025-07-25 23:24:02.346 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/7c384947-79f6-490a-9f67-40a3dcfd098c - null null
2025-07-25 23:24:02.419 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:24:02.430 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-07-25 23:24:02.435 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:24:02.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:24:02.451 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserDto'.
2025-07-25 23:24:02.453 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api) in 17.7418ms
2025-07-25 23:24:02.454 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-07-25 23:24:02.454 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/7c384947-79f6-490a-9f67-40a3dcfd098c - 200 null application/json; charset=utf-8 107.9892ms
2025-07-25 23:24:10.605 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/ - application/json 152
2025-07-25 23:24:10.607 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:10.607 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:10.607 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/ - 405 0 null 2.4624ms
2025-07-25 23:24:22.303 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/ - application/json 37
2025-07-25 23:24:22.304 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:22.304 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:22.304 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/ - 405 0 null 1.1491ms
2025-07-25 23:24:30.565 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/ - application/json 37
2025-07-25 23:24:30.566 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:30.566 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:30.566 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/ - 405 0 null 0.8413ms
2025-07-25 23:24:36.224 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/ - null null
2025-07-25 23:24:36.227 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-25 23:24:36.231 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:24:36.231 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/ - 401 0 null 6.5566ms
2025-07-25 23:24:42.647 +08:00 [INF] Request starting HTTP/1.1 HEAD http://localhost:5295/api/courses - null null
2025-07-25 23:24:42.648 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:42.648 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-07-25 23:24:42.648 +08:00 [INF] Request finished HTTP/1.1 HEAD http://localhost:5295/api/courses - 405 null null 0.5283ms
2025-07-25 23:24:47.689 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:24:47.689 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:24:47.695 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:24:47.795 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:24:47.839 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:24:47.943 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:24:47.965 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 269.368ms
2025-07-25 23:24:47.965 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:24:47.965 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 276.345ms
2025-07-25 23:24:56.481 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-25 23:24:56.481 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:24:56.482 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:24:56.496 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:24:56.499 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:24:56.499 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 17.0498ms
2025-07-25 23:24:56.499 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:24:56.499 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 18.4756ms
2025-07-25 23:25:02.130 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-25 23:25:02.131 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:25:02.131 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:25:02.134 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:25:02.134 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:25:02.134 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 2.8962ms
2025-07-25 23:25:02.134 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:25:02.134 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 3.7693ms
2025-07-25 23:25:40.184 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 112
2025-07-25 23:25:40.184 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:25:40.184 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:25:40.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:25:40.270 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:25:40.271 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:25:40.273 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 23:25:40.275 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:25:40.276 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:25:40.277 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:25:40.278 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:25:40.279 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:25:40.281 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:25:40.284 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-07-25 23:25:40.285 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:25:40.285 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 101.1752ms
2025-07-25 23:25:40.285 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:25:40.285 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 200 null application/json; charset=utf-8 101.7473ms
2025-07-25 23:25:49.827 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:25:49.827 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:25:49.828 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:25:49.829 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:25:49.927 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:25:49.928 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:25:49.928 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 100.7508ms
2025-07-25 23:25:49.928 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:25:49.928 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 101.2805ms
2025-07-25 23:25:55.435 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/ - null null
2025-07-25 23:25:55.437 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-25 23:25:55.437 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:25:55.437 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/ - 401 0 null 2.1234ms
2025-07-25 23:26:02.478 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/ - null null
2025-07-25 23:26:02.479 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-25 23:26:02.479 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:26:02.479 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/ - 401 0 null 0.8393ms
2025-07-25 23:26:17.032 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:26:17.033 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:26:17.033 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:26:17.035 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:26:17.134 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:26:17.135 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:26:17.135 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 101.7551ms
2025-07-25 23:26:17.135 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:26:17.135 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 102.4076ms
2025-07-25 23:26:27.799 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - null null
2025-07-25 23:26:27.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:26:27.801 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-07-25 23:26:27.801 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:26:27.803 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:26:27.804 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserDto'.
2025-07-25 23:26:27.804 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api) in 2.2443ms
2025-07-25 23:26:27.804 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-07-25 23:26:27.804 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - 200 null application/json; charset=utf-8 4.8279ms
2025-07-25 23:26:36.683 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/ - application/json 152
2025-07-25 23:26:36.684 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-07-25 23:26:36.684 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-07-25 23:26:36.684 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/ - 405 0 null 0.6592ms
2025-07-25 23:26:44.188 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/ - null null
2025-07-25 23:26:44.188 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-25 23:26:44.189 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:26:44.189 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/ - 401 0 null 0.7913ms
2025-07-25 23:26:55.763 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/ - null null
2025-07-25 23:26:55.764 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-25 23:26:55.764 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:26:55.764 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/ - 401 0 null 0.6343ms
2025-07-25 23:27:07.382 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - null null
2025-07-25 23:27:07.383 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 23:27:07.383 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:27:07.383 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - 401 0 null 0.6509ms
2025-07-25 23:27:07.401 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - application/json 37
2025-07-25 23:27:07.401 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 23:27:07.401 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:27:07.401 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - 401 0 null 0.6212ms
2025-07-25 23:27:07.420 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - null null
2025-07-25 23:27:07.421 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-25 23:27:07.421 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:27:07.421 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - 401 0 null 0.9496ms
2025-07-25 23:27:35.041 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - null null
2025-07-25 23:27:35.042 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.043 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - 204 null null 2.6434ms
2025-07-25 23:27:35.046 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - application/json null
2025-07-25 23:27:35.047 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.049 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:35.050 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - 404 0 null 3.9308ms
2025-07-25 23:27:35.050 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile, Response status code: 404
2025-07-25 23:27:35.052 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - null null
2025-07-25 23:27:35.052 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.052 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 204 null null 0.4074ms
2025-07-25 23:27:35.053 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - application/json null
2025-07-25 23:27:35.054 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.056 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:35.056 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:27:35.060 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:27:35.074 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:27:35.102 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."CertificateUrl", s."CompletedAt", s."CourseId", s."EnrolledAt", s."ProgressPercentage", s."StudentId", s."Id1", s."ApprovedAt", s."ApprovedBy", s."Comment", s."CourseId0", s."CreatedAt0", s."Rating", s."Status0", s."StudentId0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", e."Id" AS "Id0", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId", r."Id" AS "Id1", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId" AS "CourseId0", r."CreatedAt" AS "CreatedAt0", r."Rating", r."Status" AS "Status0", r."StudentId" AS "StudentId0"
    FROM "Courses" AS c
    LEFT JOIN "Enrollments" AS e ON c."Id" = e."CourseId"
    LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
) AS s ON a0."Id" = s."InstructorId"
ORDER BY a0."Id", s."Id", s."Id0"
2025-07-25 23:27:35.115 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-07-25 23:27:35.122 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 61.8484ms
2025-07-25 23:27:35.122 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:27:35.122 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 200 null application/json; charset=utf-8 68.5097ms
2025-07-25 23:27:35.124 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - null null
2025-07-25 23:27:35.124 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.124 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 204 null null 0.228ms
2025-07-25 23:27:35.125 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - application/json null
2025-07-25 23:27:35.125 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.126 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:35.127 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 404 0 null 1.997ms
2025-07-25 23:27:35.127 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates, Response status code: 404
2025-07-25 23:27:35.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - null null
2025-07-25 23:27:35.129 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.129 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 204 null null 0.2958ms
2025-07-25 23:27:35.130 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - application/json null
2025-07-25 23:27:35.130 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.131 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:35.132 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 404 0 null 1.7605ms
2025-07-25 23:27:35.132 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity, Response status code: 404
2025-07-25 23:27:35.133 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-25 23:27:35.133 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.134 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 0.2391ms
2025-07-25 23:27:35.134 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-25 23:27:35.134 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:35.136 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:35.136 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 1.6871ms
2025-07-25 23:27:35.136 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-25 23:27:40.550 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:27:40.551 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:40.551 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.3475ms
2025-07-25 23:27:40.552 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:27:40.552 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:40.554 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:40.554 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:27:40.557 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:27:40.584 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE FALSE
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:27:40.585 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:27:40.585 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 28.2887ms
2025-07-25 23:27:40.586 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:27:40.586 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 33.8109ms
2025-07-25 23:27:45.246 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:27:45.246 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:45.247 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4437ms
2025-07-25 23:27:45.248 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 23:27:45.248 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:45.248 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:27:45.248 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:27:45.251 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:27:45.336 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:27:45.337 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:27:45.338 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 89.3131ms
2025-07-25 23:27:45.338 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:27:45.338 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 90.1751ms
2025-07-25 23:27:49.184 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - null null
2025-07-25 23:27:49.184 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.184 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - 204 null null 0.2796ms
2025-07-25 23:27:49.185 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - application/json null
2025-07-25 23:27:49.185 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.188 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:49.188 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile - 404 0 null 2.6346ms
2025-07-25 23:27:49.188 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/profile, Response status code: 404
2025-07-25 23:27:49.192 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - null null
2025-07-25 23:27:49.192 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.192 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 204 null null 0.3067ms
2025-07-25 23:27:49.193 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - application/json null
2025-07-25 23:27:49.194 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.196 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:49.196 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:27:49.196 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:27:49.199 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."CertificateUrl", s."CompletedAt", s."CourseId", s."EnrolledAt", s."ProgressPercentage", s."StudentId", s."Id1", s."ApprovedAt", s."ApprovedBy", s."Comment", s."CourseId0", s."CreatedAt0", s."Rating", s."Status0", s."StudentId0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", e."Id" AS "Id0", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId", r."Id" AS "Id1", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId" AS "CourseId0", r."CreatedAt" AS "CreatedAt0", r."Rating", r."Status" AS "Status0", r."StudentId" AS "StudentId0"
    FROM "Courses" AS c
    LEFT JOIN "Enrollments" AS e ON c."Id" = e."CourseId"
    LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
) AS s ON a0."Id" = s."InstructorId"
ORDER BY a0."Id", s."Id", s."Id0"
2025-07-25 23:27:49.200 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-07-25 23:27:49.200 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 4.1028ms
2025-07-25 23:27:49.200 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:27:49.200 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/stats - 200 null application/json; charset=utf-8 6.9145ms
2025-07-25 23:27:49.203 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - null null
2025-07-25 23:27:49.203 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.203 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 204 null null 0.3762ms
2025-07-25 23:27:49.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - application/json null
2025-07-25 23:27:49.204 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.206 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:49.206 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates - 404 0 null 2.0979ms
2025-07-25 23:27:49.206 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/certificates, Response status code: 404
2025-07-25 23:27:49.213 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - null null
2025-07-25 23:27:49.213 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.213 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 204 null null 0.2087ms
2025-07-25 23:27:49.214 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - application/json null
2025-07-25 23:27:49.214 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.216 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:49.216 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity - 404 0 null 1.7071ms
2025-07-25 23:27:49.216 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/activity, Response status code: 404
2025-07-25 23:27:49.218 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-25 23:27:49.218 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.218 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 0.2007ms
2025-07-25 23:27:49.219 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-25 23:27:49.219 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:27:49.220 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:27:49.220 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 1.6865ms
2025-07-25 23:27:49.220 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-25 23:28:18.776 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:28:18.776 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:18.776 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4023ms
2025-07-25 23:28:18.777 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:28:18.777 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:18.779 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:18.779 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:28:18.779 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:28:18.781 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE FALSE
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:28:18.781 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:28:18.781 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 1.841ms
2025-07-25 23:28:18.781 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:28:18.782 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 4.2253ms
2025-07-25 23:28:28.877 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:28:28.878 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:28.878 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5104ms
2025-07-25 23:28:28.879 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:28:28.879 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:28.879 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:28:28.880 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:28:28.882 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:28:28.969 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:28:28.970 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:28:28.970 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 90.3769ms
2025-07-25 23:28:28.970 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:28:28.970 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 91.2601ms
2025-07-25 23:28:33.882 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - null null
2025-07-25 23:28:33.882 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.882 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 204 null null 0.2637ms
2025-07-25 23:28:33.883 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - application/json null
2025-07-25 23:28:33.883 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.899 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:33.899 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 404 0 null 16.8447ms
2025-07-25 23:28:33.899 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile, Response status code: 404
2025-07-25 23:28:33.901 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - null null
2025-07-25 23:28:33.902 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.902 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 204 null null 0.2371ms
2025-07-25 23:28:33.902 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - application/json null
2025-07-25 23:28:33.903 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.904 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:33.904 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:28:33.904 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:28:33.909 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."CertificateUrl", s."CompletedAt", s."CourseId", s."EnrolledAt", s."ProgressPercentage", s."StudentId", s."Id1", s."ApprovedAt", s."ApprovedBy", s."Comment", s."CourseId0", s."CreatedAt0", s."Rating", s."Status0", s."StudentId0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", e."Id" AS "Id0", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId", r."Id" AS "Id1", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId" AS "CourseId0", r."CreatedAt" AS "CreatedAt0", r."Rating", r."Status" AS "Status0", r."StudentId" AS "StudentId0"
    FROM "Courses" AS c
    LEFT JOIN "Enrollments" AS e ON c."Id" = e."CourseId"
    LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
) AS s ON a0."Id" = s."InstructorId"
ORDER BY a0."Id", s."Id", s."Id0"
2025-07-25 23:28:33.910 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-07-25 23:28:33.910 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 5.4411ms
2025-07-25 23:28:33.910 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:28:33.910 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 200 null application/json; charset=utf-8 7.5553ms
2025-07-25 23:28:33.912 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - null null
2025-07-25 23:28:33.912 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.912 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 204 null null 0.2142ms
2025-07-25 23:28:33.913 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - application/json null
2025-07-25 23:28:33.913 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.914 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:33.914 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 404 0 null 1.6764ms
2025-07-25 23:28:33.914 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates, Response status code: 404
2025-07-25 23:28:33.916 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - null null
2025-07-25 23:28:33.916 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.916 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 204 null null 0.1819ms
2025-07-25 23:28:33.917 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - application/json null
2025-07-25 23:28:33.917 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:33.918 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:33.918 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 404 0 null 1.565ms
2025-07-25 23:28:33.918 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity, Response status code: 404
2025-07-25 23:28:53.065 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - null null
2025-07-25 23:28:53.065 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.065 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 204 null null 0.3183ms
2025-07-25 23:28:53.066 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - application/json null
2025-07-25 23:28:53.067 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.070 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:53.070 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 404 0 null 4.2711ms
2025-07-25 23:28:53.071 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile, Response status code: 404
2025-07-25 23:28:53.073 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - null null
2025-07-25 23:28:53.073 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.073 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 204 null null 0.4125ms
2025-07-25 23:28:53.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - application/json null
2025-07-25 23:28:53.076 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.077 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:53.078 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:28:53.078 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:28:53.080 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."CertificateUrl", s."CompletedAt", s."CourseId", s."EnrolledAt", s."ProgressPercentage", s."StudentId", s."Id1", s."ApprovedAt", s."ApprovedBy", s."Comment", s."CourseId0", s."CreatedAt0", s."Rating", s."Status0", s."StudentId0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", e."Id" AS "Id0", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId", r."Id" AS "Id1", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId" AS "CourseId0", r."CreatedAt" AS "CreatedAt0", r."Rating", r."Status" AS "Status0", r."StudentId" AS "StudentId0"
    FROM "Courses" AS c
    LEFT JOIN "Enrollments" AS e ON c."Id" = e."CourseId"
    LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
) AS s ON a0."Id" = s."InstructorId"
ORDER BY a0."Id", s."Id", s."Id0"
2025-07-25 23:28:53.081 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-07-25 23:28:53.081 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 3.3567ms
2025-07-25 23:28:53.081 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:28:53.082 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 200 null application/json; charset=utf-8 6.6415ms
2025-07-25 23:28:53.084 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - null null
2025-07-25 23:28:53.084 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.085 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 204 null null 0.5835ms
2025-07-25 23:28:53.086 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - application/json null
2025-07-25 23:28:53.086 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.088 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:53.088 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 404 0 null 2.0055ms
2025-07-25 23:28:53.088 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates, Response status code: 404
2025-07-25 23:28:53.098 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - null null
2025-07-25 23:28:53.098 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.098 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 204 null null 0.2195ms
2025-07-25 23:28:53.099 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - application/json null
2025-07-25 23:28:53.099 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:28:53.101 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:28:53.101 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 404 0 null 2.2256ms
2025-07-25 23:28:53.101 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity, Response status code: 404
2025-07-25 23:29:17.240 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:29:17.241 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:17.241 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.6189ms
2025-07-25 23:29:17.242 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:29:17.242 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:17.244 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:29:17.244 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:29:17.244 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:29:17.247 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE FALSE
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:29:17.247 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:29:17.247 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 2.5372ms
2025-07-25 23:29:17.247 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:29:17.247 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 4.9706ms
2025-07-25 23:29:24.858 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:29:24.858 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:24.858 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.2476ms
2025-07-25 23:29:24.859 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 23:29:24.859 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:24.859 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:29:24.859 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:29:24.863 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:29:24.946 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:29:24.947 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 86.9238ms
2025-07-25 23:29:24.947 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:29:24.947 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 87.6696ms
2025-07-25 23:29:29.692 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 60
2025-07-25 23:29:29.692 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:29.692 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:29:29.692 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:29:29.694 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:29:29.780 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:29:29.780 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 87.3215ms
2025-07-25 23:29:29.780 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:29:29.780 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 88.2927ms
2025-07-25 23:29:39.681 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:29:39.682 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:39.682 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.2514ms
2025-07-25 23:29:39.683 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 23:29:39.683 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:39.683 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:29:39.683 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:29:39.685 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:29:39.771 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:29:39.772 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:29:39.772 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 88.8968ms
2025-07-25 23:29:39.772 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:29:39.772 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 89.5556ms
2025-07-25 23:29:44.447 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - null null
2025-07-25 23:29:44.447 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.447 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - 204 null null 0.3593ms
2025-07-25 23:29:44.448 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - application/json null
2025-07-25 23:29:44.448 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:29:44.450 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile - 404 0 null 2.2982ms
2025-07-25 23:29:44.450 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/profile, Response status code: 404
2025-07-25 23:29:44.453 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - null null
2025-07-25 23:29:44.453 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.453 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 204 null null 0.2408ms
2025-07-25 23:29:44.454 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - application/json null
2025-07-25 23:29:44.454 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.455 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:29:44.456 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:29:44.456 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:29:44.459 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."CertificateUrl", s."CompletedAt", s."CourseId", s."EnrolledAt", s."ProgressPercentage", s."StudentId", s."Id1", s."ApprovedAt", s."ApprovedBy", s."Comment", s."CourseId0", s."CreatedAt0", s."Rating", s."Status0", s."StudentId0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", e."Id" AS "Id0", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId", r."Id" AS "Id1", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId" AS "CourseId0", r."CreatedAt" AS "CreatedAt0", r."Rating", r."Status" AS "Status0", r."StudentId" AS "StudentId0"
    FROM "Courses" AS c
    LEFT JOIN "Enrollments" AS e ON c."Id" = e."CourseId"
    LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
) AS s ON a0."Id" = s."InstructorId"
ORDER BY a0."Id", s."Id", s."Id0"
2025-07-25 23:29:44.460 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-07-25 23:29:44.460 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 4.4875ms
2025-07-25 23:29:44.460 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:29:44.460 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/stats - 200 null application/json; charset=utf-8 6.6004ms
2025-07-25 23:29:44.462 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - null null
2025-07-25 23:29:44.463 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.463 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 204 null null 0.2144ms
2025-07-25 23:29:44.464 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - application/json null
2025-07-25 23:29:44.464 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.465 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:29:44.466 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates - 404 0 null 2.2171ms
2025-07-25 23:29:44.466 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/certificates, Response status code: 404
2025-07-25 23:29:44.474 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - null null
2025-07-25 23:29:44.474 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.474 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 204 null null 0.229ms
2025-07-25 23:29:44.475 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - application/json null
2025-07-25 23:29:44.475 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:29:44.476 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:29:44.476 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity - 404 0 null 1.5235ms
2025-07-25 23:29:44.476 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/1de5783a-d5cb-447a-a9c8-aa821ab9c432/activity, Response status code: 404
2025-07-25 23:31:12.176 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 54
2025-07-25 23:31:12.176 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:12.176 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:31:12.178 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:12.277 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:31:12.277 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 100.6062ms
2025-07-25 23:31:12.277 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:12.277 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 101.6538ms
2025-07-25 23:31:12.307 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 93
2025-07-25 23:31:12.307 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:31:12.307 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:31:12.309 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:12.309 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:31:12.309 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 1.8942ms
2025-07-25 23:31:12.309 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:31:12.310 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 400 null application/json; charset=utf-8 2.3739ms
2025-07-25 23:31:12.329 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 54
2025-07-25 23:31:12.329 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:12.329 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:31:12.331 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:12.428 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:31:12.429 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 99.338ms
2025-07-25 23:31:12.429 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:12.429 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 99.7989ms
2025-07-25 23:31:18.238 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 54
2025-07-25 23:31:18.238 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:18.238 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:31:18.240 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:18.322 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:31:18.322 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 83.7076ms
2025-07-25 23:31:18.322 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:18.322 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 84.2638ms
2025-07-25 23:31:23.593 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 99
2025-07-25 23:31:23.594 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:31:23.594 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:31:23.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:23.676 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:31:23.677 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:23.678 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 23:31:23.680 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:31:23.681 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:31:23.682 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:31:23.682 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:31:23.683 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:23.684 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:31:23.686 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2025-07-25 23:31:23.686 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:31:23.686 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 92.0402ms
2025-07-25 23:31:23.686 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:31:23.686 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 200 null application/json; charset=utf-8 92.4375ms
2025-07-25 23:31:30.719 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 59
2025-07-25 23:31:30.720 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:30.720 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:31:30.721 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:30.820 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:31:30.821 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:31:30.821 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 101.2441ms
2025-07-25 23:31:30.821 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:30.821 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 101.7753ms
2025-07-25 23:31:30.849 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/role - application/json 21
2025-07-25 23:31:30.850 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:31:30.851 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.ChangeUserRole (CeceLearningPortal.Api)'
2025-07-25 23:31:30.854 +08:00 [INF] Route matched with {action = "ChangeUserRole", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserRole(System.String, CeceLearningPortal.Api.Controllers.ChangeRoleDto) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:31:30.859 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:31:30.861 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "Role" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
2025-07-25 23:31:30.861 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:31:30.861 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.ChangeUserRole (CeceLearningPortal.Api) in 7.2648ms
2025-07-25 23:31:30.861 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.ChangeUserRole (CeceLearningPortal.Api)'
2025-07-25 23:31:30.861 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/role - 200 null application/json; charset=utf-8 12.4479ms
2025-07-25 23:31:38.673 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:31:38.673 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:38.674 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:31:38.675 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:31:38.769 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:31:38.770 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:31:38.770 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 96.4887ms
2025-07-25 23:31:38.770 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:31:38.770 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 96.9675ms
2025-07-25 23:31:51.026 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/courses - application/json 441
2025-07-25 23:31:51.026 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Instructor|Admin)
2025-07-25 23:31:51.026 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:31:51.026 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/courses - 401 0 null 0.5279ms
2025-07-25 23:32:36.306 +08:00 [INF] Application is shutting down...
2025-07-25 23:32:44.196 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:32:44.243 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:32:44.541 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:32:44.851 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:32:44.861 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:32:44.862 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:32:44.862 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:32:44.866 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:32:44.882 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:32:44.902 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:32:44.965 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:32:44.976 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:32:44.978 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:32:44.978 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:32:45.239 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:32:45.277 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:32:45.278 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:32:45.294 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:32:45.391 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:32:45.392 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:32:45.407 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:32:45.410 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:32:45.467 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:32:45.467 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:32:45.468 +08:00 [INF] Hosting environment: Development
2025-07-25 23:32:45.468 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:32:58.166 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:32:58.205 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:32:58.236 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:32:58.248 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:32:58.295 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:32:58.571 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:32:58.596 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:32:58.609 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 357.819ms
2025-07-25 23:32:58.613 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:32:58.620 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 455.8822ms
2025-07-25 23:32:58.676 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/courses - application/json 421
2025-07-25 23:32:58.788 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:32:58.792 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.CreateCourse (CeceLearningPortal.Api)'
2025-07-25 23:32:58.796 +08:00 [INF] Route matched with {action = "CreateCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCourse(CeceLearningPortal.Api.DTOs.CreateCourseDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:32:58.918 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?', @p10='?' (DbType = Decimal), @p11='?', @p12='?' (DbType = Decimal), @p13='?', @p14='?', @p15='?', @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Category", "CreatedAt", "Description", "Discount", "Duration", "EnrollmentType", "Features", "InstructorId", "IsBestseller", "Level", "OriginalPrice", "PreviewUrl", "Price", "Status", "Thumbnail", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16)
RETURNING "Id";
2025-07-25 23:32:59.064 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:32:59.108 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-25 23:32:59.126 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-25 23:32:59.153 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.CreateCourse (CeceLearningPortal.Api) in 356.9843ms
2025-07-25 23:32:59.153 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.CreateCourse (CeceLearningPortal.Api)'
2025-07-25 23:32:59.153 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/courses - 201 null application/json; charset=utf-8 477.2072ms
2025-07-25 23:33:35.619 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:33:35.624 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:33:35.624 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:33:35.629 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:33:35.729 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:33:35.730 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:33:35.730 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 106.3868ms
2025-07-25 23:33:35.731 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:33:35.731 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 111.3614ms
2025-07-25 23:33:35.756 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:33:35.759 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:33:35.767 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:33:35.808 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:33:35.858 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:33:35.927 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:33:35.929 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 161.5958ms
2025-07-25 23:33:35.929 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:33:35.929 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 173.3294ms
2025-07-25 23:33:50.451 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/ - null null
2025-07-25 23:33:50.469 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-25 23:33:50.487 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:33:50.506 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/ - 401 0 null 54.9714ms
2025-07-25 23:33:50.525 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/users/ - application/json 172
2025-07-25 23:33:50.526 +08:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-07-25 23:33:50.526 +08:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-07-25 23:33:50.526 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/users/ - 405 0 null 0.9407ms
2025-07-25 23:33:50.546 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/ - null null
2025-07-25 23:33:50.548 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-25 23:33:50.548 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-25 23:33:50.549 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/ - 401 0 null 2.3795ms
2025-07-25 23:34:00.351 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:34:00.352 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:34:00.352 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:34:00.366 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:34:00.498 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:34:00.498 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:34:00.499 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 146.6802ms
2025-07-25 23:34:00.499 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:34:00.499 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 147.8959ms
2025-07-25 23:34:00.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - null null
2025-07-25 23:34:00.535 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:34:00.535 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-07-25 23:34:00.539 +08:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:34:00.584 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:34:00.593 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserDto'.
2025-07-25 23:34:00.601 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api) in 62.077ms
2025-07-25 23:34:00.601 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUser (CeceLearningPortal.Api)'
2025-07-25 23:34:00.602 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - 200 null application/json; charset=utf-8 68.9702ms
2025-07-25 23:34:23.905 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:34:23.907 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:23.908 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 2.9021ms
2025-07-25 23:34:23.909 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:34:23.910 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:23.912 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:34:23.912 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:34:23.916 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:34:23.938 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:34:23.949 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p9='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p12='?' (DbType = DateTime), @p15='?' (DbType = Int32), @p14='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p19='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p20='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p25='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p27='?' (DbType = Int32), @p26='?' (DbType = DateTime), @p29='?' (DbType = Int32), @p28='?' (DbType = DateTime), @p31='?' (DbType = Int32), @p30='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p35='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p37='?' (DbType = Int32), @p36='?' (DbType = DateTime), @p39='?' (DbType = Int32), @p38='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p40='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
UPDATE "RefreshTokens" SET "RevokedAt" = @p2
WHERE "Id" = @p3;
UPDATE "RefreshTokens" SET "RevokedAt" = @p4
WHERE "Id" = @p5;
UPDATE "RefreshTokens" SET "RevokedAt" = @p6
WHERE "Id" = @p7;
UPDATE "RefreshTokens" SET "RevokedAt" = @p8
WHERE "Id" = @p9;
UPDATE "RefreshTokens" SET "RevokedAt" = @p10
WHERE "Id" = @p11;
UPDATE "RefreshTokens" SET "RevokedAt" = @p12
WHERE "Id" = @p13;
UPDATE "RefreshTokens" SET "RevokedAt" = @p14
WHERE "Id" = @p15;
UPDATE "RefreshTokens" SET "RevokedAt" = @p16
WHERE "Id" = @p17;
UPDATE "RefreshTokens" SET "RevokedAt" = @p18
WHERE "Id" = @p19;
UPDATE "RefreshTokens" SET "RevokedAt" = @p20
WHERE "Id" = @p21;
UPDATE "RefreshTokens" SET "RevokedAt" = @p22
WHERE "Id" = @p23;
UPDATE "RefreshTokens" SET "RevokedAt" = @p24
WHERE "Id" = @p25;
UPDATE "RefreshTokens" SET "RevokedAt" = @p26
WHERE "Id" = @p27;
UPDATE "RefreshTokens" SET "RevokedAt" = @p28
WHERE "Id" = @p29;
UPDATE "RefreshTokens" SET "RevokedAt" = @p30
WHERE "Id" = @p31;
UPDATE "RefreshTokens" SET "RevokedAt" = @p32
WHERE "Id" = @p33;
UPDATE "RefreshTokens" SET "RevokedAt" = @p34
WHERE "Id" = @p35;
UPDATE "RefreshTokens" SET "RevokedAt" = @p36
WHERE "Id" = @p37;
UPDATE "RefreshTokens" SET "RevokedAt" = @p38
WHERE "Id" = @p39;
UPDATE "RefreshTokens" SET "RevokedAt" = @p40
WHERE "Id" = @p41;
2025-07-25 23:34:23.950 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:34:23.955 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 38.9192ms
2025-07-25 23:34:23.955 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:34:23.955 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 46.039ms
2025-07-25 23:34:28.720 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:34:28.721 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:28.721 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.5707ms
2025-07-25 23:34:28.722 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:34:28.722 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:28.723 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:34:28.723 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:34:28.726 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:34:28.811 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:34:28.812 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:34:28.813 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 89.4818ms
2025-07-25 23:34:28.813 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:34:28.813 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 90.4991ms
2025-07-25 23:34:35.611 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - null null
2025-07-25 23:34:35.612 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.612 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 204 null null 0.6526ms
2025-07-25 23:34:35.613 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - application/json null
2025-07-25 23:34:35.615 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.617 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:34:35.618 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 404 0 null 4.9159ms
2025-07-25 23:34:35.619 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile, Response status code: 404
2025-07-25 23:34:35.620 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - null null
2025-07-25 23:34:35.620 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.620 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 204 null null 0.3178ms
2025-07-25 23:34:35.621 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - application/json null
2025-07-25 23:34:35.622 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.623 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:34:35.624 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:34:35.628 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:34:35.640 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:34:35.665 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."CertificateUrl", s."CompletedAt", s."CourseId", s."EnrolledAt", s."ProgressPercentage", s."StudentId", s."Id1", s."ApprovedAt", s."ApprovedBy", s."Comment", s."CourseId0", s."CreatedAt0", s."Rating", s."Status0", s."StudentId0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", e."Id" AS "Id0", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId", r."Id" AS "Id1", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId" AS "CourseId0", r."CreatedAt" AS "CreatedAt0", r."Rating", r."Status" AS "Status0", r."StudentId" AS "StudentId0"
    FROM "Courses" AS c
    LEFT JOIN "Enrollments" AS e ON c."Id" = e."CourseId"
    LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
) AS s ON a0."Id" = s."InstructorId"
ORDER BY a0."Id", s."Id", s."Id0"
2025-07-25 23:34:35.676 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-07-25 23:34:35.681 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 53.3897ms
2025-07-25 23:34:35.682 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:34:35.682 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 200 null application/json; charset=utf-8 60.1515ms
2025-07-25 23:34:35.683 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - null null
2025-07-25 23:34:35.683 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.684 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 204 null null 0.2894ms
2025-07-25 23:34:35.684 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - application/json null
2025-07-25 23:34:35.684 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.686 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:34:35.686 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 404 0 null 1.8651ms
2025-07-25 23:34:35.686 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates, Response status code: 404
2025-07-25 23:34:35.688 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - null null
2025-07-25 23:34:35.688 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.688 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 204 null null 0.2019ms
2025-07-25 23:34:35.689 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - application/json null
2025-07-25 23:34:35.689 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.690 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:34:35.690 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 404 0 null 1.6832ms
2025-07-25 23:34:35.690 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity, Response status code: 404
2025-07-25 23:34:35.692 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - null null
2025-07-25 23:34:35.692 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.692 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - 204 null null 0.204ms
2025-07-25 23:34:35.693 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - application/json null
2025-07-25 23:34:35.693 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:34:35.694 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:34:35.694 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - 404 0 null 1.697ms
2025-07-25 23:34:35.694 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats, Response status code: 404
2025-07-25 23:35:06.987 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:35:06.987 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:35:06.987 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:35:06.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:35:07.082 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:35:07.113 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:35:07.113 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 125.4071ms
2025-07-25 23:35:07.113 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:35:07.113 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 126.1044ms
2025-07-25 23:35:07.140 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/courses - application/json 464
2025-07-25 23:35:07.141 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:35:07.141 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.CreateCourse (CeceLearningPortal.Api)'
2025-07-25 23:35:07.142 +08:00 [INF] Route matched with {action = "CreateCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCourse(CeceLearningPortal.Api.DTOs.CreateCourseDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:35:07.149 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?', @p10='?' (DbType = Decimal), @p11='?', @p12='?' (DbType = Decimal), @p13='?', @p14='?', @p15='?', @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Category", "CreatedAt", "Description", "Discount", "Duration", "EnrollmentType", "Features", "InstructorId", "IsBestseller", "Level", "OriginalPrice", "PreviewUrl", "Price", "Status", "Thumbnail", "Title", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16)
RETURNING "Id";
2025-07-25 23:35:07.151 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-25 23:35:07.152 +08:00 [INF] Executing CreatedAtActionResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-25 23:35:07.152 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.CreateCourse (CeceLearningPortal.Api) in 10.7034ms
2025-07-25 23:35:07.152 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.CreateCourse (CeceLearningPortal.Api)'
2025-07-25 23:35:07.153 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/courses - 201 null application/json; charset=utf-8 12.8435ms
2025-07-25 23:38:24.200 +08:00 [INF] Application is shutting down...
osoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 173
2025-07-25 23:36:21.439 +08:00 [FTL] Application start-up failed
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 173
2025-07-25 23:40:21.296 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:40:21.349 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:40:21.356 +08:00 [WRN] The property 'SubscriptionPlan.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:40:21.641 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:40:21.957 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:40:21.965 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:40:21.966 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:40:21.967 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:40:21.971 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:40:21.985 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:40:21.998 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:40:22.072 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:40:22.083 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:40:22.086 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:40:22.088 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:40:22.372 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:40:22.406 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:40:22.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:40:22.424 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:22.508 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:22.509 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:22.520 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "SubscriptionPlans" AS s)
2025-07-25 23:40:22.655 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Decimal), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Decimal), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?' (DbType = Boolean), @p15='?' (DbType = Int32), @p16='?' (DbType = Decimal), @p17='?', @p18='?' (DbType = DateTime), @p19='?' (DbType = Decimal), @p20='?' (DbType = DateTime), @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = Int32), @p26='?' (DbType = Decimal), @p27='?', @p28='?' (DbType = DateTime), @p29='?' (DbType = Decimal), @p30='?' (DbType = DateTime), @p31='?', @p32='?', @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (DbType = Int32), @p36='?' (DbType = Decimal), @p37='?', @p38='?' (DbType = DateTime), @p39='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubscriptionPlans" ("CreatedAt", "Description", "Features", "HasUnlimitedAccess", "IsActive", "MaxCourseAccess", "MonthlyPrice", "Name", "UpdatedAt", "YearlyPrice")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
INSERT INTO "SubscriptionPlans" ("CreatedAt", "Description", "Features", "HasUnlimitedAccess", "IsActive", "MaxCourseAccess", "MonthlyPrice", "Name", "UpdatedAt", "YearlyPrice")
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "Id";
INSERT INTO "SubscriptionPlans" ("CreatedAt", "Description", "Features", "HasUnlimitedAccess", "IsActive", "MaxCourseAccess", "MonthlyPrice", "Name", "UpdatedAt", "YearlyPrice")
VALUES (@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "SubscriptionPlans" ("CreatedAt", "Description", "Features", "HasUnlimitedAccess", "IsActive", "MaxCourseAccess", "MonthlyPrice", "Name", "UpdatedAt", "YearlyPrice")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39)
RETURNING "Id";
2025-07-25 23:40:22.677 +08:00 [INF] Created subscription plans
2025-07-25 23:40:22.682 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:40:22.686 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:22.771 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:40:22.775 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:22.788 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 23:40:22.797 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:40:22.820 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:40:22.823 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:40:22.833 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:40:22.835 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:22.856 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:40:22.867 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."Title" = 'Computer Vision Fundamentals'
LIMIT 1
2025-07-25 23:40:22.972 +08:00 [INF] Created direct buyer: Alex Smith
2025-07-25 23:40:22.973 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:23.047 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:40:23.048 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:23.097 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?', @p24='?', @p25='?' (DbType = DateTime), @p26='?' (DbType = Int32), @p27='?' (DbType = DateTime), @p28='?' (DbType = Double), @p29='?', @p30='?' (DbType = Decimal), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?', @p34='?', @p35='?', @p36='?' (DbType = DateTime), @p37='?', @p38='?' (DbType = Int32), @p39='?', @p40='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
INSERT INTO "Enrollments" ("CertificateUrl", "CompletedAt", "CourseId", "EnrolledAt", "ProgressPercentage", "StudentId")
VALUES (@p24, @p25, @p26, @p27, @p28, @p29)
RETURNING "Id";
INSERT INTO "Payments" ("Amount", "CourseId", "CreatedAt", "Currency", "PaymentIntentId", "PaymentMethod", "ProcessedAt", "Status", "SubscriptionId", "TransactionId", "UserId")
VALUES (@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40)
RETURNING "Id";
2025-07-25 23:40:23.105 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:40:23.106 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:40:23.106 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:40:23.107 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:40:23.108 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:23.110 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:40:23.118 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."CreatedAt", s."Description", s."Features", s."HasUnlimitedAccess", s."IsActive", s."MaxCourseAccess", s."MonthlyPrice", s."Name", s."UpdatedAt", s."YearlyPrice"
FROM "SubscriptionPlans" AS s
WHERE s."Name" = 'Premium'
LIMIT 1
2025-07-25 23:40:23.144 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."Title" = 'Computer Vision Fundamentals'
LIMIT 1
2025-07-25 23:40:23.144 +08:00 [INF] Created premium subscriber: Sarah Wilson
2025-07-25 23:40:23.159 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?', @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?', @p14='?' (DbType = Int32), @p15='?', @p16='?', @p17='?', @p18='?' (DbType = DateTime), @p19='?' (DbType = DateTime), @p20='?' (DbType = DateTime), @p21='?', @p22='?' (DbType = Decimal), @p23='?' (DbType = DateTime), @p24='?', @p25='?', @p26='?' (DbType = Int32), @p27='?' (DbType = DateTime), @p28='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Enrollments" ("CertificateUrl", "CompletedAt", "CourseId", "EnrolledAt", "ProgressPercentage", "StudentId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
INSERT INTO "Payments" ("Amount", "CourseId", "CreatedAt", "Currency", "PaymentIntentId", "PaymentMethod", "ProcessedAt", "Status", "SubscriptionId", "TransactionId", "UserId")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16)
RETURNING "Id";
INSERT INTO "Subscriptions" ("BillingCycle", "CreatedAt", "EndDate", "NextBillingDate", "PlanName", "Price", "StartDate", "Status", "StripeSubscriptionId", "SubscriptionPlanId", "UpdatedAt", "UserId")
VALUES (@p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28)
RETURNING "Id";
2025-07-25 23:40:23.161 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:40:23.212 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:40:23.212 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:40:23.212 +08:00 [INF] Hosting environment: Development
2025-07-25 23:40:23.213 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:40:46.854 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:40:46.896 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:40:46.928 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:40:46.944 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:40:47.077 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:40:47.128 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:40:47.182 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:40:47.222 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 274.6762ms
2025-07-25 23:40:47.227 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:40:47.235 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 382.2288ms
2025-07-25 23:40:47.249 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 59
2025-07-25 23:40:47.254 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:40:47.258 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:40:47.328 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:47.486 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:40:47.490 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:40:47.492 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 234.795ms
2025-07-25 23:40:47.493 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:40:47.493 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 244.2773ms
2025-07-25 23:40:47.516 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-25 23:40:47.520 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:40:47.520 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:40:47.524 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:47.602 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:40:47.603 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:40:47.603 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 83.233ms
2025-07-25 23:40:47.604 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:40:47.604 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 87.5074ms
2025-07-25 23:40:47.625 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:40:47.626 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:40:47.626 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:40:47.631 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:40:47.633 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:40:47.633 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 6.8527ms
2025-07-25 23:40:47.633 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:40:47.633 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 8.0863ms
2025-07-25 23:40:47.649 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:40:47.649 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:40:47.649 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:40:47.662 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:40:47.737 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:40:47.738 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:40:47.738 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 89.0562ms
2025-07-25 23:40:47.738 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:40:47.739 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 89.83ms
2025-07-25 23:40:47.768 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/revenue - null null
2025-07-25 23:40:47.826 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:40:47.830 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-25 23:40:47.833 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:40:47.847 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:40:47.855 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0
2025-07-25 23:40:47.879 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."StudentId" = p."UserId" AND e."CourseId" = @__courseId_0) AND p."Status" = 'Completed' AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = p."UserId" AND s."Status" = 'Active' AND s."StartDate" <= p."CreatedAt")
2025-07-25 23:40:47.896 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BillingCycle", s."CreatedAt", s."EndDate", s."NextBillingDate", s."PlanName", s."Price", s."StartDate", s."Status", s."StripeSubscriptionId", s."SubscriptionPlanId", s."UpdatedAt", s."UserId", s0."Id", s0."CreatedAt", s0."Description", s0."Features", s0."HasUnlimitedAccess", s0."IsActive", s0."MaxCourseAccess", s0."MonthlyPrice", s0."Name", s0."UpdatedAt", s0."YearlyPrice"
FROM "Subscriptions" AS s
INNER JOIN "SubscriptionPlans" AS s0 ON s."SubscriptionPlanId" = s0."Id"
WHERE s."Status" = 'Active' AND EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = s."UserId" AND e."EnrolledAt" >= s."StartDate")
2025-07-25 23:40:47.906 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-25 23:40:47.913 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-25 23:40:47.916 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."StudentId" = p."UserId" AND e."CourseId" = @__courseId_0) AND p."Status" = 'Completed' AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = p."UserId" AND s."Status" = 'Active' AND s."StartDate" <= p."CreatedAt")
2025-07-25 23:40:47.917 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BillingCycle", s."CreatedAt", s."EndDate", s."NextBillingDate", s."PlanName", s."Price", s."StartDate", s."Status", s."StripeSubscriptionId", s."SubscriptionPlanId", s."UpdatedAt", s."UserId", s0."Id", s0."CreatedAt", s0."Description", s0."Features", s0."HasUnlimitedAccess", s0."IsActive", s0."MaxCourseAccess", s0."MonthlyPrice", s0."Name", s0."UpdatedAt", s0."YearlyPrice"
FROM "Subscriptions" AS s
INNER JOIN "SubscriptionPlans" AS s0 ON s."SubscriptionPlanId" = s0."Id"
WHERE s."Status" = 'Active' AND EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = s."UserId" AND e."EnrolledAt" >= s."StartDate")
2025-07-25 23:40:47.926 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
WHERE c."Status" = 'Active'
2025-07-25 23:40:47.927 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-25 23:40:47.928 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-25 23:40:47.929 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-07-25 23:40:47.933 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetInstructorRevenue (CeceLearningPortal.Api) in 99.2559ms
2025-07-25 23:40:47.933 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-25 23:40:47.933 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/revenue - 200 null application/json; charset=utf-8 165.4537ms
2025-07-25 23:41:03.550 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:41:03.551 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:41:03.551 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:41:03.554 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:41:03.648 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:41:03.650 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:41:03.650 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 99.1744ms
2025-07-25 23:41:03.650 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:41:03.651 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 100.3661ms
2025-07-25 23:41:03.684 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/revenue - null null
2025-07-25 23:41:03.688 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:41:03.690 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-25 23:41:03.690 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:41:03.693 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:41:03.695 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0
2025-07-25 23:41:03.697 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."StudentId" = p."UserId" AND e."CourseId" = @__courseId_0) AND p."Status" = 'Completed' AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = p."UserId" AND s."Status" = 'Active' AND s."StartDate" <= p."CreatedAt")
2025-07-25 23:41:03.698 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BillingCycle", s."CreatedAt", s."EndDate", s."NextBillingDate", s."PlanName", s."Price", s."StartDate", s."Status", s."StripeSubscriptionId", s."SubscriptionPlanId", s."UpdatedAt", s."UserId", s0."Id", s0."CreatedAt", s0."Description", s0."Features", s0."HasUnlimitedAccess", s0."IsActive", s0."MaxCourseAccess", s0."MonthlyPrice", s0."Name", s0."UpdatedAt", s0."YearlyPrice"
FROM "Subscriptions" AS s
INNER JOIN "SubscriptionPlans" AS s0 ON s."SubscriptionPlanId" = s0."Id"
WHERE s."Status" = 'Active' AND EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = s."UserId" AND e."EnrolledAt" >= s."StartDate")
2025-07-25 23:41:03.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-25 23:41:03.701 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-25 23:41:03.702 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."StudentId" = p."UserId" AND e."CourseId" = @__courseId_0) AND p."Status" = 'Completed' AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = p."UserId" AND s."Status" = 'Active' AND s."StartDate" <= p."CreatedAt")
2025-07-25 23:41:03.704 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BillingCycle", s."CreatedAt", s."EndDate", s."NextBillingDate", s."PlanName", s."Price", s."StartDate", s."Status", s."StripeSubscriptionId", s."SubscriptionPlanId", s."UpdatedAt", s."UserId", s0."Id", s0."CreatedAt", s0."Description", s0."Features", s0."HasUnlimitedAccess", s0."IsActive", s0."MaxCourseAccess", s0."MonthlyPrice", s0."Name", s0."UpdatedAt", s0."YearlyPrice"
FROM "Subscriptions" AS s
INNER JOIN "SubscriptionPlans" AS s0 ON s."SubscriptionPlanId" = s0."Id"
WHERE s."Status" = 'Active' AND EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = s."UserId" AND e."EnrolledAt" >= s."StartDate")
2025-07-25 23:41:03.705 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
WHERE c."Status" = 'Active'
2025-07-25 23:41:03.706 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-25 23:41:03.708 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-25 23:41:03.708 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-07-25 23:41:03.708 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetInstructorRevenue (CeceLearningPortal.Api) in 17.8122ms
2025-07-25 23:41:03.708 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-25 23:41:03.709 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/revenue - 200 null application/json; charset=utf-8 24.5566ms
2025-07-25 23:42:31.022 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:42:31.082 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:42:31.091 +08:00 [WRN] The property 'SubscriptionPlan.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:42:31.474 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:31.819 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:42:31.827 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:42:31.828 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:42:31.828 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:31.832 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:42:31.877 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:42:31.897 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:31.979 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:42:31.992 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:42:31.995 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:31.995 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:42:32.344 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:42:32.384 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:42:32.385 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:42:32.401 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:32.510 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:32.516 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:32.532 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "SubscriptionPlans" AS s)
2025-07-25 23:42:32.540 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:42:32.543 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:32.544 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:32.595 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:42:32.669 +08:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-25 23:42:32.684 +08:00 [FTL] Application start-up failed
System.IO.IOException: Failed to bind to address http://127.0.0.1:5295: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Program.cs:line 208
2025-07-25 23:42:45.903 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:42:45.948 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:42:45.954 +08:00 [WRN] The property 'SubscriptionPlan.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:42:46.230 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:46.521 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:42:46.530 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:42:46.530 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:42:46.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:46.534 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:42:46.548 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:42:46.566 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:46.623 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:42:46.632 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:42:46.633 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:42:46.634 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:42:46.890 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:42:46.923 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:42:46.924 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:42:46.938 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:47.023 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:47.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:47.035 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "SubscriptionPlans" AS s)
2025-07-25 23:42:47.042 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:42:47.046 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:47.047 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:47.089 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:42:47.144 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:42:47.144 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:42:47.144 +08:00 [INF] Hosting environment: Development
2025-07-25 23:42:47.145 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:42:50.175 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/health - null null
2025-07-25 23:42:50.213 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:42:50.243 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/health - 404 0 null 70.0568ms
2025-07-25 23:42:50.249 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/health, Response status code: 404
2025-07-25 23:42:54.456 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 62
2025-07-25 23:42:54.461 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:42:54.477 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:42:54.527 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:54.613 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:42:54.621 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 140.6949ms
2025-07-25 23:42:54.621 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:42:54.626 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 170.8335ms
2025-07-25 23:42:59.529 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 62
2025-07-25 23:42:59.534 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:42:59.534 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:42:59.596 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:42:59.688 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:42:59.688 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 154.1346ms
2025-07-25 23:42:59.689 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:42:59.689 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 159.4443ms
2025-07-25 23:43:05.122 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 57
2025-07-25 23:43:05.122 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:43:05.122 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:43:05.138 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:43:05.228 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:43:05.229 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 106.1485ms
2025-07-25 23:43:05.229 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:43:05.229 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 106.9619ms
2025-07-25 23:43:11.848 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/register - application/json 81
2025-07-25 23:43:11.848 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:43:11.852 +08:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(CeceLearningPortal.Api.DTOs.RegisterDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:43:11.860 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:43:11.860 +08:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:43:11.861 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api) in 8.199ms
2025-07-25 23:43:11.861 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Register (CeceLearningPortal.Api)'
2025-07-25 23:43:11.861 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/register - 400 null application/json; charset=utf-8 13.1828ms
2025-07-25 23:43:15.730 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - null null
2025-07-25 23:43:15.731 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:43:15.739 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:43:15.858 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:43:15.905 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:43:16.037 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:43:16.065 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 325.4768ms
2025-07-25 23:43:16.065 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:43:16.065 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 334.8594ms
2025-07-25 23:43:21.105 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - null null
2025-07-25 23:43:21.106 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - 404 0 null 0.4322ms
2025-07-25 23:43:21.106 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/revenue/instructor/9a460b27-0204-4b6e-a1f4-79ef838d0b5f, Response status code: 404
2025-07-25 23:44:01.973 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:44:02.039 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:44:02.049 +08:00 [WRN] The property 'SubscriptionPlan.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:44:02.341 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:44:02.650 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:44:02.659 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:44:02.660 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:44:02.660 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:44:02.664 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:44:02.680 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:44:02.699 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:44:02.766 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:44:02.776 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:44:02.778 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:44:02.778 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:44:03.082 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:44:03.122 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:44:03.123 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:44:03.139 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:44:03.235 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:44:03.236 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:44:03.250 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "SubscriptionPlans" AS s)
2025-07-25 23:44:03.257 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:44:03.260 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:44:03.261 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:44:03.306 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:44:03.359 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:44:03.359 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:44:03.359 +08:00 [INF] Hosting environment: Development
2025-07-25 23:44:03.359 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:44:04.993 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - null null
2025-07-25 23:44:05.031 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:44:05.059 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-25 23:44:05.071 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-07-25 23:44:05.120 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-25 23:44:05.134 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0
2025-07-25 23:44:05.244 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."StudentId" = p."UserId" AND e."CourseId" = @__courseId_0) AND p."Status" = 'Completed' AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = p."UserId" AND s."Status" = 'Active' AND s."StartDate" <= p."CreatedAt")
2025-07-25 23:44:05.303 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BillingCycle", s."CreatedAt", s."EndDate", s."NextBillingDate", s."PlanName", s."Price", s."StartDate", s."Status", s."StripeSubscriptionId", s."SubscriptionPlanId", s."UpdatedAt", s."UserId", s0."Id", s0."CreatedAt", s0."Description", s0."Features", s0."HasUnlimitedAccess", s0."IsActive", s0."MaxCourseAccess", s0."MonthlyPrice", s0."Name", s0."UpdatedAt", s0."YearlyPrice"
FROM "Subscriptions" AS s
INNER JOIN "SubscriptionPlans" AS s0 ON s."SubscriptionPlanId" = s0."Id"
WHERE s."Status" = 'Active' AND EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = s."UserId" AND e."EnrolledAt" >= s."StartDate")
2025-07-25 23:44:05.313 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-25 23:44:05.319 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-25 23:44:05.322 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."StudentId" = p."UserId" AND e."CourseId" = @__courseId_0) AND p."Status" = 'Completed' AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = p."UserId" AND s."Status" = 'Active' AND s."StartDate" <= p."CreatedAt")
2025-07-25 23:44:05.323 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BillingCycle", s."CreatedAt", s."EndDate", s."NextBillingDate", s."PlanName", s."Price", s."StartDate", s."Status", s."StripeSubscriptionId", s."SubscriptionPlanId", s."UpdatedAt", s."UserId", s0."Id", s0."CreatedAt", s0."Description", s0."Features", s0."HasUnlimitedAccess", s0."IsActive", s0."MaxCourseAccess", s0."MonthlyPrice", s0."Name", s0."UpdatedAt", s0."YearlyPrice"
FROM "Subscriptions" AS s
INNER JOIN "SubscriptionPlans" AS s0 ON s."SubscriptionPlanId" = s0."Id"
WHERE s."Status" = 'Active' AND EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = s."UserId" AND e."EnrolledAt" >= s."StartDate")
2025-07-25 23:44:05.373 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
WHERE c."Status" = 'Active'
2025-07-25 23:44:05.375 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-25 23:44:05.376 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-25 23:44:05.381 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-07-25 23:44:05.405 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 329.6684ms
2025-07-25 23:44:05.409 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-25 23:44:05.416 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/9a460b27-0204-4b6e-a1f4-79ef838d0b5f - 200 null application/json; charset=utf-8 424.5239ms
2025-07-25 23:44:11.189 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/revenue/course/5 - null null
2025-07-25 23:44:11.196 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetCourseSubscriptionRevenue (CeceLearningPortal.Api)'
2025-07-25 23:44:11.202 +08:00 [INF] Route matched with {action = "GetCourseSubscriptionRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseSubscriptionRevenue(Int32) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-07-25 23:44:11.260 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."BillingCycle", s."CreatedAt", s."EndDate", s."NextBillingDate", s."PlanName", s."Price", s."StartDate", s."Status", s."StripeSubscriptionId", s."SubscriptionPlanId", s."UpdatedAt", s."UserId", s0."Id", s0."CreatedAt", s0."Description", s0."Features", s0."HasUnlimitedAccess", s0."IsActive", s0."MaxCourseAccess", s0."MonthlyPrice", s0."Name", s0."UpdatedAt", s0."YearlyPrice"
FROM "Subscriptions" AS s
INNER JOIN "SubscriptionPlans" AS s0 ON s."SubscriptionPlanId" = s0."Id"
WHERE s."Status" = 'Active' AND EXISTS (
    SELECT 1
    FROM "Enrollments" AS e
    WHERE e."CourseId" = @__courseId_0 AND e."StudentId" = s."UserId" AND e."EnrolledAt" >= s."StartDate")
2025-07-25 23:44:11.261 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
WHERE c."Status" = 'Active'
2025-07-25 23:44:11.262 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:44:11.267 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetCourseSubscriptionRevenue (CeceLearningPortal.Api) in 65.366ms
2025-07-25 23:44:11.267 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetCourseSubscriptionRevenue (CeceLearningPortal.Api)'
2025-07-25 23:44:11.268 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/revenue/course/5 - 200 null application/json; charset=utf-8 78.3586ms
2025-07-25 23:44:50.903 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - null null
2025-07-25 23:44:50.906 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:50.908 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 204 null null 5.4338ms
2025-07-25 23:44:50.911 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - application/json null
2025-07-25 23:44:50.912 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:50.980 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:44:50.981 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile - 404 0 null 69.9033ms
2025-07-25 23:44:50.981 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/profile, Response status code: 404
2025-07-25 23:44:50.983 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - null null
2025-07-25 23:44:50.983 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:50.983 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 204 null null 0.3872ms
2025-07-25 23:44:50.984 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - application/json null
2025-07-25 23:44:50.984 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:50.987 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:44:50.991 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:44:50.994 +08:00 [INF] Route matched with {action = "GetUserStats", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserStats(System.String) on controller CeceLearningPortal.Api.Controllers.UsersController (CeceLearningPortal.Api).
2025-07-25 23:44:51.038 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:44:51.063 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."CertificateUrl", s."CompletedAt", s."CourseId", s."EnrolledAt", s."ProgressPercentage", s."StudentId", s."Id1", s."ApprovedAt", s."ApprovedBy", s."Comment", s."CourseId0", s."CreatedAt0", s."Rating", s."Status0", s."StudentId0"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", e."Id" AS "Id0", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId", r."Id" AS "Id1", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId" AS "CourseId0", r."CreatedAt" AS "CreatedAt0", r."Rating", r."Status" AS "Status0", r."StudentId" AS "StudentId0"
    FROM "Courses" AS c
    LEFT JOIN "Enrollments" AS e ON c."Id" = e."CourseId"
    LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
) AS s ON a0."Id" = s."InstructorId"
ORDER BY a0."Id", s."Id", s."Id0"
2025-07-25 23:44:51.092 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.UserStatsDto'.
2025-07-25 23:44:51.099 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api) in 104.5055ms
2025-07-25 23:44:51.099 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.UsersController.GetUserStats (CeceLearningPortal.Api)'
2025-07-25 23:44:51.099 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/stats - 200 null application/json; charset=utf-8 115.2789ms
2025-07-25 23:44:51.101 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - null null
2025-07-25 23:44:51.101 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:51.101 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 204 null null 0.3313ms
2025-07-25 23:44:51.102 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - application/json null
2025-07-25 23:44:51.102 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:51.104 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:44:51.104 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates - 404 0 null 2.2347ms
2025-07-25 23:44:51.104 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/certificates, Response status code: 404
2025-07-25 23:44:51.106 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - null null
2025-07-25 23:44:51.106 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:51.106 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 204 null null 0.2763ms
2025-07-25 23:44:51.107 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - application/json null
2025-07-25 23:44:51.107 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:51.109 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:44:51.109 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity - 404 0 null 2.2702ms
2025-07-25 23:44:51.109 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/activity, Response status code: 404
2025-07-25 23:44:51.111 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - null null
2025-07-25 23:44:51.111 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:51.112 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - 204 null null 0.3116ms
2025-07-25 23:44:51.112 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - application/json null
2025-07-25 23:44:51.113 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:51.114 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:44:51.115 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats - 404 0 null 2.3722ms
2025-07-25 23:44:51.115 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/9a460b27-0204-4b6e-a1f4-79ef838d0b5f/instructor-stats, Response status code: 404
2025-07-25 23:44:55.165 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:44:55.165 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:55.165 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.63ms
2025-07-25 23:44:55.167 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:44:55.169 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:55.171 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:44:55.173 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:44:55.176 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:44:55.202 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:44:55.268 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p9='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p12='?' (DbType = DateTime), @p15='?' (DbType = Int32), @p14='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p19='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p20='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p22='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
UPDATE "RefreshTokens" SET "RevokedAt" = @p2
WHERE "Id" = @p3;
UPDATE "RefreshTokens" SET "RevokedAt" = @p4
WHERE "Id" = @p5;
UPDATE "RefreshTokens" SET "RevokedAt" = @p6
WHERE "Id" = @p7;
UPDATE "RefreshTokens" SET "RevokedAt" = @p8
WHERE "Id" = @p9;
UPDATE "RefreshTokens" SET "RevokedAt" = @p10
WHERE "Id" = @p11;
UPDATE "RefreshTokens" SET "RevokedAt" = @p12
WHERE "Id" = @p13;
UPDATE "RefreshTokens" SET "RevokedAt" = @p14
WHERE "Id" = @p15;
UPDATE "RefreshTokens" SET "RevokedAt" = @p16
WHERE "Id" = @p17;
UPDATE "RefreshTokens" SET "RevokedAt" = @p18
WHERE "Id" = @p19;
UPDATE "RefreshTokens" SET "RevokedAt" = @p20
WHERE "Id" = @p21;
UPDATE "RefreshTokens" SET "RevokedAt" = @p22
WHERE "Id" = @p23;
2025-07-25 23:44:55.279 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:44:55.280 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 103.7539ms
2025-07-25 23:44:55.280 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:44:55.280 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 113.9402ms
2025-07-25 23:44:59.516 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:44:59.518 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:59.518 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.8125ms
2025-07-25 23:44:59.520 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:44:59.520 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:44:59.520 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:44:59.525 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:44:59.545 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:44:59.678 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:44:59.692 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:44:59.697 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 171.9302ms
2025-07-25 23:44:59.697 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:44:59.697 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 177.7282ms
2025-07-25 23:45:09.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:45:09.114 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:45:09.114 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4737ms
2025-07-25 23:45:09.115 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:45:09.116 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:45:09.118 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:45:09.119 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:45:09.120 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:45:09.135 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:45:09.138 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
2025-07-25 23:45:09.139 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:45:09.139 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 19.3221ms
2025-07-25 23:45:09.139 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:45:09.139 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 23.7962ms
2025-07-25 23:45:57.394 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:45:57.447 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:45:57.455 +08:00 [WRN] The property 'SubscriptionPlan.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:45:57.761 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:45:58.073 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:45:58.081 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:45:58.082 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:45:58.082 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:45:58.086 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:45:58.102 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:45:58.123 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:45:58.193 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:45:58.204 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:45:58.206 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:45:58.206 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:45:58.485 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:45:58.517 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:45:58.518 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:45:58.532 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:45:58.702 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "AspNetUsers"
WHERE "Id" = @p0 AND "ConcurrencyStamp" = @p1;
2025-07-25 23:45:58.712 +08:00 [INF] Deleted existing user: admin@example.com
2025-07-25 23:45:58.797 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:45:58.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:45:58.824 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = DateTime), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (DbType = Boolean), @p17='?', @p18='?' (DbType = DateTime), @p19='?', @p20='?', @p21='?', @p22='?' (DbType = Boolean), @p23='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "Avatar", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FullName", "LastLoginAt", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "NotificationPreferences", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "Status", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-07-25 23:45:58.833 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:45:58.852 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-07-25 23:45:58.855 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-25 23:45:58.864 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:45:58.865 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:45:58.875 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p25='?', @p2='?' (DbType = Int32), @p3='?', @p4='?', @p26='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?' (DbType = Boolean), @p18='?', @p19='?' (DbType = DateTime), @p20='?', @p21='?', @p22='?', @p23='?' (DbType = Boolean), @p24='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "Avatar" = @p3, "ConcurrencyStamp" = @p4, "CreatedAt" = @p5, "Email" = @p6, "EmailConfirmed" = @p7, "FullName" = @p8, "LastLoginAt" = @p9, "LockoutEnabled" = @p10, "LockoutEnd" = @p11, "NormalizedEmail" = @p12, "NormalizedUserName" = @p13, "NotificationPreferences" = @p14, "PasswordHash" = @p15, "PhoneNumber" = @p16, "PhoneNumberConfirmed" = @p17, "RefreshToken" = @p18, "RefreshTokenExpiryTime" = @p19, "Role" = @p20, "SecurityStamp" = @p21, "Status" = @p22, "TwoFactorEnabled" = @p23, "UserName" = @p24
WHERE "Id" = @p25 AND "ConcurrencyStamp" = @p26;
2025-07-25 23:45:58.876 +08:00 [INF] Created admin user: admin@example.com with password: Admin123!
2025-07-25 23:45:58.877 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:45:58.887 +08:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "AspNetUsers"
WHERE "Id" = @p0 AND "ConcurrencyStamp" = @p1;
2025-07-25 23:45:58.906 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'CeceLearningPortal.Api.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: update or delete on table "AspNetUsers" violates foreign key constraint "FK_Courses_AspNetUsers_InstructorId" on table "Courses"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: update or delete on table "AspNetUsers" violates foreign key constraint "FK_Courses_AspNetUsers_InstructorId" on table "Courses"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Courses
    ConstraintName: FK_Courses_AspNetUsers_InstructorId
    File: ri_triggers.c
    Line: 2624
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: update or delete on table "AspNetUsers" violates foreign key constraint "FK_Courses_AspNetUsers_InstructorId" on table "Courses"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: update or delete on table "AspNetUsers" violates foreign key constraint "FK_Courses_AspNetUsers_InstructorId" on table "Courses"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Courses
    ConstraintName: FK_Courses_AspNetUsers_InstructorId
    File: ri_triggers.c
    Line: 2624
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-25 23:45:58.909 +08:00 [ERR] An error occurred while seeding data
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: update or delete on table "AspNetUsers" violates foreign key constraint "FK_Courses_AspNetUsers_InstructorId" on table "Courses"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: update or delete on table "AspNetUsers" violates foreign key constraint "FK_Courses_AspNetUsers_InstructorId" on table "Courses"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Courses
    ConstraintName: FK_Courses_AspNetUsers_InstructorId
    File: ri_triggers.c
    Line: 2624
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)
   at CeceLearningPortal.Api.Services.DataSeederService.DeleteAndRecreateUserAsync(String email, String fullName, UserRole role, String password, String roleName) in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Services/DataSeederService.cs:line 85
   at CeceLearningPortal.Api.Services.DataSeederService.SeedUsersAsync() in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Services/DataSeederService.cs:line 75
   at CeceLearningPortal.Api.Services.DataSeederService.SeedDataAsync() in /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api/Services/DataSeederService.cs:line 38
2025-07-25 23:45:58.973 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:45:58.973 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:45:58.973 +08:00 [INF] Hosting environment: Development
2025-07-25 23:45:58.973 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:46:04.197 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 56
2025-07-25 23:46:04.241 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:46:04.296 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:46:04.311 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:46:04.339 +08:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-25 23:46:04.363 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 47.8532ms
2025-07-25 23:46:04.367 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:46:04.369 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 400 null application/problem+json; charset=utf-8 175.7736ms
2025-07-25 23:46:09.444 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 54
2025-07-25 23:46:09.451 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:46:09.451 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:46:09.483 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:09.563 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:46:09.567 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 115.6962ms
2025-07-25 23:46:09.567 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:46:09.571 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 127.2869ms
2025-07-25 23:46:54.426 +08:00 [WRN] The property 'ApplicationUser.NotificationPreferences' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:46:54.472 +08:00 [WRN] The property 'Course.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:46:54.478 +08:00 [WRN] The property 'SubscriptionPlan.Features' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2025-07-25 23:46:54.760 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:46:55.061 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:46:55.069 +08:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-25 23:46:55.070 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:46:55.071 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:46:55.075 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:46:55.090 +08:00 [INF] User profile is available. Using '/Users/sherwinalegre/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-25 23:46:55.110 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:46:55.176 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-25 23:46:55.187 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-07-25 23:46:55.190 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-25 23:46:55.190 +08:00 [INF] No migrations were applied. The database is already up to date.
2025-07-25 23:46:55.503 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:46:55.541 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:46:55.542 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-25 23:46:55.557 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:55.760 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:46:55.764 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:55.846 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@p23='?', @p0='?' (DbType = Int32), @p1='?', @p2='?', @p24='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Boolean), @p16='?', @p17='?' (DbType = DateTime), @p18='?', @p19='?', @p20='?', @p21='?' (DbType = Boolean), @p22='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "Avatar" = @p1, "ConcurrencyStamp" = @p2, "CreatedAt" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FullName" = @p6, "LastLoginAt" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "NotificationPreferences" = @p12, "PasswordHash" = @p13, "PhoneNumber" = @p14, "PhoneNumberConfirmed" = @p15, "RefreshToken" = @p16, "RefreshTokenExpiryTime" = @p17, "Role" = @p18, "SecurityStamp" = @p19, "Status" = @p20, "TwoFactorEnabled" = @p21, "UserName" = @p22
WHERE "Id" = @p23 AND "ConcurrencyStamp" = @p24;
2025-07-25 23:46:55.856 +08:00 [INF] Updated password for existing user: admin@example.com
2025-07-25 23:46:55.857 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:55.934 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:46:55.935 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:55.941 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p23='?', @p0='?' (DbType = Int32), @p1='?', @p2='?', @p24='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Boolean), @p16='?', @p17='?' (DbType = DateTime), @p18='?', @p19='?', @p20='?', @p21='?' (DbType = Boolean), @p22='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "Avatar" = @p1, "ConcurrencyStamp" = @p2, "CreatedAt" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FullName" = @p6, "LastLoginAt" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "NotificationPreferences" = @p12, "PasswordHash" = @p13, "PhoneNumber" = @p14, "PhoneNumberConfirmed" = @p15, "RefreshToken" = @p16, "RefreshTokenExpiryTime" = @p17, "Role" = @p18, "SecurityStamp" = @p19, "Status" = @p20, "TwoFactorEnabled" = @p21, "UserName" = @p22
WHERE "Id" = @p23 AND "ConcurrencyStamp" = @p24;
2025-07-25 23:46:55.941 +08:00 [INF] Updated password for existing user: instructor@example.com
2025-07-25 23:46:55.942 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:56.012 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-25 23:46:56.013 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:56.016 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p23='?', @p0='?' (DbType = Int32), @p1='?', @p2='?', @p24='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?' (DbType = Boolean), @p16='?', @p17='?' (DbType = DateTime), @p18='?', @p19='?', @p20='?', @p21='?' (DbType = Boolean), @p22='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "Avatar" = @p1, "ConcurrencyStamp" = @p2, "CreatedAt" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "FullName" = @p6, "LastLoginAt" = @p7, "LockoutEnabled" = @p8, "LockoutEnd" = @p9, "NormalizedEmail" = @p10, "NormalizedUserName" = @p11, "NotificationPreferences" = @p12, "PasswordHash" = @p13, "PhoneNumber" = @p14, "PhoneNumberConfirmed" = @p15, "RefreshToken" = @p16, "RefreshTokenExpiryTime" = @p17, "Role" = @p18, "SecurityStamp" = @p19, "Status" = @p20, "TwoFactorEnabled" = @p21, "UserName" = @p22
WHERE "Id" = @p23 AND "ConcurrencyStamp" = @p24;
2025-07-25 23:46:56.016 +08:00 [INF] Updated password for existing user: student@example.com
2025-07-25 23:46:56.027 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "SubscriptionPlans" AS s)
2025-07-25 23:46:56.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS c)
2025-07-25 23:46:56.037 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:56.038 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:46:56.038 +08:00 [INF] Data seeding completed successfully
2025-07-25 23:46:56.075 +08:00 [INF] Now listening on: http://localhost:5295
2025-07-25 23:46:56.075 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-25 23:46:56.075 +08:00 [INF] Hosting environment: Development
2025-07-25 23:46:56.076 +08:00 [INF] Content root path: /Users/sherwinalegre/Documents/Cece/CeceLearningPortal.Backend/CeceLearningPortal.Api
2025-07-25 23:47:01.683 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 54
2025-07-25 23:47:01.722 +08:00 [WRN] Failed to determine the https port for redirect.
2025-07-25 23:47:01.756 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:47:01.769 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:47:01.816 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:47:01.992 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:47:02.011 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:47:02.025 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 253.321ms
2025-07-25 23:47:02.030 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:47:02.037 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 355.3792ms
2025-07-25 23:47:31.557 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:47:31.565 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:47:31.568 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 11.1498ms
2025-07-25 23:47:31.569 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:47:31.571 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:47:31.574 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:47:31.574 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:47:31.640 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:47:31.719 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:47:31.721 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:47:31.722 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 147.4631ms
2025-07-25 23:47:31.722 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:47:31.722 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 153.0964ms
2025-07-25 23:47:33.660 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 23:47:33.661 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:47:33.662 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.6213ms
2025-07-25 23:47:33.663 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 23:47:33.669 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:47:33.738 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:47:33.738 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:47:33.746 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:47:33.853 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-25 23:47:33.900 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:47:34.020 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:47:34.043 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 296.4299ms
2025-07-25 23:47:34.043 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:47:34.043 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 380.1324ms
2025-07-25 23:47:34.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 23:47:34.045 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:47:34.045 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.3253ms
2025-07-25 23:47:34.046 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 23:47:34.047 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:47:34.050 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:47:34.053 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:47:34.056 +08:00 [INF] Route matched with {action = "GetMyEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyEnrollments() on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:47:34.075 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__studentId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."StudentId", a."FullName" AS "StudentName", e."CourseId", c."Title" AS "CourseTitle", c."Thumbnail" AS "CourseThumbnail", a0."FullName" AS "InstructorName", e."EnrolledAt", e."CompletedAt", e."ProgressPercentage", e."CertificateUrl"
FROM "Enrollments" AS e
INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
INNER JOIN "AspNetUsers" AS a0 ON c."InstructorId" = a0."Id"
WHERE e."StudentId" = @__studentId_0
2025-07-25 23:47:34.076 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.EnrollmentDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:47:34.080 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api) in 23.5047ms
2025-07-25 23:47:34.080 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:47:34.080 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 200 null application/json; charset=utf-8 34.0981ms
2025-07-25 23:48:07.122 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 64
2025-07-25 23:48:07.122 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:48:07.122 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:48:07.135 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:48:07.210 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:48:07.212 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:48:07.212 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 89.9107ms
2025-07-25 23:48:07.212 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:48:07.212 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 90.6651ms
2025-07-25 23:48:12.734 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 58
2025-07-25 23:48:12.735 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:48:12.735 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:48:12.737 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:48:12.813 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:48:12.815 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:48:12.815 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 79.9269ms
2025-07-25 23:48:12.815 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:48:12.815 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 80.5365ms
2025-07-25 23:57:03.580 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:57:03.582 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:03.582 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.7854ms
2025-07-25 23:57:03.583 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:57:03.583 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:03.597 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:57:03.599 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:57:03.603 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:57:03.630 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:57:03.638 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
2025-07-25 23:57:03.639 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:57:03.643 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 39.6721ms
2025-07-25 23:57:03.643 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:57:03.643 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 59.8476ms
2025-07-25 23:57:12.547 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-25 23:57:12.547 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:12.548 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 0.4129ms
2025-07-25 23:57:12.549 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-25 23:57:12.549 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:12.549 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:57:12.549 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:57:12.553 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-25 23:57:12.639 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-25 23:57:12.640 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-25 23:57:12.640 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 90.6497ms
2025-07-25 23:57:12.640 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-25 23:57:12.640 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 91.7219ms
2025-07-25 23:57:18.936 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-25 23:57:18.936 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:18.936 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 0.4077ms
2025-07-25 23:57:18.937 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-25 23:57:18.937 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:18.940 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:57:18.941 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:57:18.941 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-25 23:57:18.951 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."Rating", r."Status", r."StudentId", e."Id", e."CertificateUrl", e."CompletedAt", e."CourseId", e."EnrolledAt", e."ProgressPercentage", e."StudentId"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-25 23:57:18.953 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:57:18.953 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.9306ms
2025-07-25 23:57:18.953 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-25 23:57:18.953 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 16.0075ms
2025-07-25 23:57:18.956 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - null null
2025-07-25 23:57:18.956 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:18.956 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/enrollments - 204 null null 0.423ms
2025-07-25 23:57:18.957 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/enrollments - application/json null
2025-07-25 23:57:18.957 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:18.959 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:57:18.961 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:57:18.961 +08:00 [INF] Route matched with {action = "GetMyEnrollments", controller = "Enrollments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyEnrollments() on controller CeceLearningPortal.Api.Controllers.EnrollmentsController (CeceLearningPortal.Api).
2025-07-25 23:57:18.964 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__studentId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."StudentId", a."FullName" AS "StudentName", e."CourseId", c."Title" AS "CourseTitle", c."Thumbnail" AS "CourseThumbnail", a0."FullName" AS "InstructorName", e."EnrolledAt", e."CompletedAt", e."ProgressPercentage", e."CertificateUrl"
FROM "Enrollments" AS e
INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
INNER JOIN "AspNetUsers" AS a0 ON c."InstructorId" = a0."Id"
WHERE e."StudentId" = @__studentId_0
2025-07-25 23:57:18.965 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.EnrollmentDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-25 23:57:18.965 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api) in 3.8833ms
2025-07-25 23:57:18.965 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.EnrollmentsController.GetMyEnrollments (CeceLearningPortal.Api)'
2025-07-25 23:57:18.965 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/enrollments - 200 null application/json; charset=utf-8 7.7255ms
2025-07-25 23:57:24.412 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-25 23:57:24.412 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:24.412 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 0.4833ms
2025-07-25 23:57:24.413 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-25 23:57:24.414 +08:00 [INF] CORS policy execution successful.
2025-07-25 23:57:24.416 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-25 23:57:24.416 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:57:24.416 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-25 23:57:24.418 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-25 23:57:24.423 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p9='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p13='?' (DbType = Int32), @p12='?' (DbType = DateTime), @p15='?' (DbType = Int32), @p14='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p19='?' (DbType = Int32), @p18='?' (DbType = DateTime), @p21='?' (DbType = Int32), @p20='?' (DbType = DateTime), @p23='?' (DbType = Int32), @p22='?' (DbType = DateTime), @p25='?' (DbType = Int32), @p24='?' (DbType = DateTime), @p27='?' (DbType = Int32), @p26='?' (DbType = DateTime), @p29='?' (DbType = Int32), @p28='?' (DbType = DateTime), @p31='?' (DbType = Int32), @p30='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p35='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p37='?' (DbType = Int32), @p36='?' (DbType = DateTime), @p39='?' (DbType = Int32), @p38='?' (DbType = DateTime), @p41='?' (DbType = Int32), @p40='?' (DbType = DateTime), @p43='?' (DbType = Int32), @p42='?' (DbType = DateTime), @p45='?' (DbType = Int32), @p44='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
UPDATE "RefreshTokens" SET "RevokedAt" = @p2
WHERE "Id" = @p3;
UPDATE "RefreshTokens" SET "RevokedAt" = @p4
WHERE "Id" = @p5;
UPDATE "RefreshTokens" SET "RevokedAt" = @p6
WHERE "Id" = @p7;
UPDATE "RefreshTokens" SET "RevokedAt" = @p8
WHERE "Id" = @p9;
UPDATE "RefreshTokens" SET "RevokedAt" = @p10
WHERE "Id" = @p11;
UPDATE "RefreshTokens" SET "RevokedAt" = @p12
WHERE "Id" = @p13;
UPDATE "RefreshTokens" SET "RevokedAt" = @p14
WHERE "Id" = @p15;
UPDATE "RefreshTokens" SET "RevokedAt" = @p16
WHERE "Id" = @p17;
UPDATE "RefreshTokens" SET "RevokedAt" = @p18
WHERE "Id" = @p19;
UPDATE "RefreshTokens" SET "RevokedAt" = @p20
WHERE "Id" = @p21;
UPDATE "RefreshTokens" SET "RevokedAt" = @p22
WHERE "Id" = @p23;
UPDATE "RefreshTokens" SET "RevokedAt" = @p24
WHERE "Id" = @p25;
UPDATE "RefreshTokens" SET "RevokedAt" = @p26
WHERE "Id" = @p27;
UPDATE "RefreshTokens" SET "RevokedAt" = @p28
WHERE "Id" = @p29;
UPDATE "RefreshTokens" SET "RevokedAt" = @p30
WHERE "Id" = @p31;
UPDATE "RefreshTokens" SET "RevokedAt" = @p32
WHERE "Id" = @p33;
UPDATE "RefreshTokens" SET "RevokedAt" = @p34
WHERE "Id" = @p35;
UPDATE "RefreshTokens" SET "RevokedAt" = @p36
WHERE "Id" = @p37;
UPDATE "RefreshTokens" SET "RevokedAt" = @p38
WHERE "Id" = @p39;
UPDATE "RefreshTokens" SET "RevokedAt" = @p40
WHERE "Id" = @p41;
UPDATE "RefreshTokens" SET "RevokedAt" = @p42
WHERE "Id" = @p43;
UPDATE "RefreshTokens" SET "RevokedAt" = @p44
WHERE "Id" = @p45;
2025-07-25 23:57:24.425 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-25 23:57:24.425 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 8.2624ms
2025-07-25 23:57:24.425 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-25 23:57:24.425 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 11.4736ms
2025-07-25 23:58:12.912 +08:00 [INF] Application is shutting down...
