2025-07-29 00:00:16.354 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:00:16.359 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.360 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 5.8167ms
2025-07-29 00:00:16.361 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:00:16.362 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.364 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.365 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:00:16.366 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.369 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:00:16.372 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:00:16.373 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.5961ms
2025-07-29 00:00:16.373 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:00:16.374 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 12.6616ms
2025-07-29 00:00:16.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:00:16.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:00:16.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:00:16.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:00:16.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:00:16.376 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:00:16.377 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.378 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.379 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.380 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.381 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.382 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.383 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.0034ms
2025-07-29 00:00:16.383 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 7.3713ms
2025-07-29 00:00:16.383 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 7.6629ms
2025-07-29 00:00:16.384 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.824ms
2025-07-29 00:00:16.384 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.1638ms
2025-07-29 00:00:16.385 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 8.3469ms
2025-07-29 00:00:16.386 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:00:16.388 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:00:16.389 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:00:16.390 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:00:16.391 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:00:16.392 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:00:16.393 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.394 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.395 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.396 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.397 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.398 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.399 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.4003ms
2025-07-29 00:00:16.399 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.4925ms
2025-07-29 00:00:16.400 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.7685ms
2025-07-29 00:00:16.400 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 10.0739ms
2025-07-29 00:00:16.401 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.3874ms
2025-07-29 00:00:16.401 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.6472ms
2025-07-29 00:00:16.403 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:00:16.404 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:00:16.405 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:00:16.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:00:16.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:00:16.409 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:00:16.410 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.411 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.412 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.413 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.414 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.415 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.416 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.416 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.418 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.418 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.419 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.420 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.421 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.422 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.423 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.424 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.424 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.424 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.425 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.425 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.426 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.426 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.429 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.429 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.430 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.431 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.431 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.432 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.433 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.435 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.436 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.438 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.439 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.441 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.441 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.4789ms
2025-07-29 00:00:16.442 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.277ms
2025-07-29 00:00:16.443 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.1086ms
2025-07-29 00:00:16.443 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9297ms
2025-07-29 00:00:16.444 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6967ms
2025-07-29 00:00:16.444 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.4769ms
2025-07-29 00:00:16.445 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.446 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.446 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.447 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.447 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.448 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.448 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 44.4008ms
2025-07-29 00:00:16.449 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 46.3127ms
2025-07-29 00:00:16.450 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 44.4042ms
2025-07-29 00:00:16.450 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 43.9066ms
2025-07-29 00:00:16.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 43.3137ms
2025-07-29 00:00:16.451 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 42.5349ms
2025-07-29 00:00:16.453 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:00:16.454 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:00:16.455 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:00:16.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:00:16.458 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:00:16.459 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:00:16.460 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.461 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.462 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.463 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.464 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.465 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:16.466 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.466 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.467 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.467 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.467 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.468 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:16.468 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.469 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.470 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.471 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.472 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.473 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.473 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.474 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.474 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.475 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.475 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.476 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:16.478 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.479 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.481 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.481 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.482 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:16.483 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.484 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.486 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.488 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.490 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.491 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:16.492 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 15.1379ms
2025-07-29 00:00:16.492 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.8505ms
2025-07-29 00:00:16.493 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.5024ms
2025-07-29 00:00:16.494 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.3196ms
2025-07-29 00:00:16.494 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2013ms
2025-07-29 00:00:16.495 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0909ms
2025-07-29 00:00:16.496 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.496 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.497 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.497 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.498 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.498 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:16.499 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 45.9158ms
2025-07-29 00:00:16.499 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 45.1069ms
2025-07-29 00:00:16.500 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 44.4818ms
2025-07-29 00:00:16.501 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 43.7627ms
2025-07-29 00:00:16.501 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 43.241ms
2025-07-29 00:00:16.502 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 42.626ms
2025-07-29 00:00:17.308 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:00:17.310 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:17.310 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 2.0589ms
2025-07-29 00:00:17.312 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:00:17.314 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:17.315 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:17.316 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.893ms
2025-07-29 00:00:17.318 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:00:19.591 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:00:19.679 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.680 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.681 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:00:19.682 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.684 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:00:19.687 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:00:19.687 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.9515ms
2025-07-29 00:00:19.688 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:00:19.689 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 97.8204ms
2025-07-29 00:00:19.690 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:00:19.691 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:00:19.691 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:00:19.691 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:00:19.691 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:00:19.691 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:00:19.692 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.693 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.694 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.695 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.696 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.697 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.700 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.701 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.702 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.703 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.704 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.705 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.705 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.705 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.706 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.706 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.707 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.707 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.710 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.710 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.711 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.712 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.713 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.713 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.714 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.715 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.717 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.719 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.720 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.722 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.722 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2877ms
2025-07-29 00:00:19.723 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0698ms
2025-07-29 00:00:19.723 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8339ms
2025-07-29 00:00:19.724 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5516ms
2025-07-29 00:00:19.725 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.34ms
2025-07-29 00:00:19.725 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1498ms
2025-07-29 00:00:19.726 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.726 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.727 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.727 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.728 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.729 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.729 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 38.4471ms
2025-07-29 00:00:19.730 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 39.0705ms
2025-07-29 00:00:19.730 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 39.441ms
2025-07-29 00:00:19.731 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 39.9098ms
2025-07-29 00:00:19.731 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 40.3864ms
2025-07-29 00:00:19.732 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 40.8548ms
2025-07-29 00:00:19.733 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:00:19.735 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:00:19.736 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:00:19.737 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:00:19.738 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:00:19.740 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:00:19.741 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.742 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.743 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.744 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.745 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.746 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:00:19.747 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.747 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.747 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.748 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.748 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.748 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:00:19.749 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.750 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.751 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.752 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.753 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.754 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.755 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.755 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.755 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.756 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.756 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.757 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:00:19.759 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.760 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.761 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.763 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:00:19.764 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.765 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.767 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.769 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.770 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.772 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:00:19.772 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.6516ms
2025-07-29 00:00:19.773 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.3938ms
2025-07-29 00:00:19.774 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.5352ms
2025-07-29 00:00:19.775 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.3491ms
2025-07-29 00:00:19.775 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2463ms
2025-07-29 00:00:19.776 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.201ms
2025-07-29 00:00:19.777 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.777 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.778 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.778 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.779 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.779 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:00:19.780 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 46.5248ms
2025-07-29 00:00:19.780 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 45.6951ms
2025-07-29 00:00:19.781 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 45.013ms
2025-07-29 00:00:19.781 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 44.2915ms
2025-07-29 00:00:19.782 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 43.6271ms
2025-07-29 00:00:19.783 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 42.9929ms
2025-07-29 00:01:01.171 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-29 00:01:01.172 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:01.172 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.5654ms
2025-07-29 00:01:01.174 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-29 00:01:01.175 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:01.176 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:01.178 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:01:01.179 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:01:01.181 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-29 00:01:01.184 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
UPDATE "RefreshTokens" SET "RevokedAt" = @p2
WHERE "Id" = @p3;
UPDATE "RefreshTokens" SET "RevokedAt" = @p4
WHERE "Id" = @p5;
2025-07-29 00:01:01.186 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:01:01.187 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 7.3112ms
2025-07-29 00:01:01.188 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:01:01.188 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 14.3494ms
2025-07-29 00:01:09.996 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:01:09.998 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:09.998 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.7695ms
2025-07-29 00:01:10.000 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-29 00:01:10.001 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:10.002 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:01:10.002 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:01:10.004 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:01:10.050 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:01:10.050 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 47.1707ms
2025-07-29 00:01:10.051 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:01:10.052 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 51.5396ms
2025-07-29 00:01:13.491 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-29 00:01:13.492 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:13.493 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:01:13.494 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:01:13.496 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:01:13.545 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:01:13.547 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:01:13.548 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 53.2985ms
2025-07-29 00:01:13.549 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:01:13.550 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 58.5584ms
2025-07-29 00:01:13.578 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:01:13.579 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:01:13.580 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:13.580 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:13.581 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.4833ms
2025-07-29 00:01:13.581 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.4798ms
2025-07-29 00:01:13.583 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:01:13.584 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:01:13.585 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:13.586 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:13.588 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:13.588 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:13.589 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:01:13.590 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:13.590 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:01:13.591 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:13.592 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:01:13.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:01:13.594 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:13.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:01:13.597 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:13.598 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:01:13.598 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.5335ms
2025-07-29 00:01:13.600 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:13.600 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:01:13.600 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 17.5992ms
2025-07-29 00:01:13.603 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:01:13.605 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:01:13.607 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:01:13.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:01:13.610 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:01:13.611 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:01:13.612 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 20.524ms
2025-07-29 00:01:13.613 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:01:13.614 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 29.6129ms
2025-07-29 00:01:18.505 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:01:18.507 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.508 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.510 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:01:18.510 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:01:18.511 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:01:18.513 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:01:18.514 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:01:18.515 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:01:18.517 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:01:18.519 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:01:18.521 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:01:18.522 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:01:18.524 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:01:18.525 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:01:18.526 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:01:18.527 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 15.8236ms
2025-07-29 00:01:18.527 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:01:18.528 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 22.8684ms
2025-07-29 00:01:18.587 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - null null
2025-07-29 00:01:18.588 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.588 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - 204 null null 1.4927ms
2025-07-29 00:01:18.590 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - application/json null
2025-07-29 00:01:18.591 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.592 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.593 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:01:18.594 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:01:18.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:01:18.596 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:01:18.597 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.598 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 3.3553ms
2025-07-29 00:01:18.598 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:01:18.599 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - 200 null application/json; charset=utf-8 8.8921ms
2025-07-29 00:01:18.600 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - null null
2025-07-29 00:01:18.600 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - null null
2025-07-29 00:01:18.601 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - null null
2025-07-29 00:01:18.601 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - null null
2025-07-29 00:01:18.601 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-29 00:01:18.602 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.603 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.604 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.605 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.606 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.606 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 204 null null 5.7884ms
2025-07-29 00:01:18.606 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 204 null null 5.8098ms
2025-07-29 00:01:18.607 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 204 null null 5.9908ms
2025-07-29 00:01:18.607 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 204 null null 6.211ms
2025-07-29 00:01:18.608 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 6.6811ms
2025-07-29 00:01:18.609 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:01:18.610 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:01:18.611 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:01:18.613 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:01:18.614 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:01:18.615 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.616 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.617 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.618 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.619 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.620 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.620 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.621 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.621 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.621 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.622 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 12.9622ms
2025-07-29 00:01:18.623 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 12.7394ms
2025-07-29 00:01:18.624 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 12.5189ms
2025-07-29 00:01:18.625 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 12.2366ms
2025-07-29 00:01:18.626 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 11.9448ms
2025-07-29 00:01:18.627 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:01:18.628 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:01:18.629 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:01:18.631 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:01:18.632 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:01:18.633 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - null null
2025-07-29 00:01:18.634 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - null null
2025-07-29 00:01:18.635 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:01:18.636 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - null null
2025-07-29 00:01:18.636 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - null null
2025-07-29 00:01:18.637 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.638 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.639 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.640 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.641 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.641 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 204 null null 8.4477ms
2025-07-29 00:01:18.642 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 204 null null 7.8035ms
2025-07-29 00:01:18.642 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 7.4121ms
2025-07-29 00:01:18.643 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 204 null null 7.0426ms
2025-07-29 00:01:18.643 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 204 null null 6.6489ms
2025-07-29 00:01:18.644 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:01:18.646 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:01:18.647 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:01:18.648 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:01:18.649 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:01:18.650 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.651 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.652 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.653 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.654 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.656 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.656 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.656 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.656 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.657 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.657 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.658 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.659 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.660 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.661 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.661 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.661 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.662 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.662 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.663 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.665 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.666 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.667 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.668 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.668 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.669 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.670 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.671 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.673 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.675 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.675 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.1205ms
2025-07-29 00:01:18.675 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.987ms
2025-07-29 00:01:18.676 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.9833ms
2025-07-29 00:01:18.677 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.922ms
2025-07-29 00:01:18.678 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.5616ms
2025-07-29 00:01:18.678 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.679 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.679 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.680 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.680 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.681 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 36.4554ms
2025-07-29 00:01:18.681 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 35.8213ms
2025-07-29 00:01:18.682 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 35.2205ms
2025-07-29 00:01:18.683 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 34.6202ms
2025-07-29 00:01:18.683 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 34.0415ms
2025-07-29 00:01:18.685 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:01:18.686 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:01:18.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:01:18.688 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:01:18.690 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:01:18.691 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.692 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.693 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.694 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.694 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.696 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.696 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.696 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.696 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.697 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.697 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 12.4824ms
2025-07-29 00:01:18.698 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 12.3478ms
2025-07-29 00:01:18.699 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 12.2285ms
2025-07-29 00:01:18.701 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 12.3127ms
2025-07-29 00:01:18.702 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 12.1753ms
2025-07-29 00:01:18.703 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:01:18.704 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:01:18.706 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:01:18.707 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:01:18.708 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:01:18.709 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:01:18.710 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:01:18.711 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:01:18.711 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:01:18.712 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:01:18.713 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.714 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.715 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.716 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.717 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.719 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.718 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.718 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.719 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.720 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.720 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.721 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.722 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.723 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.724 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.724 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.724 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.725 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.725 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.726 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.728 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.729 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.729 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.730 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.731 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.732 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.733 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.734 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.736 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.737 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.738 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.1263ms
2025-07-29 00:01:18.738 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.0857ms
2025-07-29 00:01:18.739 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.0711ms
2025-07-29 00:01:18.740 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.9055ms
2025-07-29 00:01:18.740 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.7901ms
2025-07-29 00:01:18.741 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.741 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.742 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.742 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.743 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.744 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 32.9906ms
2025-07-29 00:01:18.744 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 34.3155ms
2025-07-29 00:01:18.745 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 35.6707ms
2025-07-29 00:01:18.745 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 33.9072ms
2025-07-29 00:01:18.746 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 33.7137ms
2025-07-29 00:01:18.747 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:01:18.748 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:01:18.750 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:01:18.751 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:01:18.752 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:01:18.753 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.754 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.755 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.756 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.757 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:18.758 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.759 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.759 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.759 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.760 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:18.760 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.761 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.762 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.763 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.763 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.764 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.764 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.765 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.765 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.766 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:01:18.768 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.769 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.770 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.771 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.772 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:01:18.772 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.773 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.775 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.776 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.777 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:18.778 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.1377ms
2025-07-29 00:01:18.778 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.0308ms
2025-07-29 00:01:18.779 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.8746ms
2025-07-29 00:01:18.780 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.6998ms
2025-07-29 00:01:18.780 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.6678ms
2025-07-29 00:01:18.781 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.781 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.782 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.783 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.783 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:01:18.784 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 36.3088ms
2025-07-29 00:01:18.784 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 35.6256ms
2025-07-29 00:01:18.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 34.8901ms
2025-07-29 00:01:18.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 34.1716ms
2025-07-29 00:01:18.786 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 33.4211ms
2025-07-29 00:01:20.981 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:01:20.982 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:20.982 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 1.5739ms
2025-07-29 00:01:20.984 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:01:20.985 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:01:20.987 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:01:20.988 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:01:20.988 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:01:20.990 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:01:20.991 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:01:20.992 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:01:20.993 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 3.9305ms
2025-07-29 00:01:20.994 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:01:20.994 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 10.3938ms
2025-07-29 00:02:07.930 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:02:07.931 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:07.931 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.7896ms
2025-07-29 00:02:07.933 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:02:07.934 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:07.936 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:07.937 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.9021ms
2025-07-29 00:02:07.938 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:02:09.470 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:02:09.471 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.471 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.5152ms
2025-07-29 00:02:09.473 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:02:09.474 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.475 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.477 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:02:09.477 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.480 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:02:09.482 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:02:09.483 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8408ms
2025-07-29 00:02:09.484 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:02:09.484 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.4394ms
2025-07-29 00:02:09.487 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:02:09.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:02:09.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:02:09.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:02:09.488 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:02:09.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:02:09.489 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.490 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.491 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.492 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 4.9188ms
2025-07-29 00:02:09.493 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.494 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.494 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.3427ms
2025-07-29 00:02:09.495 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 6.7407ms
2025-07-29 00:02:09.495 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 6.7207ms
2025-07-29 00:02:09.496 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:02:09.496 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 8.0972ms
2025-07-29 00:02:09.497 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.4264ms
2025-07-29 00:02:09.498 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:02:09.499 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:02:09.500 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:02:09.502 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.503 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:02:09.504 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:02:09.505 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.506 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.507 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.507 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 11.3359ms
2025-07-29 00:02:09.508 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.509 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.510 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.7397ms
2025-07-29 00:02:09.510 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.9882ms
2025-07-29 00:02:09.511 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 10.1937ms
2025-07-29 00:02:09.512 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:02:09.512 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.2538ms
2025-07-29 00:02:09.513 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.4118ms
2025-07-29 00:02:09.514 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:02:09.515 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:02:09.516 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:02:09.517 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.519 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:02:09.520 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:02:09.521 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.522 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.523 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.524 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.524 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.525 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.526 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.526 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.527 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.527 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.528 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.528 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.529 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.530 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.530 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.531 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.532 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.533 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.533 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.534 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.534 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.536 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.536 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.537 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.538 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.539 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.540 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.542 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.543 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.545 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.546 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.548 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.549 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.550 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.4545ms
2025-07-29 00:02:09.550 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2241ms
2025-07-29 00:02:09.551 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2095ms
2025-07-29 00:02:09.551 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9848ms
2025-07-29 00:02:09.552 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8408ms
2025-07-29 00:02:09.553 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.6601ms
2025-07-29 00:02:09.553 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.554 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.555 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.555 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.556 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.556 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.557 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 44.8521ms
2025-07-29 00:02:09.557 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 43.4085ms
2025-07-29 00:02:09.558 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 42.7702ms
2025-07-29 00:02:09.558 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 42.0741ms
2025-07-29 00:02:09.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 40.0817ms
2025-07-29 00:02:09.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 39.3062ms
2025-07-29 00:02:09.561 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:02:09.562 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:02:09.563 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:02:09.564 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:02:09.565 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:02:09.567 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:02:09.568 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.569 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.570 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.571 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.572 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.573 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:02:09.574 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.574 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.574 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.575 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.575 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.576 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:02:09.576 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.577 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.578 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.579 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.580 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.581 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.581 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.581 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.582 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.582 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.583 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.583 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:02:09.586 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.587 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.587 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.589 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.589 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.590 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:02:09.591 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.592 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.593 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.595 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.596 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.598 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:02:09.598 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2217ms
2025-07-29 00:02:09.599 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9036ms
2025-07-29 00:02:09.600 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6214ms
2025-07-29 00:02:09.600 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2935ms
2025-07-29 00:02:09.601 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1686ms
2025-07-29 00:02:09.602 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8767ms
2025-07-29 00:02:09.602 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.603 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.603 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.604 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.604 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.605 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:02:09.605 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 43.6929ms
2025-07-29 00:02:09.606 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 45.4367ms
2025-07-29 00:02:09.606 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 43.465ms
2025-07-29 00:02:09.607 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 42.7784ms
2025-07-29 00:02:09.607 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 42.0982ms
2025-07-29 00:02:09.608 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 41.2138ms
2025-07-29 00:07:24.977 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:07:24.977 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:07:24.978 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:24.979 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:24.980 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.5792ms
2025-07-29 00:07:24.980 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.8785ms
2025-07-29 00:07:24.981 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:07:24.983 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:07:24.984 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:24.985 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.030 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.031 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:25.031 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.034 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:07:25.034 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:07:25.036 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:07:25.037 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:25.038 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:07:25.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:25.040 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 8.3374ms
2025-07-29 00:07:25.041 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:07:25.041 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:25.042 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 61.1476ms
2025-07-29 00:07:25.043 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:07:25.044 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:07:25.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:07:25.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:07:25.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:07:25.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:07:25.047 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.047 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:07:25.048 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.049 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.050 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.051 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.052 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 7.8842ms
2025-07-29 00:07:25.055 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 9.8169ms
2025-07-29 00:07:25.056 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 9.9037ms
2025-07-29 00:07:25.056 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 10.0873ms
2025-07-29 00:07:25.057 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 10.3535ms
2025-07-29 00:07:25.057 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:07:25.058 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:07:25.059 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:07:25.060 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:07:25.062 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:07:25.063 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:07:25.065 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:07:25.065 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.066 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.067 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.068 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.069 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.070 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 12.1054ms
2025-07-29 00:07:25.070 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:07:25.070 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 11.3715ms
2025-07-29 00:07:25.071 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 10.712ms
2025-07-29 00:07:25.071 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 9.6406ms
2025-07-29 00:07:25.072 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 8.8532ms
2025-07-29 00:07:25.073 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:07:25.075 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:07:25.075 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:07:25.076 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:07:25.078 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:07:25.079 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:07:25.080 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.082 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:07:25.082 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.083 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.084 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.085 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.085 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 11.8971ms
2025-07-29 00:07:25.086 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:07:25.086 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 11.0957ms
2025-07-29 00:07:25.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.088 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.090 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:07:25.091 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 55.6347ms
2025-07-29 00:07:25.092 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:07:25.093 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.094 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.095 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.095 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:07:25.096 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.097 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.099 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.099 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 116.0963ms
2025-07-29 00:07:25.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.102 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.104 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:07:25.106 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.106 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.108 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.108 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.726ms
2025-07-29 00:07:25.111 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.111 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.112 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 35.2301ms
2025-07-29 00:07:25.113 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.113 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.115 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:07:25.117 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.117 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.118 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.119 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.6235ms
2025-07-29 00:07:25.121 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.121 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.122 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.123 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.123 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 33.537ms
2025-07-29 00:07:25.125 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.126 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:07:25.128 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 7.6327ms
2025-07-29 00:07:25.130 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.131 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.131 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.132 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.132 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.133 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.133 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 29.9592ms
2025-07-29 00:07:25.134 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.135 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.136 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 7.1852ms
2025-07-29 00:07:25.137 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:07:25.138 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.138 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.139 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.140 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.143 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.142 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 27.5354ms
2025-07-29 00:07:25.143 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.143 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.144 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.145 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.146 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:07:25.147 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.148 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.149 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.150 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 8.6896ms
2025-07-29 00:07:25.151 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.151 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.151 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.5442ms
2025-07-29 00:07:25.152 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.152 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.153 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.154 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.155 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.155 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.158 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 30.3475ms
2025-07-29 00:07:25.158 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.159 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.159 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 58.7509ms
2025-07-29 00:07:25.160 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 80.661ms
2025-07-29 00:07:25.161 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:07:25.162 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.163 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.163 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.163 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.164 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:07:25.165 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.167 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.167 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.3563ms
2025-07-29 00:07:25.169 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 91.0558ms
2025-07-29 00:07:25.170 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.171 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7787ms
2025-07-29 00:07:25.171 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.173 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.174 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.174 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.174 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 37.1709ms
2025-07-29 00:07:25.175 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.177 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.178 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.178 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 85.8719ms
2025-07-29 00:07:25.180 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.180 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.2499ms
2025-07-29 00:07:25.181 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:25.183 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.184 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.185 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 38.8664ms
2025-07-29 00:07:25.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:25.186 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.189 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:25.189 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 6.4698ms
2025-07-29 00:07:25.190 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 5.8199ms
2025-07-29 00:07:25.191 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.191 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:25.192 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 30.6447ms
2025-07-29 00:07:25.192 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 27.5512ms
2025-07-29 00:07:25.955 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - null null
2025-07-29 00:07:25.956 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.956 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - 204 null null 1.5488ms
2025-07-29 00:07:25.958 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - application/json null
2025-07-29 00:07:25.959 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.960 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.961 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:07:25.962 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:07:25.963 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:07:25.964 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:07:25.965 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:25.966 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 3.5775ms
2025-07-29 00:07:25.967 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:07:25.967 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - 200 null application/json; charset=utf-8 9.2222ms
2025-07-29 00:07:25.968 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - null null
2025-07-29 00:07:25.968 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - null null
2025-07-29 00:07:25.968 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - null null
2025-07-29 00:07:25.968 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - null null
2025-07-29 00:07:25.968 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-29 00:07:25.970 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.970 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.971 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.972 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.973 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 204 null null 5.6606ms
2025-07-29 00:07:25.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 204 null null 5.9709ms
2025-07-29 00:07:25.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 204 null null 6.0783ms
2025-07-29 00:07:25.975 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 204 null null 6.4075ms
2025-07-29 00:07:25.975 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 6.6841ms
2025-07-29 00:07:25.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:07:25.978 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:07:25.979 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:07:25.980 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:07:25.982 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:07:25.983 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.983 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.984 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.986 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.986 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:25.988 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.988 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.988 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.988 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.989 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:25.989 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 12.5713ms
2025-07-29 00:07:25.990 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 12.4621ms
2025-07-29 00:07:25.992 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 12.2859ms
2025-07-29 00:07:25.993 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 12.1625ms
2025-07-29 00:07:25.994 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 12.0641ms
2025-07-29 00:07:25.995 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:07:25.996 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:07:25.997 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:07:25.999 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:07:26.000 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:07:26.001 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:07:26.002 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - null null
2025-07-29 00:07:26.003 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - null null
2025-07-29 00:07:26.003 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - null null
2025-07-29 00:07:26.004 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - null null
2025-07-29 00:07:26.005 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.006 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.007 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.008 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.009 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.010 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 9.0102ms
2025-07-29 00:07:26.010 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 204 null null 8.4438ms
2025-07-29 00:07:26.011 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 204 null null 8.0341ms
2025-07-29 00:07:26.011 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 204 null null 7.6458ms
2025-07-29 00:07:26.011 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 204 null null 7.2509ms
2025-07-29 00:07:26.013 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:07:26.014 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:07:26.015 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:07:26.017 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:07:26.018 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:07:26.019 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.020 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.021 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.022 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.023 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.025 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.025 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.026 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.027 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.028 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.028 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.029 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.030 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.030 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.031 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.031 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.032 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.034 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.035 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.036 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.037 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.037 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.038 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.040 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.042 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.043 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.044 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.161ms
2025-07-29 00:07:26.044 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.01ms
2025-07-29 00:07:26.045 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.8861ms
2025-07-29 00:07:26.046 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.6894ms
2025-07-29 00:07:26.046 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.6905ms
2025-07-29 00:07:26.047 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.048 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.048 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.049 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.049 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.050 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 36.6638ms
2025-07-29 00:07:26.050 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 35.9098ms
2025-07-29 00:07:26.051 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 35.2568ms
2025-07-29 00:07:26.051 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 34.4798ms
2025-07-29 00:07:26.052 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 33.9281ms
2025-07-29 00:07:26.053 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:07:26.054 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:07:26.056 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:07:26.057 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:07:26.058 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:07:26.059 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.060 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.061 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.062 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.063 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.065 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.065 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.065 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.065 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.066 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.066 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 12.8629ms
2025-07-29 00:07:26.067 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 12.6213ms
2025-07-29 00:07:26.068 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 12.3784ms
2025-07-29 00:07:26.069 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 12.1026ms
2025-07-29 00:07:26.070 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 11.9548ms
2025-07-29 00:07:26.072 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:07:26.073 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:07:26.074 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:07:26.075 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:07:26.077 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:07:26.077 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:07:26.078 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:07:26.079 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:07:26.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:07:26.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:07:26.082 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.083 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.084 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.084 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.085 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.086 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.088 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.089 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.090 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.091 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.092 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.092 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.093 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.093 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.094 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.094 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.097 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.098 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.098 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.099 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.100 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.101 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.103 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.104 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.105 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.106 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.8349ms
2025-07-29 00:07:26.106 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.7343ms
2025-07-29 00:07:26.107 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.6335ms
2025-07-29 00:07:26.108 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.5026ms
2025-07-29 00:07:26.108 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.4324ms
2025-07-29 00:07:26.109 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.110 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.110 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.111 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.111 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.112 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 34.1936ms
2025-07-29 00:07:26.112 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 33.846ms
2025-07-29 00:07:26.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 33.565ms
2025-07-29 00:07:26.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 33.3461ms
2025-07-29 00:07:26.114 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 33.0996ms
2025-07-29 00:07:26.115 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:07:26.116 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:07:26.118 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:07:26.119 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:07:26.120 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:07:26.121 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.122 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.123 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.124 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.125 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:26.126 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.126 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:26.128 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.129 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.130 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.130 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.131 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.132 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.132 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.132 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.133 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.133 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:26.136 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.136 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.137 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.138 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.139 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:26.139 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.141 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.142 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.143 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.145 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:26.145 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.9264ms
2025-07-29 00:07:26.146 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.8168ms
2025-07-29 00:07:26.146 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.743ms
2025-07-29 00:07:26.147 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.5413ms
2025-07-29 00:07:26.148 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.4191ms
2025-07-29 00:07:26.148 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.149 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.149 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.150 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.150 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:26.151 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 35.55ms
2025-07-29 00:07:26.151 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 34.8063ms
2025-07-29 00:07:26.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 34.1087ms
2025-07-29 00:07:26.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 33.4165ms
2025-07-29 00:07:26.153 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 32.6977ms
2025-07-29 00:07:33.983 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:07:33.983 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:07:33.984 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:33.985 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:33.986 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.5602ms
2025-07-29 00:07:33.986 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.7603ms
2025-07-29 00:07:33.987 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:07:33.989 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:07:33.990 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:33.991 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:33.992 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:33.992 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:33.993 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:33.994 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:07:33.994 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:33.995 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:07:33.997 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:07:33.997 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:33.998 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:07:34.000 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:34.000 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:07:34.001 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.0217ms
2025-07-29 00:07:34.002 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:07:34.002 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:34.003 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 15.9559ms
2025-07-29 00:07:34.005 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:07:34.005 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:07:34.005 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:07:34.005 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:07:34.005 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:07:34.005 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:07:34.006 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.007 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.008 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.009 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.010 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.012 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 7.0677ms
2025-07-29 00:07:34.012 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.4999ms
2025-07-29 00:07:34.013 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 7.6918ms
2025-07-29 00:07:34.013 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 8.0824ms
2025-07-29 00:07:34.013 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:07:34.014 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 8.4394ms
2025-07-29 00:07:34.015 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:07:34.016 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:07:34.017 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:07:34.019 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:07:34.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:07:34.021 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:07:34.022 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.023 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.024 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.025 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.026 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:07:34.027 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.027 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 12.1042ms
2025-07-29 00:07:34.027 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 11.2456ms
2025-07-29 00:07:34.028 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 10.5049ms
2025-07-29 00:07:34.028 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 9.6549ms
2025-07-29 00:07:34.030 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.0464ms
2025-07-29 00:07:34.030 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:07:34.031 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:07:34.032 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:07:34.033 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:07:34.035 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:07:34.036 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:07:34.038 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:07:34.038 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.039 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.040 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.041 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.042 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.043 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:07:34.043 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 11.8001ms
2025-07-29 00:07:34.043 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 11.0266ms
2025-07-29 00:07:34.044 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.045 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.045 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.045 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 48.9988ms
2025-07-29 00:07:34.047 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:07:34.048 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:07:34.049 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.050 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.050 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.051 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:07:34.052 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.053 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.053 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.054 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.054 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.055 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 65.9893ms
2025-07-29 00:07:34.056 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.056 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.058 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.058 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.059 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:07:34.059 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.060 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.061 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.063 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.064 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.065 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.066 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.067 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.067 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.067 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.2105ms
2025-07-29 00:07:34.068 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.8875ms
2025-07-29 00:07:34.069 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.069 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.0327ms
2025-07-29 00:07:34.071 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.071 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.072 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.072 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.073 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.073 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.075 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.075 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 41.8472ms
2025-07-29 00:07:34.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 41.2522ms
2025-07-29 00:07:34.078 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.078 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.078 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 42.5882ms
2025-07-29 00:07:34.079 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.2669ms
2025-07-29 00:07:34.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:07:34.081 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:07:34.082 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.5125ms
2025-07-29 00:07:34.084 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:07:34.084 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.084 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.085 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.086 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.087 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.088 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.090 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.090 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 43.2009ms
2025-07-29 00:07:34.091 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.091 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.091 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 43.3816ms
2025-07-29 00:07:34.092 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.092 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.5383ms
2025-07-29 00:07:34.094 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:07:34.094 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.095 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.097 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:07:34.097 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.098 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.099 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.099 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.100 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.101 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.101 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.102 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 42.4592ms
2025-07-29 00:07:34.103 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.104 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.104 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.105 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.106 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:07:34.106 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.107 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.108 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.110 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.111 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.112 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.113 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.114 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.114 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.115 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.7155ms
2025-07-29 00:07:34.115 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.5553ms
2025-07-29 00:07:34.116 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.116 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.4014ms
2025-07-29 00:07:34.118 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.118 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.119 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.119 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.120 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.120 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.122 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.122 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 42.1247ms
2025-07-29 00:07:34.123 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 41.3915ms
2025-07-29 00:07:34.125 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.125 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:34.125 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.5379ms
2025-07-29 00:07:34.126 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.114ms
2025-07-29 00:07:34.129 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.3067ms
2025-07-29 00:07:34.131 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:07:34.132 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.132 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.134 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:07:34.134 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.6008ms
2025-07-29 00:07:34.135 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 38.0765ms
2025-07-29 00:07:34.135 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 5.3012ms
2025-07-29 00:07:34.138 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:07:34.139 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 32.7109ms
2025-07-29 00:07:34.951 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - null null
2025-07-29 00:07:34.953 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.953 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - 204 null null 1.5991ms
2025-07-29 00:07:34.954 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - application/json null
2025-07-29 00:07:34.955 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.957 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.958 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:07:34.958 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:07:34.960 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:07:34.961 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:07:34.962 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:34.963 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 3.5387ms
2025-07-29 00:07:34.963 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:07:34.964 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - 200 null application/json; charset=utf-8 9.2736ms
2025-07-29 00:07:34.965 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - null null
2025-07-29 00:07:34.965 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - null null
2025-07-29 00:07:34.965 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - null null
2025-07-29 00:07:34.965 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-29 00:07:34.965 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - null null
2025-07-29 00:07:34.966 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.967 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.968 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.969 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.970 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.971 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 204 null null 5.6016ms
2025-07-29 00:07:34.971 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 204 null null 6.1762ms
2025-07-29 00:07:34.972 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 204 null null 6.5085ms
2025-07-29 00:07:34.972 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 6.7047ms
2025-07-29 00:07:34.972 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 204 null null 7.0451ms
2025-07-29 00:07:34.974 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:07:34.975 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:07:34.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:07:34.978 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:07:34.979 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:07:34.980 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.981 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.982 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.983 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.984 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:34.985 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.985 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.985 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.986 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.986 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:34.987 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 12.8837ms
2025-07-29 00:07:34.988 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 12.4122ms
2025-07-29 00:07:34.989 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 12.0516ms
2025-07-29 00:07:34.990 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 11.8294ms
2025-07-29 00:07:34.991 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 11.8816ms
2025-07-29 00:07:34.992 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:07:34.993 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:07:34.995 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:07:34.996 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:07:34.997 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:07:34.998 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - null null
2025-07-29 00:07:34.999 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - null null
2025-07-29 00:07:35.000 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - null null
2025-07-29 00:07:35.000 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:07:35.001 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - null null
2025-07-29 00:07:35.002 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.003 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.004 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.005 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.006 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.006 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 204 null null 8.2899ms
2025-07-29 00:07:35.007 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 204 null null 7.967ms
2025-07-29 00:07:35.007 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 204 null null 7.5084ms
2025-07-29 00:07:35.008 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 7.1605ms
2025-07-29 00:07:35.008 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 204 null null 6.7743ms
2025-07-29 00:07:35.009 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:07:35.010 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:07:35.012 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:07:35.013 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:07:35.014 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:07:35.015 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.016 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.017 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.018 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.019 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.021 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.021 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.022 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.023 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.024 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.024 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.025 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.026 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.026 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.027 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.027 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.028 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.030 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.031 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.032 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.032 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.034 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.035 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.036 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.038 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.040 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 11.0286ms
2025-07-29 00:07:35.040 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.9705ms
2025-07-29 00:07:35.041 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.7919ms
2025-07-29 00:07:35.042 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.6071ms
2025-07-29 00:07:35.042 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.4714ms
2025-07-29 00:07:35.043 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.043 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.044 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.044 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.045 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.045 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 34.8274ms
2025-07-29 00:07:35.046 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 36.495ms
2025-07-29 00:07:35.046 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 34.5915ms
2025-07-29 00:07:35.047 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 34.0249ms
2025-07-29 00:07:35.047 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 33.4142ms
2025-07-29 00:07:35.050 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:07:35.051 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:07:35.055 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.056 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.057 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:07:35.057 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.057 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.057 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:07:35.057 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:07:35.058 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.059 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 8.9051ms
2025-07-29 00:07:35.060 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 8.7539ms
2025-07-29 00:07:35.061 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.062 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.063 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.064 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:07:35.065 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:07:35.066 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.066 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.067 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 9.7155ms
2025-07-29 00:07:35.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:07:35.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:07:35.069 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 12.0289ms
2025-07-29 00:07:35.070 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 12.9487ms
2025-07-29 00:07:35.072 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:07:35.073 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.074 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.075 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:07:35.076 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:07:35.077 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:07:35.078 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.078 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.079 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:07:35.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:07:35.080 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.081 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.082 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.083 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.084 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.085 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.085 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.085 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.086 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.088 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.089 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.090 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.090 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.091 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.091 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.093 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.093 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.095 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.095 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.097 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.5194ms
2025-07-29 00:07:35.098 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.098 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.099 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.3344ms
2025-07-29 00:07:35.099 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.101 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.103 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.103 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.103 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 35.6239ms
2025-07-29 00:07:35.105 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.105 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 9.5187ms
2025-07-29 00:07:35.106 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 9.4968ms
2025-07-29 00:07:35.107 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 38.3909ms
2025-07-29 00:07:35.108 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:07:35.109 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.6782ms
2025-07-29 00:07:35.109 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.110 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.111 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:07:35.112 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.113 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 35.8718ms
2025-07-29 00:07:35.114 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 34.9059ms
2025-07-29 00:07:35.115 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.116 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 36.0911ms
2025-07-29 00:07:35.116 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.117 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:07:35.118 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:07:35.119 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.120 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:07:35.121 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.122 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.123 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.124 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.125 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:07:35.126 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.127 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.128 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:07:35.129 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.130 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.131 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.131 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.131 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.132 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.134 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.134 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.135 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:07:35.135 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.138 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 9.7834ms
2025-07-29 00:07:35.138 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.139 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.139 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 9.6549ms
2025-07-29 00:07:35.140 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.140 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:07:35.142 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.143 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.143 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.144 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 35.3897ms
2025-07-29 00:07:35.146 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:07:35.146 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 9.5084ms
2025-07-29 00:07:35.146 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 9.3693ms
2025-07-29 00:07:35.147 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 35.6218ms
2025-07-29 00:07:35.149 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.2438ms
2025-07-29 00:07:35.149 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.150 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.152 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:07:35.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 35.153ms
2025-07-29 00:07:35.153 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 34.4126ms
2025-07-29 00:07:35.153 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 33.358ms
2025-07-29 00:08:11.970 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:08:11.970 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:08:11.971 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.972 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.972 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.4598ms
2025-07-29 00:08:11.973 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.4524ms
2025-07-29 00:08:11.974 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:08:11.976 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:08:11.977 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.978 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.979 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:11.979 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:11.980 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:11.981 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:08:11.981 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:11.982 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:08:11.984 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:08:11.984 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:11.985 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:08:11.987 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:11.987 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:08:11.988 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.0373ms
2025-07-29 00:08:11.989 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:08:11.989 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:11.991 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 16.0423ms
2025-07-29 00:08:11.992 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:08:11.992 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:08:11.992 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:08:11.993 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:08:11.993 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:08:11.993 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:08:11.994 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:08:11.995 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.995 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.996 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.997 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:11.998 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.000 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 7.7938ms
2025-07-29 00:08:12.000 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 7.6407ms
2025-07-29 00:08:12.001 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.8699ms
2025-07-29 00:08:12.001 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:08:12.001 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 8.201ms
2025-07-29 00:08:12.001 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 8.5831ms
2025-07-29 00:08:12.003 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:08:12.004 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:08:12.005 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:08:12.007 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:08:12.008 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:08:12.009 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:08:12.010 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.011 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.012 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.013 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:08:12.013 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.014 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.015 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 11.9023ms
2025-07-29 00:08:12.015 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 11.1053ms
2025-07-29 00:08:12.016 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 10.348ms
2025-07-29 00:08:12.017 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 9.5426ms
2025-07-29 00:08:12.018 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 8.8143ms
2025-07-29 00:08:12.018 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:08:12.019 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:08:12.020 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:08:12.021 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:08:12.023 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:08:12.024 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:08:12.025 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:08:12.026 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.027 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.028 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.029 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.030 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.031 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 47.1388ms
2025-07-29 00:08:12.031 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 12.0479ms
2025-07-29 00:08:12.031 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 11.2282ms
2025-07-29 00:08:12.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.033 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:08:12.034 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:08:12.035 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:08:12.036 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.037 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.038 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.038 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 62.7248ms
2025-07-29 00:08:12.040 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.041 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.041 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.042 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.042 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.043 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:08:12.044 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.044 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.046 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.047 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.048 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.048 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.048 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.049 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.051 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.052 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.053 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.054 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.054 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.055 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.055 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.6175ms
2025-07-29 00:08:12.056 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.4338ms
2025-07-29 00:08:12.057 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.058 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.1819ms
2025-07-29 00:08:12.060 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.060 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.060 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.061 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.061 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.062 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.062 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 40.6786ms
2025-07-29 00:08:12.064 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.064 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 41.5024ms
2025-07-29 00:08:12.066 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.067 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 43.1203ms
2025-07-29 00:08:12.068 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:08:12.069 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.3575ms
2025-07-29 00:08:12.070 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:08:12.070 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.3379ms
2025-07-29 00:08:12.072 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:08:12.073 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.074 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.075 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.076 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.076 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.077 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.078 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.7045ms
2025-07-29 00:08:12.079 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 44.7144ms
2025-07-29 00:08:12.079 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.080 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 44.4611ms
2025-07-29 00:08:12.080 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.081 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.081 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.082 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:08:12.083 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.084 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:08:12.085 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.086 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.086 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 43.2371ms
2025-07-29 00:08:12.087 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.088 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.089 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.089 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.090 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.091 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:08:12.092 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.093 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.094 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.095 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.095 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.096 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.096 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.097 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.099 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.100 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.101 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.102 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.102 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.103 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.103 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.2305ms
2025-07-29 00:08:12.104 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.4025ms
2025-07-29 00:08:12.105 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.105 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.0953ms
2025-07-29 00:08:12.108 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.108 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.108 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.109 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.109 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:12.109 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.111 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.111 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 43.266ms
2025-07-29 00:08:12.113 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 43.4935ms
2025-07-29 00:08:12.115 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 42.966ms
2025-07-29 00:08:12.115 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.1466ms
2025-07-29 00:08:12.116 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:08:12.117 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.2308ms
2025-07-29 00:08:12.120 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.122 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:08:12.122 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.123 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.5687ms
2025-07-29 00:08:12.123 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.0886ms
2025-07-29 00:08:12.124 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 39.8513ms
2025-07-29 00:08:12.126 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:08:12.128 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 36.6061ms
2025-07-29 00:08:12.962 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - null null
2025-07-29 00:08:12.963 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.963 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users?role=Creator - 204 null null 1.5405ms
2025-07-29 00:08:12.965 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - application/json null
2025-07-29 00:08:12.966 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.967 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.968 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:08:12.969 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:08:12.970 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:08:12.971 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:08:12.972 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:12.973 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 3.3601ms
2025-07-29 00:08:12.974 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:08:12.974 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users?role=Creator - 200 null application/json; charset=utf-8 9.3204ms
2025-07-29 00:08:12.975 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - null null
2025-07-29 00:08:12.976 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - null null
2025-07-29 00:08:12.976 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - null null
2025-07-29 00:08:12.976 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - null null
2025-07-29 00:08:12.976 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-29 00:08:12.977 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.978 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.979 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.980 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.981 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.981 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 204 null null 5.8209ms
2025-07-29 00:08:12.982 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 204 null null 6.17ms
2025-07-29 00:08:12.982 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 204 null null 6.4446ms
2025-07-29 00:08:12.983 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 204 null null 6.9376ms
2025-07-29 00:08:12.983 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 7.2552ms
2025-07-29 00:08:12.984 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:08:12.986 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:08:12.987 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:08:12.988 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:08:12.990 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:08:12.991 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.992 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.993 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.994 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.995 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:12.996 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.996 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.996 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.997 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.997 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:12.998 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 13.318ms
2025-07-29 00:08:12.999 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 12.9249ms
2025-07-29 00:08:13.000 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 12.7364ms
2025-07-29 00:08:13.001 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 12.483ms
2025-07-29 00:08:13.002 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 12.229ms
2025-07-29 00:08:13.003 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:08:13.004 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:08:13.006 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:08:13.007 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:08:13.009 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:08:13.009 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - null null
2025-07-29 00:08:13.010 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - null null
2025-07-29 00:08:13.011 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - null null
2025-07-29 00:08:13.012 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:08:13.013 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - null null
2025-07-29 00:08:13.014 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.015 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.016 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.017 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.018 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.018 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 204 null null 8.5741ms
2025-07-29 00:08:13.018 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 204 null null 8.1566ms
2025-07-29 00:08:13.019 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 204 null null 7.7245ms
2025-07-29 00:08:13.019 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 7.2843ms
2025-07-29 00:08:13.020 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 204 null null 7.0516ms
2025-07-29 00:08:13.021 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:08:13.022 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:08:13.024 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:08:13.025 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:08:13.026 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:08:13.027 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.028 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.029 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.030 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.031 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.032 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.032 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.034 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.035 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.036 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.037 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.037 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.038 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.038 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.039 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.039 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.040 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.042 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.043 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.044 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.044 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.045 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.046 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.047 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.048 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.050 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.051 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.051 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.9629ms
2025-07-29 00:08:13.052 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.7048ms
2025-07-29 00:08:13.053 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.568ms
2025-07-29 00:08:13.053 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.5238ms
2025-07-29 00:08:13.054 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.3603ms
2025-07-29 00:08:13.055 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.055 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.056 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.056 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.057 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.057 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 36.2998ms
2025-07-29 00:08:13.058 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 35.4544ms
2025-07-29 00:08:13.058 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 34.6851ms
2025-07-29 00:08:13.059 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 34.0256ms
2025-07-29 00:08:13.060 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 33.2956ms
2025-07-29 00:08:13.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - application/json null
2025-07-29 00:08:13.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - application/json null
2025-07-29 00:08:13.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - application/json null
2025-07-29 00:08:13.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:08:13.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - application/json null
2025-07-29 00:08:13.069 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.070 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.071 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.072 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.073 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.074 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.074 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.074 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.075 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.075 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.076 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats - 404 0 null 8.026ms
2025-07-29 00:08:13.077 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats - 404 0 null 8.9708ms
2025-07-29 00:08:13.078 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats - 404 0 null 9.8972ms
2025-07-29 00:08:13.079 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 10.9005ms
2025-07-29 00:08:13.080 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats - 404 0 null 11.8926ms
2025-07-29 00:08:13.081 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/28b8e854-738a-4e69-835c-71299a8f9b21/instructor-stats, Response status code: 404
2025-07-29 00:08:13.083 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/801dc698-62a8-49c3-b578-b7c1b05049a4/instructor-stats, Response status code: 404
2025-07-29 00:08:13.084 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/instructor-stats, Response status code: 404
2025-07-29 00:08:13.085 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:08:13.086 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/instructor-stats, Response status code: 404
2025-07-29 00:08:13.087 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:08:13.088 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:08:13.089 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:08:13.089 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:08:13.090 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:08:13.091 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.092 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.093 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.094 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.095 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.096 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.096 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.097 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.097 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.097 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.098 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.099 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.100 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.101 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.101 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.102 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.102 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.103 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.103 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.104 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.106 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.107 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.108 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.109 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.112 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.113 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.114 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.116 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.117 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.118 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.119 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 14.2436ms
2025-07-29 00:08:13.119 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 14.1337ms
2025-07-29 00:08:13.120 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 13.8995ms
2025-07-29 00:08:13.121 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 13.6428ms
2025-07-29 00:08:13.121 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 13.2049ms
2025-07-29 00:08:13.122 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.122 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.123 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.123 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.124 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.125 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 37.5771ms
2025-07-29 00:08:13.125 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 37.414ms
2025-07-29 00:08:13.126 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 37.1799ms
2025-07-29 00:08:13.126 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 37.0315ms
2025-07-29 00:08:13.127 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 36.7894ms
2025-07-29 00:08:13.128 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - application/json null
2025-07-29 00:08:13.130 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - application/json null
2025-07-29 00:08:13.131 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - application/json null
2025-07-29 00:08:13.132 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - application/json null
2025-07-29 00:08:13.133 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:08:13.134 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.135 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.136 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.137 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.138 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:08:13.139 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.139 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.140 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.140 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.140 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:08:13.141 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.142 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.143 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.144 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.145 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.145 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.145 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.146 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.146 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.147 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:08:13.149 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.150 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.151 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.151 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.152 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:08:13.153 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.154 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.155 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.157 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.158 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:08:13.158 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.793ms
2025-07-29 00:08:13.159 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.655ms
2025-07-29 00:08:13.160 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.538ms
2025-07-29 00:08:13.160 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.4056ms
2025-07-29 00:08:13.161 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 10.2144ms
2025-07-29 00:08:13.162 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.162 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.163 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.163 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.164 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:08:13.164 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=efead752-f0b3-48ab-93b8-7ba31e7574ba - 200 null application/json; charset=utf-8 35.8091ms
2025-07-29 00:08:13.165 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=28b8e854-738a-4e69-835c-71299a8f9b21 - 200 null application/json; charset=utf-8 35.1343ms
2025-07-29 00:08:13.165 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=801dc698-62a8-49c3-b578-b7c1b05049a4 - 200 null application/json; charset=utf-8 34.3262ms
2025-07-29 00:08:13.166 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=e090c598-224f-4b4c-870a-3c3ef6303e0a - 200 null application/json; charset=utf-8 33.6071ms
2025-07-29 00:08:13.166 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 32.8581ms
2025-07-29 00:49:56.836 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:49:56.836 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:49:56.838 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.839 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.840 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 3.6ms
2025-07-29 00:49:56.840 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 3.8691ms
2025-07-29 00:49:56.842 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:49:56.844 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:49:56.846 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.847 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.847 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:49:56.847 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:49:56.848 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-29 00:49:56.848 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:49:56.849 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 401 0 null 6.3013ms
2025-07-29 00:49:56.901 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:49:56.903 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:49:56.904 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 54.3941ms
2025-07-29 00:49:56.905 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:49:56.906 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 61.0553ms
2025-07-29 00:49:56.944 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:49:56.945 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:49:56.946 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.947 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.947 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.4857ms
2025-07-29 00:49:56.947 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.8196ms
2025-07-29 00:49:56.949 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:49:56.950 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:49:56.951 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.952 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:56.954 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:56.955 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:49:56.956 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:49:56.959 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:49:56.961 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:49:56.961 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.5574ms
2025-07-29 00:49:56.962 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:49:56.963 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 13.8274ms
2025-07-29 00:49:56.996 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:56.997 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:49:56.997 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:49:56.999 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:49:57.001 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:49:57.002 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:49:57.004 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:49:57.006 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:49:57.009 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:49:57.011 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:49:57.013 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:49:57.015 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:49:57.017 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:49:57.018 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:49:57.019 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 20.3191ms
2025-07-29 00:49:57.019 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:49:57.020 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 69.8189ms
2025-07-29 00:49:59.091 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:49:59.091 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:49:59.092 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.093 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.094 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.7707ms
2025-07-29 00:49:59.094 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.1085ms
2025-07-29 00:49:59.096 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:49:59.097 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:49:59.098 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.099 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.101 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:59.101 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:59.102 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:49:59.103 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:49:59.104 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:49:59.106 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:49:59.107 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:49:59.108 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:49:59.109 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:49:59.110 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 4.0891ms
2025-07-29 00:49:59.110 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:49:59.111 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 14.8756ms
2025-07-29 00:49:59.112 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:49:59.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:49:59.114 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:49:59.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:49:59.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:49:59.115 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 3.0262ms
2025-07-29 00:49:59.115 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.116 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.117 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.118 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.119 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:49:59.120 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 6.1415ms
2025-07-29 00:49:59.121 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.7818ms
2025-07-29 00:49:59.121 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.9498ms
2025-07-29 00:49:59.122 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.2211ms
2025-07-29 00:49:59.122 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:49:59.123 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.129 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:49:59.124 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:49:59.125 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:49:59.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:49:59.128 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:49:59.130 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:59.131 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.132 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.133 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.133 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 25.3809ms
2025-07-29 00:49:59.134 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:49:59.135 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 15.4818ms
2025-07-29 00:49:59.136 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:59.136 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:59.137 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:49:59.139 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:49:59.140 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 15.6416ms
2025-07-29 00:49:59.141 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 15.4691ms
2025-07-29 00:49:59.141 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 44.0921ms
2025-07-29 00:49:59.144 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:49:59.145 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:49:59.181 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:59.182 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 55.1901ms
2025-07-29 00:49:59.183 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:49:59.292 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:49:59.293 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 164.844ms
2025-07-29 00:49:59.294 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:50:07.207 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:50:07.207 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:50:07.208 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.209 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.210 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.8387ms
2025-07-29 00:50:07.210 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.9796ms
2025-07-29 00:50:07.212 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:50:07.213 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:50:07.215 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.216 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:07.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:07.218 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:50:07.219 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:50:07.220 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:50:07.221 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:50:07.224 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:50:07.224 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:50:07.226 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:50:07.227 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:50:07.227 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:50:07.228 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 6.632ms
2025-07-29 00:50:07.229 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 6.2897ms
2025-07-29 00:50:07.229 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:50:07.230 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:50:07.231 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 18.7947ms
2025-07-29 00:50:07.231 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 17.8853ms
2025-07-29 00:50:07.233 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:50:07.233 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:50:07.233 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:50:07.233 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:50:07.234 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:50:07.235 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.236 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.238 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.239 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.240 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.240 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 7.5018ms
2025-07-29 00:50:07.241 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 7.9764ms
2025-07-29 00:50:07.241 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 8.2401ms
2025-07-29 00:50:07.242 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 8.6142ms
2025-07-29 00:50:07.242 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 8.0859ms
2025-07-29 00:50:07.244 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:50:07.245 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:50:07.246 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:50:07.248 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:50:07.249 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:50:07.250 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.251 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.252 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.253 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.254 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:07.256 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:07.256 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:07.256 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:07.256 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:07.257 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 12.2981ms
2025-07-29 00:50:07.258 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 14.5506ms
2025-07-29 00:50:07.259 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 13.1764ms
2025-07-29 00:50:07.261 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 13.0008ms
2025-07-29 00:50:07.262 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:50:07.263 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:50:07.265 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:50:07.266 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:50:07.299 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:07.300 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 51.5502ms
2025-07-29 00:50:07.302 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:50:10.268 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:50:10.269 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:10.269 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.7761ms
2025-07-29 00:50:10.271 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-29 00:50:10.272 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:10.274 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:10.275 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:50:10.275 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:50:10.277 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:50:10.325 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:50:10.327 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:50:10.327 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 51.2615ms
2025-07-29 00:50:10.328 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:50:10.328 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 57.1506ms
2025-07-29 00:50:10.350 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:50:10.351 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:50:10.352 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:10.353 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:10.353 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.5303ms
2025-07-29 00:50:10.353 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.9074ms
2025-07-29 00:50:10.356 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:50:10.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:50:10.358 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:10.359 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:10.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:10.361 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:10.362 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:50:10.363 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:50:10.363 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:50:10.364 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:50:10.365 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:50:10.367 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:50:10.368 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:50:10.368 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:50:10.370 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:50:10.371 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:50:10.372 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 6.9843ms
2025-07-29 00:50:10.373 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:50:10.374 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 16.6683ms
2025-07-29 00:50:10.376 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:50:10.380 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:50:10.382 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:50:10.383 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:50:10.386 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:50:10.388 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:50:10.389 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:50:10.390 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 25.8404ms
2025-07-29 00:50:10.391 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:50:10.391 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 35.7893ms
2025-07-29 00:50:21.673 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:50:21.674 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:50:21.675 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.676 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.676 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.7989ms
2025-07-29 00:50:21.677 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.0712ms
2025-07-29 00:50:21.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:50:21.679 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:50:21.681 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.682 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.683 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:21.683 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:21.684 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:50:21.685 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:50:21.685 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:50:21.686 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:50:21.687 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:50:21.689 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:50:21.690 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:50:21.690 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:50:21.691 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:50:21.692 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.2817ms
2025-07-29 00:50:21.692 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.7326ms
2025-07-29 00:50:21.693 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:50:21.693 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:50:21.694 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 14.3433ms
2025-07-29 00:50:21.694 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 16.0861ms
2025-07-29 00:50:21.696 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:50:21.696 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:50:21.696 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:50:21.696 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:50:21.697 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:50:21.698 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.699 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.700 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.701 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.702 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.702 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.5237ms
2025-07-29 00:50:21.703 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.8081ms
2025-07-29 00:50:21.703 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.1811ms
2025-07-29 00:50:21.703 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 7.4479ms
2025-07-29 00:50:21.704 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 6.7687ms
2025-07-29 00:50:21.706 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:50:21.707 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:50:21.708 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:50:21.709 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:50:21.710 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:50:21.711 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.712 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.713 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.714 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.715 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:21.716 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:21.716 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:21.716 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:21.717 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:21.717 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:21.718 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 12.081ms
2025-07-29 00:50:21.719 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.8767ms
2025-07-29 00:50:21.720 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 11.5797ms
2025-07-29 00:50:21.721 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.4844ms
2025-07-29 00:50:21.722 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.3688ms
2025-07-29 00:50:21.723 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:50:21.724 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:50:21.726 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:50:21.727 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:50:21.728 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:50:59.648 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:50:59.648 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:50:59.649 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.650 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.651 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 3.6359ms
2025-07-29 00:50:59.652 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 3.9905ms
2025-07-29 00:50:59.654 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:50:59.656 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:50:59.658 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.660 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.660 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:50:59.661 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:50:59.662 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:50:59.662 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-29 00:50:59.664 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 401 0 null 7.4399ms
2025-07-29 00:50:59.665 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:50:59.668 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:50:59.668 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8873ms
2025-07-29 00:50:59.669 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:50:59.669 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 15.2845ms
2025-07-29 00:50:59.674 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:50:59.675 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:50:59.676 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.677 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.677 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.5953ms
2025-07-29 00:50:59.677 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.769ms
2025-07-29 00:50:59.679 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:50:59.680 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:50:59.681 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.682 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:50:59.683 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:59.683 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:50:59.684 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:50:59.685 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:50:59.685 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:50:59.686 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:50:59.688 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:50:59.689 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:50:59.689 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:50:59.691 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:50:59.692 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:50:59.692 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.883ms
2025-07-29 00:50:59.694 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:50:59.694 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:50:59.695 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 16.452ms
2025-07-29 00:50:59.698 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:50:59.700 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:50:59.702 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:50:59.703 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:50:59.705 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:50:59.706 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:50:59.707 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:50:59.708 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 20.9659ms
2025-07-29 00:50:59.709 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:50:59.709 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 29.3059ms
2025-07-29 00:51:03.025 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-29 00:51:03.026 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:03.027 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.5992ms
2025-07-29 00:51:03.029 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-29 00:51:03.029 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:03.031 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:03.032 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:51:03.032 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:51:03.035 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-29 00:51:03.037 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
UPDATE "RefreshTokens" SET "RevokedAt" = @p2
WHERE "Id" = @p3;
2025-07-29 00:51:03.048 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:51:03.049 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 15.9454ms
2025-07-29 00:51:03.050 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:51:03.050 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 21.9049ms
2025-07-29 00:51:03.061 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:51:03.061 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:51:03.062 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:03.063 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:03.063 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:03.064 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:51:03.064 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:51:03.065 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-29 00:51:03.066 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 401 0 null 4.9473ms
2025-07-29 00:51:03.068 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:51:03.070 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:03.071 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.3601ms
2025-07-29 00:51:03.072 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:03.072 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.5735ms
2025-07-29 00:51:04.890 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:51:04.891 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.892 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.5216ms
2025-07-29 00:51:04.893 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-29 00:51:04.894 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.895 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:51:04.895 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:51:04.897 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:51:04.944 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:51:04.946 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:51:04.947 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 50.9436ms
2025-07-29 00:51:04.947 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:51:04.948 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 54.7848ms
2025-07-29 00:51:04.972 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:51:04.972 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:51:04.973 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.974 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.9873ms
2025-07-29 00:51:04.975 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 3.1545ms
2025-07-29 00:51:04.976 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:51:04.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:51:04.979 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.980 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:04.981 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:04.982 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:04.983 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:51:04.984 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:51:04.985 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-29 00:51:04.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 403 0 null 8.4435ms
2025-07-29 00:51:04.987 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:51:04.990 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:04.990 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.1614ms
2025-07-29 00:51:04.991 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:04.992 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 15.5123ms
2025-07-29 00:51:04.994 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-29 00:51:04.995 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.995 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 1.4477ms
2025-07-29 00:51:04.997 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:51:04.998 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:04.999 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:05.000 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 3.3477ms
2025-07-29 00:51:05.001 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:51:05.013 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:51:05.014 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:05.015 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 1.6583ms
2025-07-29 00:51:05.016 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:51:05.017 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:05.018 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:05.019 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:05.020 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:51:05.022 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:51:05.024 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:05.025 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8215ms
2025-07-29 00:51:05.026 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:05.026 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 10.3829ms
2025-07-29 00:51:07.111 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:51:07.112 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.113 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 1.7195ms
2025-07-29 00:51:07.114 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:51:07.115 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.117 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:07.118 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:51:07.118 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-29 00:51:07.119 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 403 0 null 4.4688ms
2025-07-29 00:51:07.120 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:51:07.121 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.123 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:07.124 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:07.124 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:51:07.128 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:51:07.130 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:07.130 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.5082ms
2025-07-29 00:51:07.131 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:07.132 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.363ms
2025-07-29 00:51:07.133 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:51:07.134 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.135 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:07.136 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:51:07.137 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-29 00:51:07.137 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 403 0 null 4.1815ms
2025-07-29 00:51:07.144 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:51:07.145 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.146 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:51:07.146 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:51:07.147 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:07.147 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.148 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.149 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:51:07.149 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 3.4041ms
2025-07-29 00:51:07.149 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 3.207ms
2025-07-29 00:51:07.150 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-29 00:51:07.151 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:51:07.152 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:51:07.153 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 403 0 null 8.9349ms
2025-07-29 00:51:07.154 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.155 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:07.158 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:07.158 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:07.159 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-29 00:51:07.160 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:07.162 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-07-29 00:51:07.162 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:51:07.169 +08:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-29 00:51:07.173 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-29 00:51:07.179 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0
2025-07-29 00:51:07.183 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", s."Id", s."AverageQuizScore", s."CertificateIssued", s."CertificateUrl", s."CompletedAt", s."CompletedLessons", s."CourseId", s."EnrolledAt", s."LastAccessedDate", s."ProgressPercentage", s."QuizCount", s."StudentId", s."TotalTimeSpent", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId"
FROM "Courses" AS c
LEFT JOIN (
    SELECT e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "Enrollments" AS e
    INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
) AS s ON c."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
WHERE c."InstructorId" = @__instructorId_0
ORDER BY c."Id", s."Id", s."Id0"
2025-07-29 00:51:07.184 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:07.187 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.191 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
WHERE c."InstructorId" = @__instructorId_0 AND p."Status" = 'Completed'
2025-07-29 00:51:07.191 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.194 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:07.195 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.197 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.198 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:07.199 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s."Amount"), 0.0) AS "Revenue"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0 AND p."Status" = 'Completed' AND p."CreatedAt" >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-07-29 00:51:07.200 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.201 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.203 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:07.204 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.206 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:07.206 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.208 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:07.208 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:07.209 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.210 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:07.211 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:07.212 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:07.213 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-07-29 00:51:07.214 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:07.216 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 53.5899ms
2025-07-29 00:51:07.217 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-29 00:51:07.217 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 66.0515ms
2025-07-29 00:51:07.226 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s."Title", s."EnrolledAt"
FROM (
    SELECT e."EnrolledAt", e."StudentId", c."Title"
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0
    ORDER BY e."EnrolledAt" DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."StudentId" = a."Id"
ORDER BY s."EnrolledAt" DESC
2025-07-29 00:51:07.231 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s."Title", s."CreatedAt", s."Rating"
FROM (
    SELECT r."CreatedAt", r."Rating", r."StudentId", c."Title"
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c ON r."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0
    ORDER BY r."CreatedAt" DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."StudentId" = a."Id"
ORDER BY s."CreatedAt" DESC
2025-07-29 00:51:07.233 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`5[[<>f__AnonymousType8`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:51:07.239 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 75.2981ms
2025-07-29 00:51:07.240 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:07.241 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 88.2254ms
2025-07-29 00:51:12.510 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:51:12.512 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:12.512 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 1.6794ms
2025-07-29 00:51:12.513 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:51:12.515 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:12.516 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:12.517 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-29 00:51:12.518 +08:00 [INF] Route matched with {action = "GetInstructorRevenue", controller = "Revenue"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorRevenue(System.String) on controller CeceLearningPortal.Api.Controllers.RevenueController (CeceLearningPortal.Api).
2025-07-29 00:51:12.520 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-07-29 00:51:12.522 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
FROM "Courses" AS c
WHERE c."InstructorId" = @__instructorId_0
2025-07-29 00:51:12.524 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:12.526 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.527 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:12.530 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.533 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:12.534 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.535 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.537 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:12.538 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.540 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.541 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0
2025-07-29 00:51:12.543 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND NOT EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.544 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
WHERE e."CourseId" = @__courseId_0 AND EXISTS (
    SELECT 1
    FROM "Subscriptions" AS s
    WHERE s."UserId" = e."StudentId" AND s."Status" = 'Active' AND s."StartDate" <= e."EnrolledAt")
2025-07-29 00:51:12.545 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.InstructorRevenueDto'.
2025-07-29 00:51:12.546 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api) in 27.0271ms
2025-07-29 00:51:12.546 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.RevenueController.GetInstructorRevenue (CeceLearningPortal.Api)'
2025-07-29 00:51:12.547 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/revenue/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 33.3029ms
2025-07-29 00:51:12.548 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:51:12.549 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:12.550 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 1.3924ms
2025-07-29 00:51:12.551 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:51:12.552 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:12.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:12.554 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:12.554 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:51:12.557 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", s."Id", s."AverageQuizScore", s."CertificateIssued", s."CertificateUrl", s."CompletedAt", s."CompletedLessons", s."CourseId", s."EnrolledAt", s."LastAccessedDate", s."ProgressPercentage", s."QuizCount", s."StudentId", s."TotalTimeSpent", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId"
FROM "Courses" AS c
LEFT JOIN (
    SELECT e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "Enrollments" AS e
    INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
) AS s ON c."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
WHERE c."InstructorId" = @__instructorId_0
ORDER BY c."Id", s."Id", s."Id0"
2025-07-29 00:51:12.559 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
WHERE c."InstructorId" = @__instructorId_0 AND p."Status" = 'Completed'
2025-07-29 00:51:12.560 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s."Amount"), 0.0) AS "Revenue"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0 AND p."Status" = 'Completed' AND p."CreatedAt" >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-07-29 00:51:12.561 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:12.563 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:12.564 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:12.565 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:12.566 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:12.568 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s."Title", s."EnrolledAt"
FROM (
    SELECT e."EnrolledAt", e."StudentId", c."Title"
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0
    ORDER BY e."EnrolledAt" DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."StudentId" = a."Id"
ORDER BY s."EnrolledAt" DESC
2025-07-29 00:51:12.569 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s."Title", s."CreatedAt", s."Rating"
FROM (
    SELECT r."CreatedAt", r."Rating", r."StudentId", c."Title"
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c ON r."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0
    ORDER BY r."CreatedAt" DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."StudentId" = a."Id"
ORDER BY s."CreatedAt" DESC
2025-07-29 00:51:12.570 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`5[[<>f__AnonymousType8`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:51:12.571 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 15.8605ms
2025-07-29 00:51:12.572 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:12.573 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 22.2033ms
2025-07-29 00:51:14.579 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:51:14.580 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:14.581 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:14.582 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:14.583 +08:00 [INF] Route matched with {action = "GetInstructorAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInstructorAnalytics(System.String) on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:51:14.585 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", s."Id", s."AverageQuizScore", s."CertificateIssued", s."CertificateUrl", s."CompletedAt", s."CompletedLessons", s."CourseId", s."EnrolledAt", s."LastAccessedDate", s."ProgressPercentage", s."QuizCount", s."StudentId", s."TotalTimeSpent", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status", s."TwoFactorEnabled", s."UserName", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId"
FROM "Courses" AS c
LEFT JOIN (
    SELECT e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "Enrollments" AS e
    INNER JOIN "AspNetUsers" AS a ON e."StudentId" = a."Id"
) AS s ON c."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c."Id" = r."CourseId"
WHERE c."InstructorId" = @__instructorId_0
ORDER BY c."Id", s."Id", s."Id0"
2025-07-29 00:51:14.588 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
WHERE c."InstructorId" = @__instructorId_0 AND p."Status" = 'Completed'
2025-07-29 00:51:14.590 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?', @__twelveMonthsAgo_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Year", s."Month", COALESCE(sum(s."Amount"), 0.0) AS "Revenue"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0 AND p."Status" = 'Completed' AND p."CreatedAt" >= @__twelveMonthsAgo_1
) AS s
GROUP BY s."Year", s."Month"
ORDER BY s."Year", s."Month"
2025-07-29 00:51:14.591 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:14.592 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:14.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:14.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:14.596 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__c_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."CourseId" = @__c_Id_0 AND p."Status" = 'Completed'
2025-07-29 00:51:14.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s."Title", s."EnrolledAt"
FROM (
    SELECT e."EnrolledAt", e."StudentId", c."Title"
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c ON e."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0
    ORDER BY e."EnrolledAt" DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."StudentId" = a."Id"
ORDER BY s."EnrolledAt" DESC
2025-07-29 00:51:14.599 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__instructorId_0='?', @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."FullName", s."Title", s."CreatedAt", s."Rating"
FROM (
    SELECT r."CreatedAt", r."Rating", r."StudentId", c."Title"
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c ON r."CourseId" = c."Id"
    WHERE c."InstructorId" = @__instructorId_0
    ORDER BY r."CreatedAt" DESC
    LIMIT @__p_1
) AS s
INNER JOIN "AspNetUsers" AS a ON s."StudentId" = a."Id"
ORDER BY s."CreatedAt" DESC
2025-07-29 00:51:14.600 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`5[[<>f__AnonymousType8`6[[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:51:14.601 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api) in 17.5231ms
2025-07-29 00:51:14.602 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetInstructorAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:14.602 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/instructor/f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 23.4356ms
2025-07-29 00:51:19.049 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-29 00:51:19.050 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.051 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 1.6571ms
2025-07-29 00:51:19.052 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-29 00:51:19.054 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.055 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:19.056 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:51:19.057 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:51:19.059 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-29 00:51:19.070 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
2025-07-29 00:51:19.072 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:51:19.073 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 15.2584ms
2025-07-29 00:51:19.074 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:51:19.074 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 21.7226ms
2025-07-29 00:51:19.110 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:51:19.112 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.113 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.1879ms
2025-07-29 00:51:19.115 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:51:19.116 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.116 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:51:19.117 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-29 00:51:19.117 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 401 0 null 2.8534ms
2025-07-29 00:51:19.132 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:51:19.133 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.134 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.5436ms
2025-07-29 00:51:19.136 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:51:19.137 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.138 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:19.138 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:51:19.141 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:51:19.144 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:19.144 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.1964ms
2025-07-29 00:51:19.145 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:19.145 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 9.5035ms
2025-07-29 00:51:19.147 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:51:19.148 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.148 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.3675ms
2025-07-29 00:51:19.150 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:51:19.151 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:19.151 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:51:19.151 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-29 00:51:19.152 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 401 0 null 2.337ms
2025-07-29 00:51:21.536 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:51:21.538 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:21.538 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.9624ms
2025-07-29 00:51:21.540 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-29 00:51:21.542 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:21.542 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:51:21.543 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:51:21.545 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:51:21.592 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:51:21.593 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:51:21.594 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 50.1829ms
2025-07-29 00:51:21.594 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:51:21.595 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 54.6431ms
2025-07-29 00:51:21.606 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:51:21.606 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:51:21.607 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:21.609 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:21.609 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.9135ms
2025-07-29 00:51:21.609 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 3.1053ms
2025-07-29 00:51:21.611 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:51:21.613 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:51:21.614 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:21.615 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:21.616 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:21.616 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:21.617 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:21.618 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:21.619 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:51:21.619 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:51:21.621 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:51:21.623 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:51:21.623 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:51:21.624 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:51:21.626 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:21.627 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:51:21.627 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 6.0097ms
2025-07-29 00:51:21.629 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:21.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 17.8842ms
2025-07-29 00:51:21.630 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:51:21.633 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:51:21.635 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:51:21.636 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:51:21.637 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:51:21.639 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:51:21.640 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:51:21.641 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 20.8309ms
2025-07-29 00:51:21.642 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:21.642 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 29.8417ms
2025-07-29 00:51:23.583 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:51:23.584 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.584 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 1.6617ms
2025-07-29 00:51:23.585 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:51:23.586 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:51:23.587 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.588 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.589 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.5247ms
2025-07-29 00:51:23.590 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:23.591 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:51:23.592 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:51:23.593 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.594 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:51:23.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:23.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:51:23.596 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:51:23.597 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:51:23.597 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:51:23.598 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:23.600 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 4.9691ms
2025-07-29 00:51:23.600 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:51:23.601 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:51:23.602 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:23.602 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 16.9543ms
2025-07-29 00:51:23.603 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.7231ms
2025-07-29 00:51:23.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:51:23.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:51:23.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:51:23.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:51:23.604 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:51:23.605 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:51:23.607 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.608 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.609 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.610 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.611 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.612 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 20.9321ms
2025-07-29 00:51:23.612 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 8.778ms
2025-07-29 00:51:23.613 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 8.5236ms
2025-07-29 00:51:23.613 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 8.8414ms
2025-07-29 00:51:23.614 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 9.0991ms
2025-07-29 00:51:23.614 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 9.5464ms
2025-07-29 00:51:23.617 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:51:23.618 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:51:23.619 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:51:23.620 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:51:23.622 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:51:23.623 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.624 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.625 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.626 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.626 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:23.628 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:23.628 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:23.628 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:23.628 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:23.629 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:23.629 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 12.4209ms
2025-07-29 00:51:23.630 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 12.2564ms
2025-07-29 00:51:23.631 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 12.0734ms
2025-07-29 00:51:23.632 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.8797ms
2025-07-29 00:51:23.633 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.4456ms
2025-07-29 00:51:23.634 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:51:23.636 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:51:23.637 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:51:23.638 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:51:23.640 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:51:28.180 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:51:28.180 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:51:28.181 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.182 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.183 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 3.0851ms
2025-07-29 00:51:28.183 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.3041ms
2025-07-29 00:51:28.185 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:51:28.186 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:51:28.187 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.188 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.190 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:28.190 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:28.191 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:51:28.192 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:51:28.193 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:51:28.193 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:51:28.195 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:51:28.195 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:51:28.196 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:28.198 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:51:28.198 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.1852ms
2025-07-29 00:51:28.199 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:28.200 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:51:28.200 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.5899ms
2025-07-29 00:51:28.201 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 16.302ms
2025-07-29 00:51:28.202 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:51:28.204 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 17.8471ms
2025-07-29 00:51:28.206 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:51:28.206 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:51:28.206 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:51:28.206 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:51:28.206 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:51:28.207 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.208 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.209 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.210 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.212 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.212 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 6.5003ms
2025-07-29 00:51:28.212 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 6.8903ms
2025-07-29 00:51:28.213 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 7.2625ms
2025-07-29 00:51:28.213 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 7.4211ms
2025-07-29 00:51:28.214 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.7876ms
2025-07-29 00:51:28.215 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:51:28.216 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:51:28.218 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:51:28.219 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:51:28.220 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:51:28.221 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.222 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.223 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.224 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.226 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:28.227 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:28.227 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:28.227 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:28.228 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:28.228 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:28.229 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 13.3358ms
2025-07-29 00:51:28.230 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 13.1438ms
2025-07-29 00:51:28.231 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 13.0378ms
2025-07-29 00:51:28.232 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 13.0123ms
2025-07-29 00:51:28.233 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 12.8959ms
2025-07-29 00:51:28.234 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:51:28.235 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:51:28.236 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:51:28.238 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:51:28.239 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:51:34.271 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:51:34.272 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:34.273 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.1194ms
2025-07-29 00:51:34.274 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-29 00:51:34.276 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:34.277 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:34.278 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:51:34.278 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:51:34.280 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:51:34.327 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:51:34.329 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:51:34.329 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 50.2797ms
2025-07-29 00:51:34.330 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:51:34.331 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 56.1108ms
2025-07-29 00:51:34.352 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:51:34.352 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:51:34.353 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:34.354 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:34.354 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.6621ms
2025-07-29 00:51:34.355 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.6072ms
2025-07-29 00:51:34.357 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:51:34.358 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:51:34.360 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:34.361 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:34.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:34.362 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:34.363 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:34.365 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:34.365 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:51:34.366 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:51:34.367 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:51:34.369 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:51:34.369 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:51:34.370 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:51:34.371 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:34.372 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:51:34.373 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 6.4786ms
2025-07-29 00:51:34.374 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:51:34.375 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 16.7742ms
2025-07-29 00:51:34.375 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:51:34.379 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:51:34.381 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:51:34.382 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:51:34.384 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:51:34.385 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:51:34.386 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:51:34.387 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.8138ms
2025-07-29 00:51:34.387 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:51:34.388 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 30.9678ms
2025-07-29 00:51:36.169 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:51:36.170 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:51:36.171 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.172 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.173 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 3.5689ms
2025-07-29 00:51:36.173 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.8006ms
2025-07-29 00:51:36.175 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:51:36.176 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:51:36.177 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.178 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.180 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:36.180 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:36.180 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:51:36.181 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:51:36.182 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:51:36.182 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:51:36.184 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:51:36.184 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:51:36.185 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:36.186 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:51:36.186 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.2282ms
2025-07-29 00:51:36.187 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:51:36.188 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:51:36.189 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 4.8807ms
2025-07-29 00:51:36.189 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 13.9849ms
2025-07-29 00:51:36.190 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:51:36.192 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.1415ms
2025-07-29 00:51:36.193 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:51:36.194 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:51:36.194 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:51:36.194 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:51:36.194 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:51:36.194 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.195 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.196 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.197 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.198 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.199 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 5.5371ms
2025-07-29 00:51:36.199 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.2982ms
2025-07-29 00:51:36.199 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 5.2087ms
2025-07-29 00:51:36.200 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 5.5542ms
2025-07-29 00:51:36.200 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 5.8841ms
2025-07-29 00:51:36.201 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:51:36.203 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:51:36.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:51:36.206 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:51:36.207 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:51:36.208 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.209 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.210 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.211 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.212 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:51:36.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:36.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:36.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:36.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:36.214 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:51:36.214 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.705ms
2025-07-29 00:51:36.215 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 13.8785ms
2025-07-29 00:51:36.216 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 12.268ms
2025-07-29 00:51:36.217 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.7016ms
2025-07-29 00:51:36.218 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.2588ms
2025-07-29 00:51:36.220 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:51:36.221 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:51:36.222 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:51:36.224 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:51:36.225 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:52:18.972 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:52:18.972 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:52:18.974 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:18.975 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:18.976 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 3.4019ms
2025-07-29 00:52:18.976 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.5619ms
2025-07-29 00:52:18.978 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:52:18.979 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:52:18.981 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:18.983 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:18.984 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:18.984 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:18.985 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:18.987 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:18.987 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:18.988 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:18.990 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:52:18.992 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:52:18.992 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:52:18.994 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:18.995 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:18.995 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.9458ms
2025-07-29 00:52:18.996 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 7.1397ms
2025-07-29 00:52:18.997 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:18.998 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:18.999 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 20.8899ms
2025-07-29 00:52:18.999 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 19.7309ms
2025-07-29 00:52:19.001 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:52:19.001 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:52:19.001 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:52:19.001 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:52:19.002 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:52:19.003 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.004 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.005 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.007 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.008 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.009 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 7.9969ms
2025-07-29 00:52:19.009 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 8.3176ms
2025-07-29 00:52:19.010 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 8.8824ms
2025-07-29 00:52:19.010 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 8.9847ms
2025-07-29 00:52:19.011 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 8.7331ms
2025-07-29 00:52:19.013 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:52:19.014 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:52:19.016 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:52:19.017 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:52:19.018 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:52:19.019 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.020 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.021 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.023 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.024 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:19.025 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:19.025 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:19.026 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:19.026 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:19.026 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:19.027 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 14.1178ms
2025-07-29 00:52:19.028 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 13.7705ms
2025-07-29 00:52:19.029 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 13.5403ms
2025-07-29 00:52:19.030 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 13.2478ms
2025-07-29 00:52:19.031 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 13.116ms
2025-07-29 00:52:19.033 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:52:19.034 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:52:19.035 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:52:19.037 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:52:19.038 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:52:24.979 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:52:24.980 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:24.981 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 2.2641ms
2025-07-29 00:52:24.983 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-29 00:52:24.984 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:24.985 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:24.986 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:52:24.987 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:52:24.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:52:25.036 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:52:25.038 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:52:25.039 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 51.149ms
2025-07-29 00:52:25.039 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:52:25.040 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 57.5243ms
2025-07-29 00:52:25.058 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:52:25.059 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:52:25.060 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:25.061 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:25.061 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.6456ms
2025-07-29 00:52:25.062 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 3.0358ms
2025-07-29 00:52:25.064 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:52:25.066 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:52:25.067 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:25.068 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:25.075 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:25.075 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:25.077 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:52:25.078 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:25.079 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:52:25.079 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:25.081 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:52:25.083 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:52:25.084 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:52:25.085 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:52:25.087 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:25.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:52:25.088 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 7.1958ms
2025-07-29 00:52:25.090 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:25.091 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 25.4413ms
2025-07-29 00:52:25.091 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:52:25.095 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:52:25.097 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:52:25.099 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:52:25.100 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:52:25.102 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:52:25.103 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:52:25.104 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 23.4016ms
2025-07-29 00:52:25.104 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:52:25.105 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 41.112ms
2025-07-29 00:52:31.207 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:52:31.207 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:52:31.209 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.210 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.210 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.8186ms
2025-07-29 00:52:31.211 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.2422ms
2025-07-29 00:52:31.212 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:52:31.213 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:52:31.215 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.216 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:31.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:31.218 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:31.219 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:31.219 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:31.220 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:31.221 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:52:31.222 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:52:31.223 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:31.225 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:52:31.225 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.1816ms
2025-07-29 00:52:31.226 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:31.226 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:31.227 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.3987ms
2025-07-29 00:52:31.227 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 15.2259ms
2025-07-29 00:52:31.228 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:31.230 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 16.2951ms
2025-07-29 00:52:31.231 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:52:31.231 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:52:31.231 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:52:31.231 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:52:31.231 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:52:31.232 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.233 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.234 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.235 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.237 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.237 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.817ms
2025-07-29 00:52:31.237 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.1677ms
2025-07-29 00:52:31.238 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 6.3896ms
2025-07-29 00:52:31.238 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.7841ms
2025-07-29 00:52:31.238 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.084ms
2025-07-29 00:52:31.240 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:52:31.241 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:52:31.243 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:52:31.244 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:52:31.245 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:52:31.246 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.247 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.248 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.249 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.250 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:31.251 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:31.251 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:31.251 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:31.251 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:31.252 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:31.252 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 12.247ms
2025-07-29 00:52:31.253 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 11.8452ms
2025-07-29 00:52:31.254 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.507ms
2025-07-29 00:52:31.255 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.2895ms
2025-07-29 00:52:31.256 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.3161ms
2025-07-29 00:52:31.258 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:52:31.259 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:52:31.260 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:52:31.261 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:52:31.263 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:52:38.114 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:52:38.115 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.116 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.7067ms
2025-07-29 00:52:38.117 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:52:38.118 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.119 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.120 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:38.121 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.123 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:52:38.125 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:38.126 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.461ms
2025-07-29 00:52:38.127 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:38.127 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 9.9655ms
2025-07-29 00:52:38.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:52:38.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:52:38.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:52:38.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:52:38.129 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:52:38.130 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.130 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:52:38.131 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.132 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.133 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.134 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.134 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 5.3919ms
2025-07-29 00:52:38.135 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.135 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.5655ms
2025-07-29 00:52:38.136 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 6.8659ms
2025-07-29 00:52:38.136 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.0508ms
2025-07-29 00:52:38.137 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.4391ms
2025-07-29 00:52:38.138 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:52:38.138 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.2461ms
2025-07-29 00:52:38.140 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:52:38.141 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:52:38.142 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:52:38.144 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:52:38.145 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.146 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:52:38.146 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.148 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.149 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.150 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.150 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.0108ms
2025-07-29 00:52:38.151 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.151 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.5331ms
2025-07-29 00:52:38.152 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.3625ms
2025-07-29 00:52:38.152 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.5812ms
2025-07-29 00:52:38.152 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 8.8408ms
2025-07-29 00:52:38.154 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:52:38.154 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.4295ms
2025-07-29 00:52:38.155 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:52:38.157 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:52:38.158 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:52:38.159 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:52:38.160 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.162 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:52:38.163 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.163 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.164 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.165 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.167 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.167 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.167 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.168 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.168 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.168 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.169 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.170 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.170 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.171 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.172 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.173 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.173 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.174 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.175 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.175 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.176 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.176 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.177 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.179 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.180 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.181 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.182 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.183 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.184 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.186 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.187 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.189 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.189 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7087ms
2025-07-29 00:52:38.191 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.5213ms
2025-07-29 00:52:38.191 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.5509ms
2025-07-29 00:52:38.192 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.4662ms
2025-07-29 00:52:38.193 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.4088ms
2025-07-29 00:52:38.193 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.194 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.195 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.195 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.196 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.197 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 43.0308ms
2025-07-29 00:52:38.197 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 42.1606ms
2025-07-29 00:52:38.198 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 41.227ms
2025-07-29 00:52:38.199 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 40.4429ms
2025-07-29 00:52:38.199 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 39.7827ms
2025-07-29 00:52:38.200 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:52:38.202 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:52:38.203 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:52:38.204 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:52:38.205 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:52:38.206 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.208 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.209 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.210 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.211 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.212 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.212 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.212 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.212 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.213 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.213 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.214 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.215 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.216 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.217 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.217 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.218 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.218 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.218 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.219 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.221 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.222 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.222 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.223 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.224 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.225 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.226 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.228 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.229 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.231 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.231 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.4522ms
2025-07-29 00:52:38.232 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.2484ms
2025-07-29 00:52:38.232 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.0685ms
2025-07-29 00:52:38.233 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.8855ms
2025-07-29 00:52:38.233 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.7094ms
2025-07-29 00:52:38.234 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.234 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.235 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.235 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.236 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.236 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 34.8124ms
2025-07-29 00:52:38.237 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 36.5788ms
2025-07-29 00:52:38.238 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 34.7096ms
2025-07-29 00:52:38.238 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 34.0228ms
2025-07-29 00:52:38.239 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 33.4051ms
2025-07-29 00:52:38.240 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:52:38.246 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:38.247 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:38.248 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.249 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:38.251 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.253 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.253 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 3.6938ms
2025-07-29 00:52:38.254 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.254 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 13.9709ms
2025-07-29 00:52:38.331 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:38.333 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:38.333 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 152.3892ms
2025-07-29 00:52:38.334 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:38.335 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 172.9775ms
2025-07-29 00:52:39.836 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:52:39.838 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:39.839 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 2.4819ms
2025-07-29 00:52:39.841 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:52:39.842 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:39.843 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:39.844 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.6857ms
2025-07-29 00:52:39.846 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:52:42.023 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:52:42.023 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:52:42.024 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.025 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.025 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.6606ms
2025-07-29 00:52:42.026 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.6717ms
2025-07-29 00:52:42.027 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:52:42.028 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:52:42.029 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.030 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.031 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:42.031 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:42.032 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:42.033 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:42.033 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:42.034 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:42.035 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:52:42.036 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:52:42.036 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:42.038 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:52:42.038 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.3694ms
2025-07-29 00:52:42.039 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:42.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:42.040 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 13.3036ms
2025-07-29 00:52:42.041 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.7846ms
2025-07-29 00:52:42.043 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:42.043 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.2278ms
2025-07-29 00:52:42.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:52:42.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:52:42.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:52:42.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:52:42.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:52:42.046 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.047 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.048 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.049 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.050 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.050 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 5.1755ms
2025-07-29 00:52:42.050 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.5659ms
2025-07-29 00:52:42.051 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 5.8365ms
2025-07-29 00:52:42.051 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.1375ms
2025-07-29 00:52:42.052 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 6.5538ms
2025-07-29 00:52:42.053 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:52:42.054 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:52:42.055 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:52:42.056 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:52:42.058 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:52:42.059 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.060 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.061 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.062 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.062 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:42.064 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:42.064 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:42.064 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:42.064 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:42.065 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:42.065 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.221ms
2025-07-29 00:52:42.066 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 13.2607ms
2025-07-29 00:52:42.067 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 12.0409ms
2025-07-29 00:52:42.068 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.711ms
2025-07-29 00:52:42.069 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.1671ms
2025-07-29 00:52:42.070 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:52:42.071 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:52:42.073 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:52:42.074 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:52:42.075 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:52:43.699 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:52:43.701 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.701 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.6245ms
2025-07-29 00:52:43.702 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:52:43.703 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.705 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.707 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:43.707 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.710 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:52:43.712 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:43.713 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.6434ms
2025-07-29 00:52:43.713 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:43.714 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.326ms
2025-07-29 00:52:43.715 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:52:43.715 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:52:43.715 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:52:43.715 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:52:43.715 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:52:43.716 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:52:43.716 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.717 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.718 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.719 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.720 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.721 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.721 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.1416ms
2025-07-29 00:52:43.722 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 6.4596ms
2025-07-29 00:52:43.722 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 6.7109ms
2025-07-29 00:52:43.722 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.0187ms
2025-07-29 00:52:43.723 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.3317ms
2025-07-29 00:52:43.723 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 7.6998ms
2025-07-29 00:52:43.725 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:52:43.726 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:52:43.727 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:52:43.728 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:52:43.730 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:52:43.731 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:52:43.732 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.733 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.734 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.735 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.735 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.736 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.737 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 11.9215ms
2025-07-29 00:52:43.737 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 10.9708ms
2025-07-29 00:52:43.738 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.2121ms
2025-07-29 00:52:43.738 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.4068ms
2025-07-29 00:52:43.738 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 8.6206ms
2025-07-29 00:52:43.739 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 7.79ms
2025-07-29 00:52:43.740 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:52:43.741 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:52:43.743 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:52:43.744 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:52:43.745 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:52:43.746 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:52:43.747 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.748 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.749 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.750 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.751 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.752 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.753 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.753 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.753 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.759 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.756 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.757 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.758 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.759 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.755 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.760 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.760 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.761 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.761 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.762 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.762 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.764 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.765 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.766 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.766 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.767 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.768 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.769 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.770 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.771 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.773 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.775 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.777 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.777 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.3864ms
2025-07-29 00:52:43.778 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.1971ms
2025-07-29 00:52:43.778 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0655ms
2025-07-29 00:52:43.779 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8759ms
2025-07-29 00:52:43.779 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7041ms
2025-07-29 00:52:43.780 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6964ms
2025-07-29 00:52:43.781 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.781 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.782 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.782 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.783 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.783 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.784 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 37.8168ms
2025-07-29 00:52:43.784 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 44.2805ms
2025-07-29 00:52:43.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 42.284ms
2025-07-29 00:52:43.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 41.6193ms
2025-07-29 00:52:43.786 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 41.0203ms
2025-07-29 00:52:43.786 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 44.9776ms
2025-07-29 00:52:43.788 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:52:43.789 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:52:43.790 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:52:43.791 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:52:43.793 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:52:43.794 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:52:43.795 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.796 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.797 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.798 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.799 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.800 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:43.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.801 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.802 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:43.803 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.803 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.804 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.805 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.806 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.807 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.808 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.808 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.809 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.809 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.809 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.810 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:43.812 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.813 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.814 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.814 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.815 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.816 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:43.816 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.818 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.819 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.821 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.822 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.824 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:43.824 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5695ms
2025-07-29 00:52:43.825 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2579ms
2025-07-29 00:52:43.825 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1285ms
2025-07-29 00:52:43.826 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8855ms
2025-07-29 00:52:43.827 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8512ms
2025-07-29 00:52:43.827 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.678ms
2025-07-29 00:52:43.828 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.828 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.829 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.830 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.830 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.831 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:43.831 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 42.2097ms
2025-07-29 00:52:43.832 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 43.8855ms
2025-07-29 00:52:43.832 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.8567ms
2025-07-29 00:52:43.833 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 41.1446ms
2025-07-29 00:52:43.833 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 40.4468ms
2025-07-29 00:52:43.834 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 39.7312ms
2025-07-29 00:52:44.529 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:52:44.529 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:52:44.530 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:44.531 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:44.533 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:44.533 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:44.534 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:44.535 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:44.535 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:44.536 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:52:44.537 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:52:44.538 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:52:44.538 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:44.540 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:52:44.540 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.5779ms
2025-07-29 00:52:44.541 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:44.542 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:52:44.542 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.11ms
2025-07-29 00:52:44.543 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 13.7992ms
2025-07-29 00:52:44.543 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:52:44.545 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.9897ms
2025-07-29 00:52:44.547 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:52:44.547 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:52:44.547 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:52:44.547 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:52:44.547 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:52:44.548 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:44.549 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:44.550 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:44.551 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:44.552 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:44.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:44.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:44.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:44.554 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:44.554 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:44.555 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 7.9942ms
2025-07-29 00:52:44.555 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 8.8292ms
2025-07-29 00:52:44.557 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 10.073ms
2025-07-29 00:52:44.558 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.1312ms
2025-07-29 00:52:44.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 12.1644ms
2025-07-29 00:52:44.560 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:52:44.561 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:52:44.563 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:52:44.564 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:52:44.565 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:52:51.211 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/role - null null
2025-07-29 00:52:51.213 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:51.213 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/role - 204 null null 1.5611ms
2025-07-29 00:52:51.214 +08:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/role - application/json 18
2025-07-29 00:52:51.215 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:51.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:51.218 +08:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/role - 404 0 null 3.2572ms
2025-07-29 00:52:51.219 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/role, Response status code: 404
2025-07-29 00:52:56.042 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:52:56.043 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.043 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.5854ms
2025-07-29 00:52:56.045 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:52:56.046 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.047 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.048 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:56.048 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.051 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:52:56.053 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:52:56.054 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.4837ms
2025-07-29 00:52:56.054 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:52:56.055 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.0977ms
2025-07-29 00:52:56.056 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:52:56.056 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:52:56.056 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:52:56.057 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:52:56.057 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:52:56.057 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:52:56.058 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.059 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.060 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.061 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.062 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.063 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.063 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 7.0735ms
2025-07-29 00:52:56.064 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.3659ms
2025-07-29 00:52:56.064 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.6035ms
2025-07-29 00:52:56.065 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.8841ms
2025-07-29 00:52:56.065 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 8.1078ms
2025-07-29 00:52:56.065 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.2702ms
2025-07-29 00:52:56.067 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:52:56.068 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:52:56.069 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:52:56.070 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:52:56.071 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:52:56.072 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:52:56.073 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.074 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.076 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.076 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.077 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.078 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.079 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.1558ms
2025-07-29 00:52:56.079 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.3748ms
2025-07-29 00:52:56.079 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.5345ms
2025-07-29 00:52:56.080 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.7967ms
2025-07-29 00:52:56.080 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.0981ms
2025-07-29 00:52:56.081 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.3558ms
2025-07-29 00:52:56.082 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:52:56.083 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:52:56.084 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:52:56.085 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:52:56.087 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:52:56.088 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:52:56.089 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.090 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.091 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.092 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.093 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.094 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.095 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.095 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.095 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.096 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.096 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.096 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.097 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.098 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.099 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.100 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.100 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.101 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.102 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.102 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.102 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.103 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.103 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.104 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.106 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.107 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.108 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.109 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.110 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.110 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.111 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.112 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.114 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.115 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.116 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.118 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.118 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0674ms
2025-07-29 00:52:56.119 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8879ms
2025-07-29 00:52:56.120 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7418ms
2025-07-29 00:52:56.120 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0071ms
2025-07-29 00:52:56.121 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.6994ms
2025-07-29 00:52:56.121 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.4893ms
2025-07-29 00:52:56.122 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.123 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.123 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.124 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.125 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.125 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.126 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 43.6216ms
2025-07-29 00:52:56.126 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 43.034ms
2025-07-29 00:52:56.127 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 42.4224ms
2025-07-29 00:52:56.127 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 41.7956ms
2025-07-29 00:52:56.128 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 41.111ms
2025-07-29 00:52:56.128 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 40.5333ms
2025-07-29 00:52:56.130 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:52:56.131 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:52:56.132 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:52:56.133 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:52:56.134 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:52:56.135 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:52:56.136 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.137 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.138 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.139 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.141 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.142 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:52:56.143 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.143 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.143 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.144 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.144 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.144 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:52:56.145 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.146 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.147 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.147 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.148 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.149 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.150 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.150 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.150 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.151 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.151 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.152 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:52:56.154 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.155 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.155 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.156 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.157 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.158 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:52:56.158 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.160 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.161 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.163 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.164 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.166 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:52:56.166 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8243ms
2025-07-29 00:52:56.167 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5973ms
2025-07-29 00:52:56.167 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.4432ms
2025-07-29 00:52:56.168 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2314ms
2025-07-29 00:52:56.168 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0051ms
2025-07-29 00:52:56.169 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8196ms
2025-07-29 00:52:56.170 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.170 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.171 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.171 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.172 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.172 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:52:56.173 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 42.9886ms
2025-07-29 00:52:56.173 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 42.4212ms
2025-07-29 00:52:56.174 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 42.3434ms
2025-07-29 00:52:56.175 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 41.7338ms
2025-07-29 00:52:56.175 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 41.129ms
2025-07-29 00:52:56.176 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 40.5019ms
2025-07-29 00:54:27.525 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:54:27.526 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:54:27.527 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.3023ms
2025-07-29 00:54:27.529 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:54:27.530 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:54:27.532 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:54:27.534 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:54:27.534 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:54:27.536 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:54:27.538 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:54:27.540 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:54:27.541 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:54:27.544 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:54:27.547 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:54:27.548 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:54:27.550 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:54:27.552 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:54:27.553 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:54:27.554 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:54:27.555 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.2313ms
2025-07-29 00:54:27.555 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:54:27.556 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 27.0619ms
2025-07-29 00:54:44.227 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:54:44.228 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:54:44.229 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.009ms
2025-07-29 00:54:44.231 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:54:44.232 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:54:44.233 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:54:44.235 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:54:44.235 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:54:44.237 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:54:44.238 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:54:44.240 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:54:44.242 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:54:44.245 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:54:44.247 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:54:44.249 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:54:44.251 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:54:44.252 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:54:44.254 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:54:44.255 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:54:44.256 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.5523ms
2025-07-29 00:54:44.257 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:54:44.257 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 26.7975ms
2025-07-29 00:55:05.755 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:55:05.756 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:05.756 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.4994ms
2025-07-29 00:55:05.757 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:55:05.758 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:05.760 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:05.761 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:55:05.761 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:55:05.763 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:55:05.764 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:55:05.765 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:55:05.766 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:55:05.768 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:55:05.770 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:55:05.772 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:55:05.773 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:55:05.774 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:55:05.775 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:55:05.776 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:55:05.778 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 15.3089ms
2025-07-29 00:55:05.778 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:55:05.779 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 21.4494ms
2025-07-29 00:55:06.775 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:55:06.776 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:55:06.777 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.778 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.779 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 3.4494ms
2025-07-29 00:55:06.779 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.9657ms
2025-07-29 00:55:06.780 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:55:06.781 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:55:06.782 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.783 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.784 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:06.785 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:06.786 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:06.788 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:55:06.789 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:06.790 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.1125ms
2025-07-29 00:55:06.790 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:06.791 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 10.8111ms
2025-07-29 00:55:06.827 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:06.828 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:06.829 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:06.830 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:55:06.832 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:55:06.833 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:06.834 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 4.1554ms
2025-07-29 00:55:06.834 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:06.835 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 53.5359ms
2025-07-29 00:55:06.836 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:55:06.836 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:55:06.837 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:55:06.837 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:55:06.837 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:55:06.837 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.838 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.839 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.840 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.841 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.841 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 5.0366ms
2025-07-29 00:55:06.841 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.2218ms
2025-07-29 00:55:06.842 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 5.2582ms
2025-07-29 00:55:06.842 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 5.6641ms
2025-07-29 00:55:06.843 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 6.4564ms
2025-07-29 00:55:06.844 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:55:06.845 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:55:06.847 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:55:06.848 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:55:06.849 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:55:06.850 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.851 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.852 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.853 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.854 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:06.855 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:06.855 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:06.857 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.6165ms
2025-07-29 00:55:06.858 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 13.884ms
2025-07-29 00:55:06.860 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:55:06.861 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:55:06.906 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:06.907 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 59.3944ms
2025-07-29 00:55:06.909 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:55:06.910 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:06.912 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 62.2438ms
2025-07-29 00:55:06.913 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:55:06.999 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.000 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 153.7587ms
2025-07-29 00:55:07.002 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:55:07.353 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:55:07.354 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.355 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.7009ms
2025-07-29 00:55:07.356 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:55:07.357 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.359 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.360 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:07.361 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.364 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:55:07.366 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:07.366 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.7858ms
2025-07-29 00:55:07.367 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:07.367 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.1225ms
2025-07-29 00:55:07.369 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:55:07.369 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:55:07.369 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:55:07.369 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:55:07.369 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:55:07.370 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:55:07.370 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.371 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.372 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.373 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.374 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.374 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.375 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.1719ms
2025-07-29 00:55:07.375 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 6.4972ms
2025-07-29 00:55:07.376 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 6.9219ms
2025-07-29 00:55:07.376 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.2263ms
2025-07-29 00:55:07.377 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.6861ms
2025-07-29 00:55:07.377 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 7.5344ms
2025-07-29 00:55:07.379 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:55:07.380 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:55:07.381 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:55:07.383 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:55:07.384 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:55:07.385 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:55:07.386 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.387 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.388 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.389 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.389 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.390 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.391 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.1065ms
2025-07-29 00:55:07.391 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.2232ms
2025-07-29 00:55:07.391 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.3789ms
2025-07-29 00:55:07.392 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.291ms
2025-07-29 00:55:07.392 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 8.5221ms
2025-07-29 00:55:07.393 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 7.864ms
2025-07-29 00:55:07.394 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:55:07.395 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:55:07.397 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:55:07.398 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:55:07.399 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:55:07.400 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:55:07.401 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.402 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.403 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.404 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.404 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.405 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.408 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.409 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.410 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.411 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.412 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.413 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.414 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.414 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.415 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.415 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.415 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.421 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.422 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.422 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.423 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.423 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.424 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.425 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.427 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.429 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.430 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.431 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.6288ms
2025-07-29 00:55:07.431 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.5092ms
2025-07-29 00:55:07.432 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 15.0184ms
2025-07-29 00:55:07.433 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9895ms
2025-07-29 00:55:07.433 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 15.3773ms
2025-07-29 00:55:07.434 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.434 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.435 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.436 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.436 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.437 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 42.575ms
2025-07-29 00:55:07.437 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 38.3996ms
2025-07-29 00:55:07.438 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 42.6101ms
2025-07-29 00:55:07.438 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 40.7494ms
2025-07-29 00:55:07.439 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 42.4411ms
2025-07-29 00:55:07.440 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:55:07.441 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:55:07.443 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:55:07.445 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:55:07.446 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:55:07.447 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.449 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.450 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.451 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.452 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.452 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.453 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.453 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.453 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.454 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.454 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.455 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.456 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.457 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.458 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.458 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.460 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.460 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.461 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.461 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.462 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.462 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.463 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.466 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.469 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.469 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.470 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.471 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.473 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.474 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.476 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.478 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.478 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.1249ms
2025-07-29 00:55:07.479 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7675ms
2025-07-29 00:55:07.480 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5766ms
2025-07-29 00:55:07.480 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5674ms
2025-07-29 00:55:07.481 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 17.6332ms
2025-07-29 00:55:07.482 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.881ms
2025-07-29 00:55:07.482 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.483 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.484 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.484 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.485 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.485 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.486 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 45.6085ms
2025-07-29 00:55:07.487 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 45.0624ms
2025-07-29 00:55:07.487 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 43.894ms
2025-07-29 00:55:07.488 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 42.6531ms
2025-07-29 00:55:07.488 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 88.2448ms
2025-07-29 00:55:07.489 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 42.5034ms
2025-07-29 00:55:07.490 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:55:07.498 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:07.499 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:07.500 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.501 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:07.503 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:07.505 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:07.506 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 4.1664ms
2025-07-29 00:55:07.506 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:07.507 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 16.9199ms
2025-07-29 00:55:08.428 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:55:08.430 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:08.430 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.7953ms
2025-07-29 00:55:08.432 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:55:08.433 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:08.434 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:08.435 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.2025ms
2025-07-29 00:55:08.436 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:55:11.212 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:55:11.213 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:11.214 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.4816ms
2025-07-29 00:55:11.215 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:55:11.216 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:11.217 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:11.218 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:55:11.219 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:55:11.220 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:55:11.221 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:55:11.223 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:55:11.224 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:55:11.228 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:55:11.230 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:55:11.233 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:55:11.234 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:55:11.236 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:55:11.238 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:55:11.239 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:55:11.240 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.9162ms
2025-07-29 00:55:11.240 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:55:11.241 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 25.6371ms
2025-07-29 00:55:12.781 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:55:12.781 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:55:12.782 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.783 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.783 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.6687ms
2025-07-29 00:55:12.784 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.8164ms
2025-07-29 00:55:12.785 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:55:12.786 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:55:12.787 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.788 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.789 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:12.789 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:12.790 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:12.791 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:12.792 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:12.792 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:12.794 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:55:12.796 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:55:12.796 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:55:12.797 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:12.798 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:12.798 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.1178ms
2025-07-29 00:55:12.799 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.8087ms
2025-07-29 00:55:12.800 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:12.801 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:12.801 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 14.6965ms
2025-07-29 00:55:12.801 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 16.2997ms
2025-07-29 00:55:12.802 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:55:12.803 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:55:12.803 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:55:12.803 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:55:12.804 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:55:12.805 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.806 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.807 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.808 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.809 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.810 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 7.4372ms
2025-07-29 00:55:12.810 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 7.7252ms
2025-07-29 00:55:12.811 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 8.1402ms
2025-07-29 00:55:12.811 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 8.3059ms
2025-07-29 00:55:12.812 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 7.6003ms
2025-07-29 00:55:12.813 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:55:12.814 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:55:12.815 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:55:12.817 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:55:12.818 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:55:12.819 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.820 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.821 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.822 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.822 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:12.824 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:12.824 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:12.824 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:12.824 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:12.825 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:12.825 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 10.9932ms
2025-07-29 00:55:12.826 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 13.25ms
2025-07-29 00:55:12.827 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.9857ms
2025-07-29 00:55:12.828 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.7613ms
2025-07-29 00:55:12.829 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.6169ms
2025-07-29 00:55:12.831 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:55:12.832 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:55:12.833 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:55:12.834 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:55:12.836 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:55:14.124 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:55:14.125 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.126 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.7873ms
2025-07-29 00:55:14.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:55:14.128 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.130 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.131 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:14.131 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.134 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:55:14.136 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:14.137 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.6513ms
2025-07-29 00:55:14.137 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:14.138 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.4469ms
2025-07-29 00:55:14.139 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:55:14.139 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:55:14.139 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:55:14.142 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.140 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:55:14.140 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:55:14.140 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.141 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.139 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:55:14.143 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 3.7848ms
2025-07-29 00:55:14.144 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.145 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.146 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.6149ms
2025-07-29 00:55:14.146 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 6.9157ms
2025-07-29 00:55:14.147 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.148 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:55:14.149 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 9.2233ms
2025-07-29 00:55:14.149 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 9.4346ms
2025-07-29 00:55:14.150 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:55:14.152 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:55:14.152 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 12.4284ms
2025-07-29 00:55:14.153 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.154 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:55:14.155 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:55:14.156 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.157 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.158 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:55:14.158 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 10.0436ms
2025-07-29 00:55:14.160 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.161 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.161 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.0428ms
2025-07-29 00:55:14.162 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.266ms
2025-07-29 00:55:14.163 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.164 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:55:14.164 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 10.2985ms
2025-07-29 00:55:14.165 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.5587ms
2025-07-29 00:55:14.166 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:55:14.167 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:55:14.168 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 9.3891ms
2025-07-29 00:55:14.169 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.170 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:55:14.171 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:55:14.172 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.173 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.174 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:55:14.175 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.175 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.177 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.178 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.178 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.179 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.180 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.180 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.181 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.181 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.182 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.183 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.183 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.184 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.185 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.185 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.186 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.187 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.188 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.188 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.188 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.190 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.190 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.191 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.192 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.192 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.195 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.196 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.196 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.197 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.199 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.199 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9209ms
2025-07-29 00:55:14.201 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.202 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.203 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9719ms
2025-07-29 00:55:14.203 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8832ms
2025-07-29 00:55:14.204 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.296ms
2025-07-29 00:55:14.205 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.205 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.7984ms
2025-07-29 00:55:14.206 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.4987ms
2025-07-29 00:55:14.206 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.207 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.207 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.208 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 43.8239ms
2025-07-29 00:55:14.208 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.209 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.210 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 43.446ms
2025-07-29 00:55:14.210 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 42.8395ms
2025-07-29 00:55:14.211 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 40.9121ms
2025-07-29 00:55:14.212 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:55:14.212 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 41.3868ms
2025-07-29 00:55:14.213 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 39.0406ms
2025-07-29 00:55:14.214 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:55:14.215 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:55:14.217 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:55:14.218 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.219 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:55:14.220 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:55:14.221 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.222 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.223 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.224 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.224 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.225 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.226 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.227 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.227 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.227 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.228 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.229 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.229 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.230 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.231 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.231 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.232 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.233 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.234 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.234 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.234 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.236 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.236 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:14.237 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.238 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.239 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.240 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.241 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.241 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:14.242 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.243 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.245 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.247 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.248 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.250 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:14.250 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 15.1022ms
2025-07-29 00:55:14.251 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8795ms
2025-07-29 00:55:14.251 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6269ms
2025-07-29 00:55:14.252 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.4713ms
2025-07-29 00:55:14.253 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2936ms
2025-07-29 00:55:14.253 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2325ms
2025-07-29 00:55:14.254 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.254 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.255 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.255 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.256 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.256 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:14.257 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 45.029ms
2025-07-29 00:55:14.257 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 43.2632ms
2025-07-29 00:55:14.258 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 42.5818ms
2025-07-29 00:55:14.258 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 41.6949ms
2025-07-29 00:55:14.259 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 40.0814ms
2025-07-29 00:55:14.259 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 39.5656ms
2025-07-29 00:55:14.830 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:55:14.832 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.832 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.5964ms
2025-07-29 00:55:14.834 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:55:14.834 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:14.836 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:14.837 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.0498ms
2025-07-29 00:55:14.838 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:55:15.738 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:55:15.738 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:55:15.739 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:15.740 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:15.741 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:15.741 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:15.742 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:15.743 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:15.744 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:15.744 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:15.746 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:55:15.746 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:55:15.747 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:55:15.748 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:15.749 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:15.749 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.6433ms
2025-07-29 00:55:15.750 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 4.4427ms
2025-07-29 00:55:15.751 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:15.751 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:15.752 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 13.7423ms
2025-07-29 00:55:15.752 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 14.212ms
2025-07-29 00:55:15.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:55:15.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:55:15.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:55:15.754 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:55:15.755 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:55:15.756 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:15.757 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:15.758 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:15.759 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:15.760 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:15.761 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:15.761 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:15.761 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:15.762 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:15.762 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:15.763 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 8.8987ms
2025-07-29 00:55:15.764 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 9.7841ms
2025-07-29 00:55:15.765 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 10.6021ms
2025-07-29 00:55:15.766 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.4437ms
2025-07-29 00:55:15.766 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.6212ms
2025-07-29 00:55:15.768 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:55:15.769 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:55:15.770 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:55:15.771 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:55:15.772 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:55:16.509 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:55:16.510 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.512 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.513 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:16.513 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.516 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:55:16.518 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:16.519 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.9669ms
2025-07-29 00:55:16.520 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:16.520 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.259ms
2025-07-29 00:55:16.522 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:55:16.522 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:55:16.522 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:55:16.522 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:55:16.522 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:55:16.522 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:55:16.523 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.524 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.525 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.526 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.527 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.528 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.530 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.530 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.531 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.532 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.533 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.537 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.535 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.536 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.536 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.536 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.534 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.538 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.539 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.539 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.541 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.542 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.543 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.544 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.544 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.547 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.547 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.548 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.550 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.551 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.551 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7276ms
2025-07-29 00:55:16.553 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.553 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.083ms
2025-07-29 00:55:16.554 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9167ms
2025-07-29 00:55:16.555 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.3942ms
2025-07-29 00:55:16.555 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2405ms
2025-07-29 00:55:16.556 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.556 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.484ms
2025-07-29 00:55:16.557 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.558 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.558 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.559 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 37.0543ms
2025-07-29 00:55:16.560 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.561 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 38.8499ms
2025-07-29 00:55:16.561 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 39.124ms
2025-07-29 00:55:16.562 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 39.3762ms
2025-07-29 00:55:16.562 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 39.7848ms
2025-07-29 00:55:16.563 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:55:16.564 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 41.6166ms
2025-07-29 00:55:16.565 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:55:16.566 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:55:16.568 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:55:16.569 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:55:16.570 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.571 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:55:16.572 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.573 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.574 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.574 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.576 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.576 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:16.577 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.577 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.578 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.578 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.579 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.579 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:16.580 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.581 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.582 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.583 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.583 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.584 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.584 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.585 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.585 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.585 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.587 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:16.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.589 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.590 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.592 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:16.592 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.595 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.596 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.598 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.599 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.601 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:16.601 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.1535ms
2025-07-29 00:55:16.602 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2781ms
2025-07-29 00:55:16.602 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2237ms
2025-07-29 00:55:16.603 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 16.9026ms
2025-07-29 00:55:16.604 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.76ms
2025-07-29 00:55:16.604 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5714ms
2025-07-29 00:55:16.605 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.605 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.606 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.606 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.607 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.607 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:16.608 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.2276ms
2025-07-29 00:55:16.608 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 43.0686ms
2025-07-29 00:55:16.609 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 42.3878ms
2025-07-29 00:55:16.609 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 46.0709ms
2025-07-29 00:55:16.610 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 41.2918ms
2025-07-29 00:55:16.611 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 39.7939ms
2025-07-29 00:55:17.101 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:55:17.102 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.103 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.104 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.7449ms
2025-07-29 00:55:17.106 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:55:17.882 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:55:17.884 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.885 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.886 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:17.886 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.889 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:55:17.891 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:17.892 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.9408ms
2025-07-29 00:55:17.893 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:17.894 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.7445ms
2025-07-29 00:55:17.896 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:55:17.896 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:55:17.896 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:55:17.896 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:55:17.897 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:55:17.897 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:55:17.898 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.898 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.899 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.900 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.901 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.902 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.906 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.906 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.906 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.906 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.908 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.908 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.910 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.911 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.912 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.912 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.913 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.913 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.914 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.914 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.915 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.915 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.918 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.918 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.919 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.920 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.920 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.921 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.922 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.923 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.924 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.926 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.928 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.929 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.930 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0724ms
2025-07-29 00:55:17.930 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8792ms
2025-07-29 00:55:17.931 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.729ms
2025-07-29 00:55:17.932 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.49ms
2025-07-29 00:55:17.932 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2874ms
2025-07-29 00:55:17.933 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1957ms
2025-07-29 00:55:17.934 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.934 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.935 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.935 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.936 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.936 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.937 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 40.3116ms
2025-07-29 00:55:17.937 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 40.8096ms
2025-07-29 00:55:17.938 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 41.2218ms
2025-07-29 00:55:17.938 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 41.6379ms
2025-07-29 00:55:17.939 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 42.0494ms
2025-07-29 00:55:17.939 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 42.4344ms
2025-07-29 00:55:17.940 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:55:17.942 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:55:17.943 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:55:17.945 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:55:17.946 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:55:17.947 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:55:17.948 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.949 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.950 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.951 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.952 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.953 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:17.954 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.954 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.954 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.954 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.955 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.955 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:17.956 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.956 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.957 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.958 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.960 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.961 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.961 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.962 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.962 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.962 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.963 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.963 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:17.966 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.966 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.967 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.968 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.969 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.969 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:17.970 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.971 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.972 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.974 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.975 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.977 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:17.978 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5327ms
2025-07-29 00:55:17.978 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.3533ms
2025-07-29 00:55:17.979 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2807ms
2025-07-29 00:55:17.980 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1018ms
2025-07-29 00:55:17.980 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9167ms
2025-07-29 00:55:17.981 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7525ms
2025-07-29 00:55:17.981 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.982 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.982 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.983 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.983 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.984 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:17.984 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 43.7808ms
2025-07-29 00:55:17.985 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 43.0993ms
2025-07-29 00:55:17.985 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.9154ms
2025-07-29 00:55:17.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.9258ms
2025-07-29 00:55:17.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 40.1643ms
2025-07-29 00:55:17.987 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 39.4295ms
2025-07-29 00:55:19.430 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:55:19.431 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:19.432 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:19.433 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.6149ms
2025-07-29 00:55:19.435 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:55:22.351 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:55:22.352 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.353 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.7575ms
2025-07-29 00:55:22.354 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:55:22.355 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.357 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.358 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:22.358 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.361 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:55:22.363 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:22.364 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.0458ms
2025-07-29 00:55:22.365 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:22.365 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.7095ms
2025-07-29 00:55:22.367 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:55:22.367 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:55:22.367 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:55:22.367 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:55:22.367 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:55:22.367 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:55:22.368 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.369 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.370 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.371 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.372 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.373 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.373 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 6.5267ms
2025-07-29 00:55:22.373 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.6951ms
2025-07-29 00:55:22.374 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.0502ms
2025-07-29 00:55:22.374 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.2855ms
2025-07-29 00:55:22.375 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.6307ms
2025-07-29 00:55:22.375 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 7.788ms
2025-07-29 00:55:22.377 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:55:22.378 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:55:22.380 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:55:22.381 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:55:22.382 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:55:22.383 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:55:22.384 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.385 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.386 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.387 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.388 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.389 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.389 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 11.87ms
2025-07-29 00:55:22.389 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 10.8819ms
2025-07-29 00:55:22.390 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.094ms
2025-07-29 00:55:22.390 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.2342ms
2025-07-29 00:55:22.391 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 8.4904ms
2025-07-29 00:55:22.391 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 7.7748ms
2025-07-29 00:55:22.392 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:55:22.394 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:55:22.395 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:55:22.396 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:55:22.397 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:55:22.398 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:55:22.399 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.592 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.592 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.592 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.593 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.593 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.594 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.595 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.596 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.596 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.597 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.598 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.599 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.600 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.600 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.601 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.601 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.601 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.602 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.602 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.605 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.605 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.606 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.607 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.608 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.609 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.609 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.611 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.612 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.614 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.615 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.617 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.617 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9852ms
2025-07-29 00:55:22.618 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7551ms
2025-07-29 00:55:22.618 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5278ms
2025-07-29 00:55:22.619 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.374ms
2025-07-29 00:55:22.620 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2066ms
2025-07-29 00:55:22.620 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9479ms
2025-07-29 00:55:22.621 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.621 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.622 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.622 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.623 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.623 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.624 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 231.6312ms
2025-07-29 00:55:22.624 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 230.6744ms
2025-07-29 00:55:22.625 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 229.958ms
2025-07-29 00:55:22.625 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 229.2564ms
2025-07-29 00:55:22.626 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 228.6238ms
2025-07-29 00:55:22.627 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 228.2511ms
2025-07-29 00:55:22.628 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:55:22.629 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:55:22.631 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:55:22.632 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:55:22.633 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:55:22.634 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:55:22.635 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.636 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.637 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.638 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.639 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.640 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:22.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.641 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.642 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.642 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:22.643 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.644 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.645 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.646 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.647 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.648 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.649 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.649 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.649 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.650 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.650 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.651 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:22.653 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.653 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.654 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.655 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.656 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.657 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:22.657 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.658 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.660 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.662 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.664 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.666 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:22.666 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.6704ms
2025-07-29 00:55:22.667 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.4655ms
2025-07-29 00:55:22.667 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.3413ms
2025-07-29 00:55:22.668 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.1676ms
2025-07-29 00:55:22.668 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9538ms
2025-07-29 00:55:22.669 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7359ms
2025-07-29 00:55:22.670 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.670 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.671 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.671 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.672 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.673 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:22.673 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 45.1254ms
2025-07-29 00:55:22.674 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 44.5633ms
2025-07-29 00:55:22.675 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 44.0203ms
2025-07-29 00:55:22.675 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 43.4457ms
2025-07-29 00:55:22.676 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 42.8691ms
2025-07-29 00:55:22.677 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 42.7615ms
2025-07-29 00:55:23.094 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:55:23.094 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:55:23.096 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.097 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.097 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.6907ms
2025-07-29 00:55:23.097 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.9039ms
2025-07-29 00:55:23.099 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:55:23.100 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:55:23.101 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.102 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.103 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:23.103 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:23.104 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:23.105 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:23.105 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:23.106 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:23.107 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:55:23.108 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:55:23.109 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:23.110 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:55:23.111 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.9094ms
2025-07-29 00:55:23.112 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:23.112 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:23.113 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.2156ms
2025-07-29 00:55:23.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 14.5423ms
2025-07-29 00:55:23.114 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:55:23.116 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.7161ms
2025-07-29 00:55:23.117 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:55:23.117 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:55:23.117 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:55:23.117 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:55:23.117 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:55:23.118 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.119 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.120 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.121 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.122 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.122 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.4033ms
2025-07-29 00:55:23.123 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 5.7074ms
2025-07-29 00:55:23.123 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 5.9834ms
2025-07-29 00:55:23.124 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.3869ms
2025-07-29 00:55:23.124 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 6.7779ms
2025-07-29 00:55:23.125 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:55:23.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:55:23.128 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:55:23.129 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:55:23.130 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:55:23.131 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.132 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.133 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.134 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.135 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:23.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:23.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:23.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:23.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:23.137 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:23.138 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 11.235ms
2025-07-29 00:55:23.139 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 13.6859ms
2025-07-29 00:55:23.140 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.7995ms
2025-07-29 00:55:23.141 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.5465ms
2025-07-29 00:55:23.142 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.3603ms
2025-07-29 00:55:23.143 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:55:23.145 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:55:23.146 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:55:23.147 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:55:23.148 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:55:24.255 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:55:24.256 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.257 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.258 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:24.259 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.262 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:55:24.264 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:24.264 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.9855ms
2025-07-29 00:55:24.265 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:24.266 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.6688ms
2025-07-29 00:55:24.267 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:55:24.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:55:24.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:55:24.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:55:24.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:55:24.268 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:55:24.269 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.270 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.271 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.271 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.272 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.273 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.274 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.274 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.275 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.275 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.275 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.276 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.277 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.278 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.279 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.280 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.281 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.282 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.282 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.283 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.283 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.283 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.284 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.284 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.287 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.287 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.288 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.289 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.290 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.290 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.291 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.292 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.294 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.296 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.297 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.299 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.299 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0674ms
2025-07-29 00:55:24.300 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9415ms
2025-07-29 00:55:24.300 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8546ms
2025-07-29 00:55:24.301 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5752ms
2025-07-29 00:55:24.301 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.309ms
2025-07-29 00:55:24.302 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0866ms
2025-07-29 00:55:24.303 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.303 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.304 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.304 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.305 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.305 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.305 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 37.9768ms
2025-07-29 00:55:24.306 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 38.4088ms
2025-07-29 00:55:24.306 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 38.8131ms
2025-07-29 00:55:24.307 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 39.2326ms
2025-07-29 00:55:24.308 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 39.7263ms
2025-07-29 00:55:24.308 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 40.1648ms
2025-07-29 00:55:24.309 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:55:24.311 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:55:24.312 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:55:24.313 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:55:24.314 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:55:24.315 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:55:24.316 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.317 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.318 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.319 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.320 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.321 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:24.322 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.322 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.322 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.323 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.323 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.323 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:24.324 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.324 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.325 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.326 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.327 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.328 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.329 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.329 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.329 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.333 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.330 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.330 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.331 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:24.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.335 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.336 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.337 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.338 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:24.338 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.340 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.340 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 8.972ms
2025-07-29 00:55:24.342 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.344 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.345 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:24.346 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6025ms
2025-07-29 00:55:24.346 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2959ms
2025-07-29 00:55:24.347 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.347 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.427ms
2025-07-29 00:55:24.348 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.3068ms
2025-07-29 00:55:24.349 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.0581ms
2025-07-29 00:55:24.349 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.350 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.350 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 40.6757ms
2025-07-29 00:55:24.351 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.351 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.352 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:24.352 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 41.351ms
2025-07-29 00:55:24.352 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 40.4242ms
2025-07-29 00:55:24.354 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.9729ms
2025-07-29 00:55:24.355 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 40.3749ms
2025-07-29 00:55:24.355 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 39.6355ms
2025-07-29 00:55:25.454 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:55:25.455 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:25.456 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.9143ms
2025-07-29 00:55:25.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:55:25.459 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:25.460 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:25.461 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.949ms
2025-07-29 00:55:25.463 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:55:31.115 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:55:31.116 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:31.116 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.4589ms
2025-07-29 00:55:31.118 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:55:31.119 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:31.120 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:31.121 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.1855ms
2025-07-29 00:55:31.122 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:55:49.967 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:55:49.968 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:49.968 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.7763ms
2025-07-29 00:55:49.970 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:55:49.972 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:49.973 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:49.974 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:49.975 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:49.977 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:55:49.979 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:49.979 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.5633ms
2025-07-29 00:55:49.980 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:49.980 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 9.9916ms
2025-07-29 00:55:52.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:55:52.679 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:52.681 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:52.682 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:52.682 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:55:52.684 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:55:52.685 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:52.686 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 2.8057ms
2025-07-29 00:55:52.686 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:55:52.687 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.6554ms
2025-07-29 00:55:54.143 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:55:54.145 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:54.146 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 2.7566ms
2025-07-29 00:55:54.147 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:55:54.149 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:54.150 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:54.151 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.9863ms
2025-07-29 00:55:54.153 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:55:55.398 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:55:55.399 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.400 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.4085ms
2025-07-29 00:55:55.402 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:55:55.403 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.405 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.406 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:55.407 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.410 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:55:55.413 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:55:55.414 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 6.4992ms
2025-07-29 00:55:55.415 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:55:55.416 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 14.3402ms
2025-07-29 00:55:55.421 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:55:55.423 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:55:55.422 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:55:55.423 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:55:55.423 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:55:55.423 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:55:55.423 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.425 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.426 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.428 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.430 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.431 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.432 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 10.4829ms
2025-07-29 00:55:55.432 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 9.1154ms
2025-07-29 00:55:55.433 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 10.7106ms
2025-07-29 00:55:55.434 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 11.0407ms
2025-07-29 00:55:55.434 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 11.3341ms
2025-07-29 00:55:55.435 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 11.5406ms
2025-07-29 00:55:55.436 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:55:55.438 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:55:55.439 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:55:55.441 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:55:55.443 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:55:55.446 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:55:55.447 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.449 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.450 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.451 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.453 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.454 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.455 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 18.3629ms
2025-07-29 00:55:55.455 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 17.3386ms
2025-07-29 00:55:55.456 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 16.5027ms
2025-07-29 00:55:55.456 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 15.5129ms
2025-07-29 00:55:55.457 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 13.9507ms
2025-07-29 00:55:55.457 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 11.7128ms
2025-07-29 00:55:55.459 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:55:55.461 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:55:55.463 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:55:55.464 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:55:55.466 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:55:55.467 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:55:55.468 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.470 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.471 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.472 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.473 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.474 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.477 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.475 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.476 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.476 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.475 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.479 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.479 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.480 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.481 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.482 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.483 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.484 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.485 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.485 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.486 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.486 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.487 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.487 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.490 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.490 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.492 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.493 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.493 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.494 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.495 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.497 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.499 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.500 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.501 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.502 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9856ms
2025-07-29 00:55:55.503 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8233ms
2025-07-29 00:55:55.503 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6937ms
2025-07-29 00:55:55.504 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.4727ms
2025-07-29 00:55:55.504 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.179ms
2025-07-29 00:55:55.505 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9343ms
2025-07-29 00:55:55.505 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.506 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.507 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.507 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.508 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.508 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 43.0059ms
2025-07-29 00:55:55.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 48.2472ms
2025-07-29 00:55:55.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 47.2276ms
2025-07-29 00:55:55.511 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 46.5439ms
2025-07-29 00:55:55.512 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 52.5089ms
2025-07-29 00:55:55.512 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 44.9272ms
2025-07-29 00:55:55.514 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:55:55.515 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:55:55.516 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:55:55.518 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:55:55.519 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:55:55.520 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:55:55.521 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.522 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.523 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.524 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.525 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.526 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:55:55.528 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.528 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.528 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.529 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.530 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:55:55.530 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.531 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.532 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.533 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.534 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.534 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.535 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.535 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.536 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.536 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.537 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.537 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:55:55.539 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.540 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.541 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.542 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.543 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:55:55.544 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.545 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.547 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.548 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.550 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.552 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:55:55.552 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2349ms
2025-07-29 00:55:55.553 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0828ms
2025-07-29 00:55:55.553 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.0001ms
2025-07-29 00:55:55.554 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.832ms
2025-07-29 00:55:55.555 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6434ms
2025-07-29 00:55:55.555 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.4292ms
2025-07-29 00:55:55.556 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.556 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.557 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.557 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.558 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.558 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:55:55.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 45.1744ms
2025-07-29 00:55:55.559 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 44.2718ms
2025-07-29 00:55:55.560 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 43.6539ms
2025-07-29 00:55:55.561 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 43.0001ms
2025-07-29 00:55:55.561 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 42.3339ms
2025-07-29 00:55:55.562 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 41.6403ms
2025-07-29 00:56:04.290 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:56:04.291 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:56:04.292 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.6016ms
2025-07-29 00:56:04.293 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:56:04.294 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:56:04.296 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:56:04.297 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:56:04.297 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:56:04.300 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:56:04.301 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:56:04.301 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.5469ms
2025-07-29 00:56:04.302 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:56:04.303 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 9.7047ms
2025-07-29 00:56:08.584 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:56:08.586 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:56:08.586 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 2.4005ms
2025-07-29 00:56:08.589 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:56:08.590 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:56:08.592 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:56:08.593 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 4.2149ms
2025-07-29 00:56:08.595 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:56:09.881 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:56:09.882 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:56:09.883 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.6515ms
2025-07-29 00:56:09.884 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:56:09.885 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:56:09.886 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:56:09.887 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:56:09.888 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:56:09.889 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:56:09.891 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:56:09.891 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 2.9375ms
2025-07-29 00:56:09.892 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:56:09.892 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.5095ms
2025-07-29 00:58:33.221 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:58:33.222 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:33.223 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.0801ms
2025-07-29 00:58:33.225 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:58:33.226 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:33.227 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:33.229 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:58:33.229 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:58:33.232 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:58:33.234 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:58:33.235 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:58:33.237 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:58:33.240 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:58:33.244 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:58:33.246 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:58:33.248 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:58:33.250 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:58:33.252 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:58:33.253 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:58:33.254 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 23.2413ms
2025-07-29 00:58:33.255 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:58:33.256 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 30.9233ms
2025-07-29 00:58:35.422 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:58:35.423 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:35.423 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.5611ms
2025-07-29 00:58:35.425 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-29 00:58:35.426 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:35.427 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:35.428 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:58:35.429 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:58:35.432 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:58:35.476 +08:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:58:35.477 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 47.1211ms
2025-07-29 00:58:35.478 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:58:35.478 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 401 null application/json; charset=utf-8 53.3864ms
2025-07-29 00:58:37.889 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 61
2025-07-29 00:58:37.890 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:37.891 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:37.892 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:58:37.893 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:58:37.894 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:58:37.941 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:58:37.952 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:58:37.953 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 59.2088ms
2025-07-29 00:58:37.953 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:58:37.954 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 64.8013ms
2025-07-29 00:58:37.974 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:58:37.974 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:58:37.975 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:37.977 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:37.977 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 3.0251ms
2025-07-29 00:58:37.978 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:37.979 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:58:37.980 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-29 00:58:37.981 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:37.982 +08:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-29 00:58:37.982 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 403 0 null 8.1248ms
2025-07-29 00:58:37.983 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:37.985 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:37.985 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:37.988 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:58:37.990 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:58:37.991 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8574ms
2025-07-29 00:58:37.992 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:37.992 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 13.589ms
2025-07-29 00:58:37.994 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - null null
2025-07-29 00:58:37.995 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:37.996 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 204 null null 1.445ms
2025-07-29 00:58:37.997 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - application/json null
2025-07-29 00:58:37.998 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:38.000 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:38.001 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats - 404 0 null 3.4378ms
2025-07-29 00:58:38.002 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/users/f9f0e64e-3771-4aa9-8470-21e709677e44/instructor-stats, Response status code: 404
2025-07-29 00:58:38.008 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - null null
2025-07-29 00:58:38.009 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:38.010 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 204 null null 1.5638ms
2025-07-29 00:58:38.011 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - application/json null
2025-07-29 00:58:38.012 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:38.014 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:38.015 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:38.015 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:38.018 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:58:38.020 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:58:38.021 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.792ms
2025-07-29 00:58:38.021 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:38.022 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses?instructorId=f9f0e64e-3771-4aa9-8470-21e709677e44 - 200 null application/json; charset=utf-8 10.682ms
2025-07-29 00:58:41.079 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - null null
2025-07-29 00:58:41.081 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:41.081 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/logout - 204 null null 2.3985ms
2025-07-29 00:58:41.083 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/logout - application/json 0
2025-07-29 00:58:41.084 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:41.085 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:41.086 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:58:41.087 +08:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:58:41.089 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."Avatar", a0."ConcurrencyStamp", a0."CreatedAt", a0."Email", a0."EmailConfirmed", a0."FullName", a0."LastLoginAt", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."NotificationPreferences", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."RefreshToken", a0."RefreshTokenExpiryTime", a0."Role", a0."SecurityStamp", a0."Status", a0."TwoFactorEnabled", a0."UserName", r."Id", r."CreatedAt", r."CreatedByIp", r."ExpiresAt", r."ReplacedByToken", r."RevokedAt", r."RevokedByIp", r."Token", r."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @__userId_0
    LIMIT 1
) AS a0
LEFT JOIN "RefreshTokens" AS r ON a0."Id" = r."UserId"
ORDER BY a0."Id"
2025-07-29 00:58:41.101 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "RefreshTokens" SET "RevokedAt" = @p0
WHERE "Id" = @p1;
2025-07-29 00:58:41.102 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:58:41.103 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api) in 15.2532ms
2025-07-29 00:58:41.103 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Logout (CeceLearningPortal.Api)'
2025-07-29 00:58:41.104 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/logout - 200 null application/json; charset=utf-8 20.9255ms
2025-07-29 00:58:41.116 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:58:41.117 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:41.117 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:41.118 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:41.121 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:58:41.124 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:58:41.125 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.8837ms
2025-07-29 00:58:41.125 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:41.126 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.357ms
2025-07-29 00:58:43.023 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - null null
2025-07-29 00:58:43.025 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:43.025 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/auth/login - 204 null null 1.7106ms
2025-07-29 00:58:43.027 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5295/api/auth/login - application/json 51
2025-07-29 00:58:43.028 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:43.028 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:58:43.028 +08:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CeceLearningPortal.Api.DTOs.LoginDto) on controller CeceLearningPortal.Api.Controllers.AuthController (CeceLearningPortal.Api).
2025-07-29 00:58:43.030 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-29 00:58:43.077 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?', @p2='?', @p0='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "LastLoginAt" = @p0
WHERE "Id" = @p1 AND "ConcurrencyStamp" = @p2;
INSERT INTO "RefreshTokens" ("CreatedAt", "CreatedByIp", "ExpiresAt", "ReplacedByToken", "RevokedAt", "RevokedByIp", "Token", "UserId")
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2025-07-29 00:58:43.078 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.AuthResponseDto'.
2025-07-29 00:58:43.079 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api) in 49.5409ms
2025-07-29 00:58:43.079 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AuthController.Login (CeceLearningPortal.Api)'
2025-07-29 00:58:43.080 +08:00 [INF] Request finished HTTP/1.1 POST http://localhost:5295/api/auth/login - 200 null application/json; charset=utf-8 53.7442ms
2025-07-29 00:58:43.095 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:58:43.095 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:58:43.097 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:43.098 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:43.099 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 3.3464ms
2025-07-29 00:58:43.099 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 3.6182ms
2025-07-29 00:58:43.100 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:58:43.102 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:58:43.103 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:43.104 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:43.105 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:43.105 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:43.106 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:43.107 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:58:43.108 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:43.108 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:58:43.110 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:58:43.111 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:58:43.112 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:58:43.114 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:58:43.115 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:58:43.115 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 6.271ms
2025-07-29 00:58:43.117 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:58:43.117 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:43.118 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 18.0575ms
2025-07-29 00:58:43.119 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:58:43.122 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:58:43.123 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:58:43.125 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:58:43.126 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:58:43.127 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:58:43.128 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:58:43.129 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.2181ms
2025-07-29 00:58:43.130 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:58:43.131 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 29.0766ms
2025-07-29 00:58:45.072 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:58:45.074 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:45.075 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:45.076 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:58:45.077 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:58:45.078 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:58:45.079 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:58:45.082 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:58:45.084 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:58:45.086 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:58:45.088 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:58:45.090 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:58:45.092 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:58:45.093 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:58:45.094 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:58:45.095 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:58:45.096 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 18.9616ms
2025-07-29 00:58:45.097 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:58:45.098 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 25.3625ms
2025-07-29 00:58:46.688 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:58:46.688 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:58:46.689 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.690 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.690 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.5266ms
2025-07-29 00:58:46.691 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.7103ms
2025-07-29 00:58:46.692 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:58:46.693 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:58:46.694 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.695 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.696 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:46.696 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:46.698 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:58:46.698 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:58:46.699 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:58:46.699 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:58:46.701 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:58:46.702 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:58:46.703 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:58:46.704 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:58:46.705 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:58:46.706 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.6001ms
2025-07-29 00:58:46.706 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 6.4168ms
2025-07-29 00:58:46.707 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:58:46.708 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:58:46.708 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 15.841ms
2025-07-29 00:58:46.708 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.1258ms
2025-07-29 00:58:46.710 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:58:46.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:58:46.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:58:46.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:58:46.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:58:46.712 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.714 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.715 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.716 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.717 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.717 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 7.0211ms
2025-07-29 00:58:46.717 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.7696ms
2025-07-29 00:58:46.718 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 7.0561ms
2025-07-29 00:58:46.718 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.1163ms
2025-07-29 00:58:46.718 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 7.1686ms
2025-07-29 00:58:46.720 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:58:46.721 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:58:46.722 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:58:46.723 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:58:46.725 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:58:46.725 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.726 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.727 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.728 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.729 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:46.730 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:46.731 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:46.731 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:46.731 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:46.732 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:46.732 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 12.5424ms
2025-07-29 00:58:46.733 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 12.2643ms
2025-07-29 00:58:46.734 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 12.0719ms
2025-07-29 00:58:46.735 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.825ms
2025-07-29 00:58:46.736 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.62ms
2025-07-29 00:58:46.737 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:58:46.739 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:58:46.740 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:58:46.741 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:58:46.742 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:58:47.261 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:58:47.698 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.699 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.700 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:47.701 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.704 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:58:47.707 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:58:47.707 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.5056ms
2025-07-29 00:58:47.708 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:58:47.709 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 447.6084ms
2025-07-29 00:58:47.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:58:47.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:58:47.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:58:47.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:58:47.711 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:58:47.712 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:58:47.712 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.713 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.715 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.716 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.717 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.718 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.719 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 8.2398ms
2025-07-29 00:58:47.719 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 8.6331ms
2025-07-29 00:58:47.720 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 8.9952ms
2025-07-29 00:58:47.720 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 9.2877ms
2025-07-29 00:58:47.721 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 9.7226ms
2025-07-29 00:58:47.721 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 9.4284ms
2025-07-29 00:58:47.723 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:58:47.724 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:58:47.725 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:58:47.726 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:58:47.728 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:58:47.729 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:58:47.731 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.732 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.733 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.734 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.735 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.737 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.737 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 14.437ms
2025-07-29 00:58:47.737 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 13.6764ms
2025-07-29 00:58:47.738 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 12.9584ms
2025-07-29 00:58:47.738 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 12.1687ms
2025-07-29 00:58:47.739 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 11.2557ms
2025-07-29 00:58:47.739 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 10.3071ms
2025-07-29 00:58:47.741 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:58:47.742 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:58:47.744 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:58:47.745 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:58:47.746 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:58:47.748 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:58:47.749 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.750 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.752 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.753 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.754 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.755 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.757 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.757 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.757 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.758 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.759 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.759 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.760 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.761 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.762 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.763 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.764 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.766 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.766 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.767 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.768 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.768 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.769 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.769 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.773 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.774 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.774 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.775 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.777 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.778 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.780 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.782 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.785 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.786 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.788 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.789 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 18.4087ms
2025-07-29 00:58:47.789 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 18.0666ms
2025-07-29 00:58:47.790 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 17.7209ms
2025-07-29 00:58:47.791 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 17.5834ms
2025-07-29 00:58:47.792 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 17.0795ms
2025-07-29 00:58:47.792 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 16.7826ms
2025-07-29 00:58:47.793 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.794 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.794 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.795 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.796 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.797 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.798 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 57.103ms
2025-07-29 00:58:47.799 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 56.4412ms
2025-07-29 00:58:47.799 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 55.8225ms
2025-07-29 00:58:47.800 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 55.2721ms
2025-07-29 00:58:47.801 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 54.6768ms
2025-07-29 00:58:47.801 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 53.3853ms
2025-07-29 00:58:47.803 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:58:47.805 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:58:47.806 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:58:47.807 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:58:47.809 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:58:47.810 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:58:47.812 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.813 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.815 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.816 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.818 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.819 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:47.820 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.820 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.821 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.821 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.821 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.822 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:47.822 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.823 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.824 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.825 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.826 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.827 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.827 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.828 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.828 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.828 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.829 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.829 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:58:47.832 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.833 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.834 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.835 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.835 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.836 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:58:47.837 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.838 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.840 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.842 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.843 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.845 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:58:47.845 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.6449ms
2025-07-29 00:58:47.846 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.3371ms
2025-07-29 00:58:47.847 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.1061ms
2025-07-29 00:58:47.850 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.848 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.1771ms
2025-07-29 00:58:47.849 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9941ms
2025-07-29 00:58:47.849 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.850 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.847 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.1843ms
2025-07-29 00:58:47.851 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 45.034ms
2025-07-29 00:58:47.852 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.852 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.853 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 49.4286ms
2025-07-29 00:58:47.853 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 48.4999ms
2025-07-29 00:58:47.854 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:58:47.855 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 46.5436ms
2025-07-29 00:58:47.856 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 45.435ms
2025-07-29 00:58:47.859 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 51.4784ms
2025-07-29 00:58:48.027 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:58:48.029 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:48.029 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.7219ms
2025-07-29 00:58:48.031 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:58:48.032 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:58:48.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:58:48.034 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.2342ms
2025-07-29 00:58:48.035 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:59:26.058 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:59:26.059 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:26.060 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.8374ms
2025-07-29 00:59:26.061 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:59:26.062 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:26.064 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:26.067 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:59:26.068 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:59:26.071 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:59:26.072 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:59:26.073 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.2049ms
2025-07-29 00:59:26.075 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:59:26.075 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 13.945ms
2025-07-29 00:59:48.835 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 00:59:48.836 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:48.837 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.8651ms
2025-07-29 00:59:48.838 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 00:59:48.840 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:48.841 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:48.842 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:59:48.842 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 00:59:48.844 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:59:48.846 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 00:59:48.847 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 00:59:48.849 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 00:59:48.852 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 00:59:48.854 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 00:59:48.856 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 00:59:48.858 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 00:59:48.859 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 00:59:48.861 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 00:59:48.862 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 00:59:48.863 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.8328ms
2025-07-29 00:59:48.864 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 00:59:48.865 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 26.2121ms
2025-07-29 00:59:53.250 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 00:59:53.250 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 00:59:53.251 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.252 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.253 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.9028ms
2025-07-29 00:59:53.253 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.896ms
2025-07-29 00:59:53.254 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:59:53.256 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 00:59:53.257 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.258 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.259 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.259 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.260 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:59:53.261 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:59:53.261 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:59:53.262 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:59:53.263 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:59:53.264 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 00:59:53.265 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:59:53.267 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 00:59:53.267 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.3392ms
2025-07-29 00:59:53.268 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:59:53.268 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:59:53.269 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.8348ms
2025-07-29 00:59:53.270 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 15.1832ms
2025-07-29 00:59:53.270 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 00:59:53.272 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 16.6066ms
2025-07-29 00:59:53.273 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 00:59:53.274 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 00:59:53.274 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 00:59:53.274 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 00:59:53.274 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 00:59:53.275 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.276 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.276 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.277 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.278 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.279 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.3815ms
2025-07-29 00:59:53.279 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 5.4293ms
2025-07-29 00:59:53.279 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 5.6247ms
2025-07-29 00:59:53.280 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 5.792ms
2025-07-29 00:59:53.280 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.2213ms
2025-07-29 00:59:53.282 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 00:59:53.284 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 00:59:53.285 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 00:59:53.286 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 00:59:53.287 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 00:59:53.288 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.289 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.290 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.291 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.292 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.293 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.293 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.293 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.294 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.294 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.295 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 11.1ms
2025-07-29 00:59:53.296 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 13.3728ms
2025-07-29 00:59:53.297 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.7721ms
2025-07-29 00:59:53.298 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.722ms
2025-07-29 00:59:53.299 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.6501ms
2025-07-29 00:59:53.300 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 00:59:53.301 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 00:59:53.303 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 00:59:53.304 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 00:59:53.305 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 00:59:53.911 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 00:59:53.913 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.914 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.5335ms
2025-07-29 00:59:53.916 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 00:59:53.917 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.919 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.920 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:59:53.920 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:53.923 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 00:59:53.925 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:59:53.926 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.819ms
2025-07-29 00:59:53.927 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 00:59:53.927 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.4084ms
2025-07-29 00:59:53.929 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 00:59:53.929 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 00:59:53.929 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 00:59:53.929 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 00:59:53.929 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 00:59:53.929 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 00:59:53.930 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.931 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.932 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.933 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.934 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.935 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.935 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 6.7214ms
2025-07-29 00:59:53.936 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 7.1044ms
2025-07-29 00:59:53.936 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.4951ms
2025-07-29 00:59:53.937 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.8334ms
2025-07-29 00:59:53.937 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 8.1644ms
2025-07-29 00:59:53.937 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.3173ms
2025-07-29 00:59:53.939 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 00:59:53.940 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 00:59:53.941 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 00:59:53.942 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 00:59:53.943 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 00:59:53.944 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 00:59:53.945 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.946 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.947 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.949 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.950 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.951 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.951 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.6357ms
2025-07-29 00:59:53.952 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.8788ms
2025-07-29 00:59:53.952 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 11.1834ms
2025-07-29 00:59:53.953 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 10.4727ms
2025-07-29 00:59:53.953 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.7061ms
2025-07-29 00:59:53.953 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.9803ms
2025-07-29 00:59:53.955 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 00:59:53.956 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 00:59:53.957 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 00:59:53.958 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 00:59:53.964 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.960 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 00:59:53.961 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.962 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.963 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.959 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 00:59:53.966 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.966 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.967 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.967 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.967 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.968 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:53.969 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.970 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.970 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.971 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.972 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.973 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:53.973 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:53.974 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.974 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:53.974 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:53.975 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:53.976 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.977 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:53.978 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:53.979 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:53.980 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:53.980 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:53.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:53.982 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:53.983 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:53.984 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:53.986 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:53.988 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:53.988 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:53.989 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:53.990 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2742ms
2025-07-29 00:59:53.990 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.624ms
2025-07-29 00:59:53.991 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.4772ms
2025-07-29 00:59:53.992 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:53.993 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.53ms
2025-07-29 00:59:53.993 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8881ms
2025-07-29 00:59:53.994 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.995 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.995 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.996 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.4232ms
2025-07-29 00:59:53.996 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.997 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:53.997 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 39.0949ms
2025-07-29 00:59:53.998 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 43.1917ms
2025-07-29 00:59:53.998 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 42.5456ms
2025-07-29 00:59:53.999 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.000 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 42.6872ms
2025-07-29 00:59:54.000 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 39.93ms
2025-07-29 00:59:54.001 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 00:59:54.003 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 00:59:54.004 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 00:59:54.004 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 45.0761ms
2025-07-29 00:59:54.005 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 00:59:54.007 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 00:59:54.008 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:54.009 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:54.009 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:54.011 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 00:59:54.012 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:54.012 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:54.014 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:54.014 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:54.014 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:54.015 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:54.016 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:54.016 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:54.017 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.018 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.018 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.019 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:54.020 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.021 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.021 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:54.021 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:54.022 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:54.023 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.023 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:54.024 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:54.026 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:54.026 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 00:59:54.026 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:54.027 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:54.028 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:54.029 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:54.030 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:54.032 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 00:59:54.032 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:54.034 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:54.035 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:54.037 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:54.037 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7884ms
2025-07-29 00:59:54.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 00:59:54.039 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.154ms
2025-07-29 00:59:54.040 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8561ms
2025-07-29 00:59:54.040 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1997ms
2025-07-29 00:59:54.041 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9439ms
2025-07-29 00:59:54.041 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.042 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.7505ms
2025-07-29 00:59:54.042 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.043 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.044 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.044 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.045 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 41.8574ms
2025-07-29 00:59:54.045 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 00:59:54.045 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 44.0121ms
2025-07-29 00:59:54.046 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 42.1526ms
2025-07-29 00:59:54.046 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.9922ms
2025-07-29 00:59:54.047 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 40.3384ms
2025-07-29 00:59:54.049 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 38.5097ms
2025-07-29 00:59:56.412 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 00:59:56.413 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:56.413 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.603ms
2025-07-29 00:59:56.415 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 00:59:56.416 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:56.418 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:56.419 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.389ms
2025-07-29 00:59:56.420 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 00:59:57.055 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 00:59:57.056 +08:00 [INF] CORS policy execution successful.
2025-07-29 00:59:57.057 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 00:59:57.058 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:59:57.059 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 00:59:57.060 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 00:59:57.061 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 00:59:57.062 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 2.5259ms
2025-07-29 00:59:57.063 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 00:59:57.063 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.257ms
2025-07-29 01:00:01.241 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:00:01.243 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:01.243 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.6056ms
2025-07-29 01:00:01.245 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:00:01.246 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:01.290 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:01.292 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:01.292 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:00:01.294 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:00:01.296 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:00:01.298 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:00:01.301 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:00:01.304 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:00:01.306 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:00:01.308 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:00:01.310 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:00:01.311 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:00:01.312 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:00:01.313 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:00:01.314 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 21.3718ms
2025-07-29 01:00:01.315 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:01.316 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 70.8637ms
2025-07-29 01:00:09.855 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:00:09.857 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:09.857 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.7556ms
2025-07-29 01:00:09.858 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:00:09.859 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:09.861 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:09.862 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:09.862 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:00:09.864 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:00:09.865 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:09.866 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.1943ms
2025-07-29 01:00:09.867 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:09.867 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.8444ms
2025-07-29 01:00:10.972 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 01:00:10.974 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:10.974 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.5953ms
2025-07-29 01:00:10.975 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:00:10.976 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:10.978 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:10.979 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.3338ms
2025-07-29 01:00:10.980 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:00:18.461 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 01:00:18.462 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.463 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.6417ms
2025-07-29 01:00:18.464 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:00:18.466 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.467 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.468 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:18.468 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.472 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:00:18.474 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:18.475 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.4409ms
2025-07-29 01:00:18.475 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:18.476 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.3951ms
2025-07-29 01:00:18.477 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 01:00:18.477 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 01:00:18.478 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 01:00:18.478 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 01:00:18.478 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 01:00:18.478 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 01:00:18.478 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.479 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.480 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.482 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.483 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.484 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.485 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 7.6105ms
2025-07-29 01:00:18.485 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 7.7182ms
2025-07-29 01:00:18.485 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.9156ms
2025-07-29 01:00:18.486 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 8.3823ms
2025-07-29 01:00:18.486 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 8.4368ms
2025-07-29 01:00:18.487 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.8343ms
2025-07-29 01:00:18.488 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 01:00:18.489 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 01:00:18.491 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 01:00:18.492 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 01:00:18.493 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 01:00:18.494 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 01:00:18.495 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.496 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.497 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.498 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.499 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.500 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.501 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.5701ms
2025-07-29 01:00:18.501 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.7792ms
2025-07-29 01:00:18.501 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.6284ms
2025-07-29 01:00:18.502 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.8938ms
2025-07-29 01:00:18.502 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.1571ms
2025-07-29 01:00:18.503 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.4127ms
2025-07-29 01:00:18.504 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:00:18.505 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:00:18.506 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:00:18.508 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:00:18.509 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:00:18.510 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:00:18.511 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.512 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.513 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.514 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.515 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.516 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.517 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.520 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.520 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.523 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.525 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.525 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 3.9997ms
2025-07-29 01:00:18.526 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.526 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 22.4524ms
2025-07-29 01:00:18.528 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:00:18.529 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.531 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.532 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.533 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.540 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.542 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.543 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 8.9505ms
2025-07-29 01:00:18.544 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.545 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 16.8497ms
2025-07-29 01:00:18.547 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:00:18.549 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.550 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.552 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.552 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.555 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.558 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.559 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 5.1175ms
2025-07-29 01:00:18.560 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.560 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 13.8351ms
2025-07-29 01:00:18.562 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:00:18.563 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.565 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.566 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.567 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.570 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.570 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.572 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.572 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.573 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.573 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 5.1744ms
2025-07-29 01:00:18.574 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.575 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.575 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.576 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.576 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.577 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 14.927ms
2025-07-29 01:00:18.578 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.578 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.580 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:00:18.581 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.582 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.584 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.584 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.585 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.586 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.587 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.587 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 10.424ms
2025-07-29 01:00:18.589 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.590 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.590 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.590 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.590 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.591 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.592 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.401ms
2025-07-29 01:00:18.592 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.593 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.594 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.595 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 90.4303ms
2025-07-29 01:00:18.596 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.596 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.597 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.598 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.5923ms
2025-07-29 01:00:18.600 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:00:18.600 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 93.9008ms
2025-07-29 01:00:18.602 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.602 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.603 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.604 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.604 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.606 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:00:18.606 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.227ms
2025-07-29 01:00:18.608 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.608 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 100.6783ms
2025-07-29 01:00:18.609 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.610 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.611 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:18.612 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.612 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.7664ms
2025-07-29 01:00:18.614 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.615 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7833ms
2025-07-29 01:00:18.616 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 107.5889ms
2025-07-29 01:00:18.617 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:18.617 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.617 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.618 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.620 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.621 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 110.652ms
2025-07-29 01:00:18.622 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 41.5166ms
2025-07-29 01:00:18.622 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:18.623 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.627 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:18.627 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.629 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:18.629 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 7.7955ms
2025-07-29 01:00:18.630 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 4.2004ms
2025-07-29 01:00:18.630 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.631 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:18.632 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 31.8038ms
2025-07-29 01:00:18.632 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 26.4726ms
2025-07-29 01:00:19.335 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:00:19.335 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:00:19.337 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.338 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.339 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 3.7764ms
2025-07-29 01:00:19.339 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 4.0803ms
2025-07-29 01:00:19.341 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:00:19.342 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:00:19.343 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.344 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.345 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:19.345 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:19.346 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:19.347 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:00:19.348 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:00:19.348 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:00:19.351 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:00:19.351 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:00:19.353 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:00:19.353 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:19.354 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:19.355 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 5.5499ms
2025-07-29 01:00:19.355 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.3558ms
2025-07-29 01:00:19.356 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:19.356 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:00:19.357 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 15.8859ms
2025-07-29 01:00:19.357 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.1452ms
2025-07-29 01:00:19.359 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:00:19.359 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:00:19.359 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:00:19.359 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:00:19.360 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:00:19.361 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.362 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.363 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.364 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.365 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.365 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.6315ms
2025-07-29 01:00:19.366 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 7.055ms
2025-07-29 01:00:19.366 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 7.5329ms
2025-07-29 01:00:19.371 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:00:19.367 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 7.229ms
2025-07-29 01:00:19.369 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:00:19.370 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:00:19.367 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.9815ms
2025-07-29 01:00:19.372 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.373 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:00:19.374 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.375 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.376 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:00:19.378 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:19.378 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.379 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:19.379 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:19.379 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:19.380 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 9.2524ms
2025-07-29 01:00:19.381 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:19.382 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 13.5142ms
2025-07-29 01:00:19.384 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 13.7886ms
2025-07-29 01:00:19.385 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:19.385 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:00:19.386 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 12.9352ms
2025-07-29 01:00:19.387 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:00:19.389 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:00:19.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 13.0324ms
2025-07-29 01:00:19.392 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:00:19.394 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:00:20.311 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:00:20.313 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.314 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.315 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:20.316 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.319 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:00:20.321 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:20.322 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8649ms
2025-07-29 01:00:20.322 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:20.323 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.5643ms
2025-07-29 01:00:20.325 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:00:20.325 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:00:20.325 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:00:20.325 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:00:20.325 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:00:20.325 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:00:20.326 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.327 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.328 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.329 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.331 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.332 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.333 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.333 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.334 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.334 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.334 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.335 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.335 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.336 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.337 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.338 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.339 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.340 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.340 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.340 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.341 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.341 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.342 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.342 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.344 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.345 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.347 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.348 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.349 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.349 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.350 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.351 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.352 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.354 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.355 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.356 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8668ms
2025-07-29 01:00:20.357 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.358 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2068ms
2025-07-29 01:00:20.358 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.4089ms
2025-07-29 01:00:20.359 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.1894ms
2025-07-29 01:00:20.360 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 15.2151ms
2025-07-29 01:00:20.360 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.361 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 15.6029ms
2025-07-29 01:00:20.361 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.362 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.362 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.363 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.363 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 38.4277ms
2025-07-29 01:00:20.364 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.364 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 39.4967ms
2025-07-29 01:00:20.365 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 39.6756ms
2025-07-29 01:00:20.366 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 40.1848ms
2025-07-29 01:00:20.366 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 40.9789ms
2025-07-29 01:00:20.367 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:00:20.368 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 42.7144ms
2025-07-29 01:00:20.369 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:00:20.370 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:00:20.372 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:00:20.373 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:00:20.374 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.375 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:00:20.376 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.377 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.378 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.378 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.380 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.380 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:20.381 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.381 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.381 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.382 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.382 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.383 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:20.383 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.384 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.385 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.386 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.386 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.387 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.387 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.388 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.388 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.389 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.390 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:20.391 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.392 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.393 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.394 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.394 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.395 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:20.396 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.397 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.398 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.400 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.401 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.403 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:20.403 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5771ms
2025-07-29 01:00:20.404 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0045ms
2025-07-29 01:00:20.404 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9398ms
2025-07-29 01:00:20.405 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7241ms
2025-07-29 01:00:20.406 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.5228ms
2025-07-29 01:00:20.406 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.3215ms
2025-07-29 01:00:20.407 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.408 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.408 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.409 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.409 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.410 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:20.411 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 43.0683ms
2025-07-29 01:00:20.411 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 41.8382ms
2025-07-29 01:00:20.412 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.2372ms
2025-07-29 01:00:20.412 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.5571ms
2025-07-29 01:00:20.413 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 39.9061ms
2025-07-29 01:00:20.413 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 38.2497ms
2025-07-29 01:00:21.067 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:00:21.068 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:21.069 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.4944ms
2025-07-29 01:00:21.070 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:00:21.071 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:21.073 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:21.074 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:21.074 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:00:21.076 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:00:21.077 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:00:21.078 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:00:21.079 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:00:21.083 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:00:21.086 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:00:21.088 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:00:21.090 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:00:21.091 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:00:21.092 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:00:21.093 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:00:21.094 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.2281ms
2025-07-29 01:00:21.095 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:21.095 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 25.4432ms
2025-07-29 01:00:22.010 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:00:22.011 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:22.013 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:22.014 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:22.015 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:00:22.017 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:00:22.019 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:00:22.022 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:00:22.023 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:00:22.027 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:00:22.029 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:00:22.031 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:00:22.033 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:00:22.036 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:00:22.038 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:00:22.039 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:00:22.040 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 22.9585ms
2025-07-29 01:00:22.040 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:22.041 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 31.2559ms
2025-07-29 01:00:32.233 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:00:32.234 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:32.235 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.8741ms
2025-07-29 01:00:32.236 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:00:32.237 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:32.239 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:32.240 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:32.240 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:00:32.242 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:00:32.243 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:32.244 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 2.717ms
2025-07-29 01:00:32.245 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:32.245 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.8741ms
2025-07-29 01:00:39.327 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:00:39.328 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:39.329 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.5515ms
2025-07-29 01:00:39.330 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:00:39.331 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:39.333 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:39.334 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:39.334 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:00:39.337 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:00:39.338 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:39.339 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.6534ms
2025-07-29 01:00:39.339 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:39.340 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 9.8165ms
2025-07-29 01:00:40.504 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 01:00:40.505 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:40.505 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.6151ms
2025-07-29 01:00:40.507 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:00:40.508 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:40.509 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:40.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 2.9878ms
2025-07-29 01:00:40.511 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:00:42.362 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 01:00:42.363 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.363 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.551ms
2025-07-29 01:00:42.364 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:00:42.366 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.367 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.368 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:42.369 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.372 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:00:42.374 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:42.374 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.7252ms
2025-07-29 01:00:42.375 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:42.375 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.0371ms
2025-07-29 01:00:42.377 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 01:00:42.377 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 01:00:42.377 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 01:00:42.377 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 01:00:42.378 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 01:00:42.378 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 01:00:42.378 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.379 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.380 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.381 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.382 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.383 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.384 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 7.1041ms
2025-07-29 01:00:42.384 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 7.2047ms
2025-07-29 01:00:42.385 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.7157ms
2025-07-29 01:00:42.385 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.6837ms
2025-07-29 01:00:42.385 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.9031ms
2025-07-29 01:00:42.386 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.3439ms
2025-07-29 01:00:42.387 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 01:00:42.388 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 01:00:42.390 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 01:00:42.391 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 01:00:42.392 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 01:00:42.393 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 01:00:42.394 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.395 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.396 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.397 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.398 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.399 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.399 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 11.7168ms
2025-07-29 01:00:42.399 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.0424ms
2025-07-29 01:00:42.400 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.2538ms
2025-07-29 01:00:42.400 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.5447ms
2025-07-29 01:00:42.401 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 8.8473ms
2025-07-29 01:00:42.401 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.0813ms
2025-07-29 01:00:42.402 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:00:42.404 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:00:42.405 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:00:42.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:00:42.407 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:00:42.408 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:00:42.409 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.410 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.411 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.412 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.413 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.413 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.415 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.415 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.415 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.416 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.416 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.417 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.417 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.418 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.419 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.420 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.420 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.421 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.422 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.422 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.423 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.423 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.423 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.424 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.426 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.427 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.428 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.428 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.429 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.430 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.430 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.432 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.433 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.435 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.436 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.438 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.438 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6765ms
2025-07-29 01:00:42.439 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5315ms
2025-07-29 01:00:42.440 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.4095ms
2025-07-29 01:00:42.440 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1577ms
2025-07-29 01:00:42.441 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9703ms
2025-07-29 01:00:42.441 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7956ms
2025-07-29 01:00:42.442 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.442 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.443 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.443 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.444 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.444 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.445 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 42.3621ms
2025-07-29 01:00:42.445 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 41.7956ms
2025-07-29 01:00:42.446 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 41.2854ms
2025-07-29 01:00:42.446 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 40.7325ms
2025-07-29 01:00:42.447 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 40.1153ms
2025-07-29 01:00:42.447 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 39.4768ms
2025-07-29 01:00:42.449 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:00:42.450 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:00:42.451 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:00:42.453 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:00:42.454 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:00:42.455 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:00:42.456 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.457 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.458 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.459 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.460 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.460 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:42.462 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.462 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.462 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.462 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.463 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.463 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:42.463 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.464 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.465 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.466 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.467 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.468 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.469 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.469 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.469 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.470 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.470 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.471 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:42.473 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.473 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.474 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.475 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.476 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.477 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:42.477 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.478 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.480 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.481 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.483 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.484 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:42.485 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.4113ms
2025-07-29 01:00:42.485 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1864ms
2025-07-29 01:00:42.486 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.053ms
2025-07-29 01:00:42.487 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9657ms
2025-07-29 01:00:42.487 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.827ms
2025-07-29 01:00:42.488 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8735ms
2025-07-29 01:00:42.489 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.489 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.490 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.490 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.491 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.491 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:42.492 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 42.8399ms
2025-07-29 01:00:42.492 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 41.9445ms
2025-07-29 01:00:42.493 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.2697ms
2025-07-29 01:00:42.493 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.6478ms
2025-07-29 01:00:42.494 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 40.0976ms
2025-07-29 01:00:42.494 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 39.3435ms
2025-07-29 01:00:43.736 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:00:43.736 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:00:43.737 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.738 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.738 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.6152ms
2025-07-29 01:00:43.739 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:43.740 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:00:43.741 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:43.742 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.742 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:00:43.743 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:43.745 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:00:43.745 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:00:43.747 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:43.747 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:00:43.748 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.3747ms
2025-07-29 01:00:43.750 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:00:43.751 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:00:43.751 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 15.1217ms
2025-07-29 01:00:43.753 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:00:43.755 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:43.756 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 6.6597ms
2025-07-29 01:00:43.757 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:00:43.758 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 18.0756ms
2025-07-29 01:00:43.760 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:00:43.760 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:00:43.760 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:00:43.760 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:00:43.760 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:00:43.761 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.763 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.764 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.765 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.766 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.767 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 7.0916ms
2025-07-29 01:00:43.767 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 7.6122ms
2025-07-29 01:00:43.768 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 7.9497ms
2025-07-29 01:00:43.768 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 8.4319ms
2025-07-29 01:00:43.769 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 8.8694ms
2025-07-29 01:00:43.771 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:00:43.772 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:00:43.773 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:00:43.774 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:00:43.776 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:00:43.777 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.778 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.778 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.779 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.780 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:43.782 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:43.782 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:43.782 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:43.783 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:43.783 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:43.784 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 11.6798ms
2025-07-29 01:00:43.785 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 13.8471ms
2025-07-29 01:00:43.786 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 12.4154ms
2025-07-29 01:00:43.787 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 12.0207ms
2025-07-29 01:00:43.787 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.7917ms
2025-07-29 01:00:43.789 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:00:43.790 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:00:43.791 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:00:43.793 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:00:43.794 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:00:44.555 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:00:44.557 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:44.557 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.917ms
2025-07-29 01:00:44.559 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:00:44.561 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:44.562 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:44.564 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:44.564 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:00:44.566 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:00:44.568 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:00:44.569 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:00:44.571 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:00:44.573 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:00:44.575 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:00:44.577 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:00:44.578 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:00:44.580 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:00:44.582 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:00:44.583 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:00:44.584 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 18.586ms
2025-07-29 01:00:44.585 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:00:44.585 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 25.7985ms
2025-07-29 01:00:45.446 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:00:45.448 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.449 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.451 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:45.451 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.454 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:00:45.456 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:00:45.457 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8057ms
2025-07-29 01:00:45.457 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:00:45.458 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.4008ms
2025-07-29 01:00:45.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:00:45.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:00:45.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:00:45.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:00:45.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:00:45.465 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.461 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.462 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.463 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.464 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.460 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:00:45.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.467 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.467 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.468 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.468 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.468 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.469 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.470 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.471 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.472 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.473 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.473 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.473 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.474 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.474 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.475 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.475 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.476 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.478 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.479 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.481 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.481 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.481 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.483 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.484 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.486 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.488 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.488 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.489 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.490 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8728ms
2025-07-29 01:00:45.490 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.4236ms
2025-07-29 01:00:45.491 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.2907ms
2025-07-29 01:00:45.492 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.493 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5773ms
2025-07-29 01:00:45.494 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.3741ms
2025-07-29 01:00:45.494 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.495 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.495 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.496 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 9.3302ms
2025-07-29 01:00:45.496 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.497 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.497 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 37.0921ms
2025-07-29 01:00:45.498 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 37.9375ms
2025-07-29 01:00:45.498 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 38.4399ms
2025-07-29 01:00:45.499 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.499 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 39.3009ms
2025-07-29 01:00:45.500 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 40.0285ms
2025-07-29 01:00:45.501 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:00:45.502 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:00:45.504 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:00:45.504 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 43.8779ms
2025-07-29 01:00:45.505 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:00:45.507 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:00:45.508 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.509 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.510 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.511 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:00:45.512 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.512 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.514 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.514 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.514 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.515 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:00:45.515 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.516 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.516 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.517 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.518 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.519 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:00:45.519 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.520 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.521 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.521 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.521 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.522 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.523 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.523 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.525 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.526 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.526 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:00:45.527 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.528 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.529 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.530 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.532 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.534 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.534 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:00:45.536 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.537 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.538 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9655ms
2025-07-29 01:00:45.538 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7352ms
2025-07-29 01:00:45.539 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5055ms
2025-07-29 01:00:45.541 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:00:45.541 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.9513ms
2025-07-29 01:00:45.542 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.7781ms
2025-07-29 01:00:45.542 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.543 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.543 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.544 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.5538ms
2025-07-29 01:00:45.545 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.545 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.546 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 44.3141ms
2025-07-29 01:00:45.546 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 43.7513ms
2025-07-29 01:00:45.547 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 43.0518ms
2025-07-29 01:00:45.547 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:00:45.548 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 42.4871ms
2025-07-29 01:00:45.549 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 41.8468ms
2025-07-29 01:00:45.553 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 42.3962ms
2025-07-29 01:01:20.555 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:01:20.557 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:20.557 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.8209ms
2025-07-29 01:01:20.559 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:01:20.560 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:20.561 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:20.562 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:01:20.562 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:01:20.564 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:01:20.565 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:01:20.567 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.4469ms
2025-07-29 01:01:20.567 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:01:20.568 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 9.2758ms
2025-07-29 01:01:21.372 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 01:01:21.374 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:21.374 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.6532ms
2025-07-29 01:01:21.375 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:01:21.376 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:21.378 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:21.379 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.2089ms
2025-07-29 01:01:21.380 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:01:23.852 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 01:01:23.853 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.853 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.8059ms
2025-07-29 01:01:23.855 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:01:23.856 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.857 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.858 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:01:23.858 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.861 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:01:23.863 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:01:23.864 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8355ms
2025-07-29 01:01:23.865 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:01:23.865 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.3045ms
2025-07-29 01:01:23.867 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 01:01:23.867 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 01:01:23.867 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 01:01:23.867 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 01:01:23.868 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 01:01:23.868 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 01:01:23.873 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.869 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.870 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.871 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.872 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.868 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.874 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 5.9293ms
2025-07-29 01:01:23.874 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 6.5499ms
2025-07-29 01:01:23.874 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 6.9158ms
2025-07-29 01:01:23.875 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.1256ms
2025-07-29 01:01:23.875 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.3023ms
2025-07-29 01:01:23.875 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 8.2383ms
2025-07-29 01:01:23.877 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 01:01:23.878 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 01:01:23.879 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 01:01:23.880 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 01:01:23.882 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 01:01:23.883 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 01:01:23.885 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.885 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.887 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.888 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.889 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.890 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.890 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 13.2442ms
2025-07-29 01:01:23.890 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 12.2737ms
2025-07-29 01:01:23.891 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 11.4434ms
2025-07-29 01:01:23.891 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 10.6118ms
2025-07-29 01:01:23.891 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.7421ms
2025-07-29 01:01:23.892 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.492ms
2025-07-29 01:01:23.893 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:01:23.894 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:01:23.896 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:01:23.897 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:01:23.898 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:01:23.900 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:01:23.901 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.902 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.903 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.904 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.905 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.906 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.908 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.908 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.908 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.909 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.910 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.911 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.911 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.912 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.913 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.914 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.914 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.914 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.915 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.915 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.916 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.918 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.919 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.920 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.921 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.921 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.922 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.923 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.924 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.925 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.927 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.928 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.930 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.930 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6404ms
2025-07-29 01:01:23.931 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.3137ms
2025-07-29 01:01:23.931 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.1166ms
2025-07-29 01:01:23.932 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8718ms
2025-07-29 01:01:23.933 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8803ms
2025-07-29 01:01:23.934 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7099ms
2025-07-29 01:01:23.934 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.935 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.935 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.936 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.936 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.937 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.937 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 44.1523ms
2025-07-29 01:01:23.938 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 43.3998ms
2025-07-29 01:01:23.938 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 42.721ms
2025-07-29 01:01:23.939 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 42.0197ms
2025-07-29 01:01:23.939 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 41.2759ms
2025-07-29 01:01:23.940 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 40.0961ms
2025-07-29 01:01:23.941 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:01:23.942 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:01:23.944 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:01:23.945 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:01:23.946 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:01:23.947 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:01:23.948 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.949 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.950 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.952 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.953 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.953 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:23.955 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.955 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.956 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.956 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.956 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.956 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:23.957 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.958 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.959 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.960 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.960 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.961 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.962 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.962 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.963 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.963 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.963 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.964 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:01:23.966 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.967 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.968 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.969 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.970 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.971 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:01:23.971 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.973 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.974 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.976 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.977 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.979 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:01:23.979 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.5961ms
2025-07-29 01:01:23.980 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.3341ms
2025-07-29 01:01:23.980 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6229ms
2025-07-29 01:01:23.981 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2264ms
2025-07-29 01:01:23.981 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0055ms
2025-07-29 01:01:23.985 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.983 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.983 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.984 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.985 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.982 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7912ms
2025-07-29 01:01:23.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 39.7182ms
2025-07-29 01:01:23.986 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 43.7019ms
2025-07-29 01:01:23.987 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 45.495ms
2025-07-29 01:01:23.987 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 43.616ms
2025-07-29 01:01:23.988 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 42.994ms
2025-07-29 01:01:23.988 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:01:23.994 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 47.3343ms
2025-07-29 01:01:24.885 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:01:24.885 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:01:24.886 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.888 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.888 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 3.4908ms
2025-07-29 01:01:24.889 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:24.890 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:01:24.891 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:01:24.892 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.892 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:01:24.893 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:24.895 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:01:24.895 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:01:24.896 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:01:24.896 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:01:24.897 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.0273ms
2025-07-29 01:01:24.898 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:01:24.898 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:01:24.900 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:01:24.900 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 14.7836ms
2025-07-29 01:01:24.901 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:01:24.903 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.1933ms
2025-07-29 01:01:24.903 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:01:24.904 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 13.8853ms
2025-07-29 01:01:24.905 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:01:24.905 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:01:24.905 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:01:24.906 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:01:24.906 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:01:24.906 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.911 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.5109ms
2025-07-29 01:01:24.908 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.910 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.910 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.907 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.912 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:01:24.913 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 7.2718ms
2025-07-29 01:01:24.913 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 7.4723ms
2025-07-29 01:01:24.913 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.811ms
2025-07-29 01:01:24.914 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 8.4477ms
2025-07-29 01:01:24.915 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.916 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:01:24.918 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:01:24.919 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:01:24.920 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:01:24.921 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:24.922 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.922 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.923 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.924 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:24.925 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 13.0323ms
2025-07-29 01:01:24.926 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:24.927 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:24.927 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:24.927 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:24.928 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:01:24.929 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 12.7482ms
2025-07-29 01:01:24.930 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 12.3538ms
2025-07-29 01:01:24.931 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 12.0116ms
2025-07-29 01:01:24.932 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.5497ms
2025-07-29 01:01:24.935 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:01:24.936 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:01:24.937 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:01:24.939 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:01:25.745 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:01:25.746 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:25.746 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.6778ms
2025-07-29 01:01:25.748 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:01:25.749 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:25.751 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:25.752 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:01:25.753 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:01:25.754 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:01:25.755 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:01:25.757 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:01:25.758 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:01:25.760 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:01:25.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:01:25.764 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:01:25.765 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:01:25.767 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:01:25.769 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:01:25.770 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:01:25.771 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 17.2137ms
2025-07-29 01:01:25.771 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:01:25.772 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 24.1436ms
2025-07-29 01:01:43.187 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:01:43.189 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:43.189 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 2.2148ms
2025-07-29 01:01:43.191 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:01:43.192 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:01:43.193 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:01:43.194 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:01:43.195 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:01:43.196 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:01:43.198 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:01:43.199 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:01:43.201 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:01:43.203 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:01:43.206 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:01:43.207 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:01:43.209 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:01:43.211 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:01:43.212 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:01:43.213 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:01:43.214 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 18.5701ms
2025-07-29 01:01:43.215 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:01:43.215 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 24.7809ms
2025-07-29 01:02:10.030 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:02:10.031 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.032 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.6269ms
2025-07-29 01:02:10.034 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:02:10.035 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.036 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.037 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:02:10.038 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:02:10.039 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:02:10.040 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:02:10.042 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:02:10.043 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:02:10.045 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:02:10.047 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:02:10.048 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:02:10.050 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:02:10.051 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:02:10.053 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:02:10.054 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:02:10.055 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 16.2633ms
2025-07-29 01:02:10.056 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:02:10.056 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 22.4089ms
2025-07-29 01:02:10.682 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:02:10.683 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:02:10.684 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.685 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.685 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.873ms
2025-07-29 01:02:10.686 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.8106ms
2025-07-29 01:02:10.687 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:02:10.688 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:02:10.689 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.690 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.691 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.691 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.692 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:10.693 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:02:10.693 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:02:10.694 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:02:10.696 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:02:10.696 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:02:10.697 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:02:10.698 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:02:10.698 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.563ms
2025-07-29 01:02:10.699 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:02:10.700 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:10.701 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.3354ms
2025-07-29 01:02:10.701 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 14.3586ms
2025-07-29 01:02:10.702 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:02:10.704 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.5128ms
2025-07-29 01:02:10.705 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:02:10.705 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:02:10.705 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:02:10.705 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:02:10.705 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:02:10.706 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.707 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.708 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.709 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.710 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.710 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.448ms
2025-07-29 01:02:10.710 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 5.2936ms
2025-07-29 01:02:10.711 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 5.505ms
2025-07-29 01:02:10.711 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 5.9847ms
2025-07-29 01:02:10.712 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 6.254ms
2025-07-29 01:02:10.713 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:02:10.714 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:02:10.715 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:02:10.716 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:02:10.718 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:02:10.719 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.720 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.721 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.722 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.723 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:10.724 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.724 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.724 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.724 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:10.725 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.06ms
2025-07-29 01:02:10.726 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 13.1193ms
2025-07-29 01:02:10.727 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 11.8372ms
2025-07-29 01:02:10.728 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.6842ms
2025-07-29 01:02:10.729 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.0848ms
2025-07-29 01:02:10.730 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:02:10.731 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:02:10.732 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:02:10.734 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:02:10.735 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:02:11.901 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:02:11.902 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:11.903 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:11.904 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:02:11.905 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:02:11.907 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:02:11.908 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:02:11.910 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:02:11.911 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:02:11.914 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:02:11.916 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:02:11.919 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:02:11.920 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:02:11.922 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:02:11.923 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:02:11.924 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:02:11.925 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 19.1313ms
2025-07-29 01:02:11.926 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:02:11.926 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 25.4324ms
2025-07-29 01:02:13.054 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 01:02:13.055 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:13.056 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.5442ms
2025-07-29 01:02:13.057 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:02:13.058 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:13.059 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:13.060 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.107ms
2025-07-29 01:02:13.062 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:02:13.704 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:02:13.706 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:13.707 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:13.708 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:13.708 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:02:13.710 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:02:13.711 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:02:13.712 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 2.794ms
2025-07-29 01:02:13.712 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:13.713 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.7745ms
2025-07-29 01:02:24.370 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:02:24.370 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:02:24.371 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.373 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.373 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.9136ms
2025-07-29 01:02:24.373 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.0273ms
2025-07-29 01:02:24.375 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:02:24.376 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:02:24.377 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.378 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.379 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:24.379 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:24.380 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:02:24.381 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:24.381 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:02:24.381 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:02:24.383 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:02:24.385 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:02:24.385 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:02:24.386 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:02:24.387 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:02:24.387 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.2701ms
2025-07-29 01:02:24.388 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.7902ms
2025-07-29 01:02:24.389 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:24.389 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:02:24.389 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 14.9478ms
2025-07-29 01:02:24.390 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 14.2841ms
2025-07-29 01:02:24.391 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:02:24.391 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:02:24.391 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:02:24.391 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:02:24.393 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:02:24.394 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.395 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.395 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.396 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.397 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.398 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.4233ms
2025-07-29 01:02:24.398 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.6572ms
2025-07-29 01:02:24.398 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 6.9375ms
2025-07-29 01:02:24.399 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.4104ms
2025-07-29 01:02:24.399 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 6.6381ms
2025-07-29 01:02:24.401 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:02:24.402 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:02:24.403 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:02:24.404 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:02:24.406 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:02:24.407 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.407 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.408 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.409 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.410 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:24.412 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:24.412 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:24.412 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:24.412 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:24.413 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:24.413 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 12.3121ms
2025-07-29 01:02:24.414 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.9005ms
2025-07-29 01:02:24.415 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.6595ms
2025-07-29 01:02:24.416 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 11.402ms
2025-07-29 01:02:24.417 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.1765ms
2025-07-29 01:02:24.418 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:02:24.420 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:02:24.421 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:02:24.422 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:02:24.423 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:02:55.153 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 01:02:55.154 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:55.155 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.7396ms
2025-07-29 01:02:55.156 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:02:55.157 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:55.158 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:55.159 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.2521ms
2025-07-29 01:02:55.161 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:02:56.829 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:02:56.831 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:56.831 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.2492ms
2025-07-29 01:02:56.833 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:02:56.834 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:56.836 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:56.837 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:56.838 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:02:56.840 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:02:56.841 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:02:56.841 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 2.6839ms
2025-07-29 01:02:56.842 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:02:56.842 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 9.4186ms
2025-07-29 01:02:57.743 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:02:57.744 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:02:57.745 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:02:57.746 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.4804ms
2025-07-29 01:02:57.748 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:03:13.764 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:03:13.765 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:13.766 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.4515ms
2025-07-29 01:03:13.767 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:03:13.768 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:13.769 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:13.770 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:03:13.771 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:03:13.773 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:03:13.774 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:03:13.774 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 2.767ms
2025-07-29 01:03:13.775 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:03:13.776 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.7625ms
2025-07-29 01:03:15.280 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 01:03:15.282 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:15.282 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.7981ms
2025-07-29 01:03:15.284 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:03:15.285 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:15.286 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:15.287 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.5541ms
2025-07-29 01:03:15.289 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:03:17.669 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 01:03:17.671 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.671 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 2.3248ms
2025-07-29 01:03:17.673 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:03:17.674 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.676 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.677 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:03:17.677 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.680 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:03:17.682 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:03:17.683 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.7264ms
2025-07-29 01:03:17.684 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:03:17.684 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.0072ms
2025-07-29 01:03:17.686 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 01:03:17.686 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 01:03:17.686 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 01:03:17.686 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 01:03:17.687 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 01:03:17.687 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 01:03:17.687 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.688 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.689 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.690 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.691 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.692 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.693 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.8882ms
2025-07-29 01:03:17.693 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 6.8489ms
2025-07-29 01:03:17.693 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.2187ms
2025-07-29 01:03:17.694 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.3795ms
2025-07-29 01:03:17.694 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 7.5464ms
2025-07-29 01:03:17.695 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.9264ms
2025-07-29 01:03:17.696 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 01:03:17.697 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 01:03:17.698 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 01:03:17.699 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 01:03:17.700 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 01:03:17.702 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 01:03:17.703 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.704 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.705 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.706 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.707 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.708 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.708 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.4708ms
2025-07-29 01:03:17.709 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.6409ms
2025-07-29 01:03:17.709 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.8494ms
2025-07-29 01:03:17.710 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 10.204ms
2025-07-29 01:03:17.710 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.5032ms
2025-07-29 01:03:17.710 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.2521ms
2025-07-29 01:03:17.712 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:03:17.713 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:03:17.714 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:03:17.715 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:03:17.716 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:03:17.717 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:03:17.718 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.720 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.721 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.722 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.723 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.724 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.725 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.726 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.726 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.727 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.727 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.728 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.729 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.730 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.731 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.731 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.732 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.732 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.732 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.733 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.733 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.736 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.737 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.737 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.738 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.739 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.740 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.740 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.742 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.743 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.744 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.746 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.747 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.748 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8004ms
2025-07-29 01:03:17.748 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5005ms
2025-07-29 01:03:17.749 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2544ms
2025-07-29 01:03:17.750 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.9721ms
2025-07-29 01:03:17.750 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.6638ms
2025-07-29 01:03:17.751 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.322ms
2025-07-29 01:03:17.751 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.752 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.753 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.753 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.754 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.754 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.755 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 42.1814ms
2025-07-29 01:03:17.755 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 43.8428ms
2025-07-29 01:03:17.756 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 42.1614ms
2025-07-29 01:03:17.757 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 41.6164ms
2025-07-29 01:03:17.757 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 40.9371ms
2025-07-29 01:03:17.758 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 40.3046ms
2025-07-29 01:03:17.759 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:03:17.760 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:03:17.761 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:03:17.762 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:03:17.764 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:03:17.765 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:03:17.766 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.766 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.768 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.769 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.770 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.771 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:03:17.772 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.772 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.772 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.773 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.773 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.773 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:03:17.774 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.775 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.776 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.777 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.778 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.778 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.779 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.779 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.780 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.780 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.780 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.781 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:03:17.783 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.784 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.784 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.785 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.787 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.787 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:03:17.788 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.789 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.791 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.792 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.793 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.795 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:03:17.795 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6461ms
2025-07-29 01:03:17.796 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.3679ms
2025-07-29 01:03:17.796 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2927ms
2025-07-29 01:03:17.797 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.202ms
2025-07-29 01:03:17.798 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7907ms
2025-07-29 01:03:17.798 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.318ms
2025-07-29 01:03:17.799 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.799 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.800 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.800 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.801 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.802 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:03:17.803 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 42.553ms
2025-07-29 01:03:17.803 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 44.2369ms
2025-07-29 01:03:17.804 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 42.488ms
2025-07-29 01:03:17.804 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 41.8374ms
2025-07-29 01:03:17.805 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 41.1478ms
2025-07-29 01:03:17.805 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 40.5895ms
2025-07-29 01:05:10.431 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:05:10.432 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:05:10.433 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.433 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.434 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.5145ms
2025-07-29 01:05:10.434 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.3299ms
2025-07-29 01:05:10.436 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:05:10.437 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:05:10.438 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.439 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.483 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.484 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:05:10.485 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:05:10.487 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.488 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:05:10.488 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:05:10.489 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:05:10.490 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:05:10.490 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 4.5488ms
2025-07-29 01:05:10.491 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:05:10.492 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 56.3456ms
2025-07-29 01:05:10.492 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:05:10.495 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:05:10.496 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:05:10.496 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.6161ms
2025-07-29 01:05:10.497 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:05:10.498 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 60.9071ms
2025-07-29 01:05:10.499 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:05:10.499 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:05:10.499 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:05:10.499 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:05:10.499 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:05:10.500 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.501 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.502 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.503 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.504 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.504 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 5.7397ms
2025-07-29 01:05:10.505 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 5.8787ms
2025-07-29 01:05:10.505 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.1577ms
2025-07-29 01:05:10.506 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.6031ms
2025-07-29 01:05:10.506 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 6.715ms
2025-07-29 01:05:10.507 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:05:10.509 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:05:10.510 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:05:10.511 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:05:10.512 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:05:10.513 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.514 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.515 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.516 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.517 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.518 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.518 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.519 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 12.0283ms
2025-07-29 01:05:10.521 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 12.1848ms
2025-07-29 01:05:10.522 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:05:10.524 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:05:10.565 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.566 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 54.8225ms
2025-07-29 01:05:10.567 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:05:10.569 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.569 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 57.3324ms
2025-07-29 01:05:10.571 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:05:10.664 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.665 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 154.9239ms
2025-07-29 01:05:10.666 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:05:10.971 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:05:10.972 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.972 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 1.6133ms
2025-07-29 01:05:10.974 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:05:10.975 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:10.976 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:10.978 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:05:10.978 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:05:10.980 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:05:10.982 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:05:10.985 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:05:10.987 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:05:10.992 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:05:10.996 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:05:10.998 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:05:11.000 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:05:11.002 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:05:11.004 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:05:11.005 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:05:11.006 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 27.0171ms
2025-07-29 01:05:11.007 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:05:11.007 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 33.4487ms
2025-07-29 01:05:59.969 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:05:59.969 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:05:59.969 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - null null
2025-07-29 01:05:59.970 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:59.971 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:59.972 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:59.972 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 3.4024ms
2025-07-29 01:05:59.973 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 3.5375ms
2025-07-29 01:05:59.973 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/analytics/platform - 204 null null 3.7695ms
2025-07-29 01:05:59.974 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/analytics/platform - application/json null
2025-07-29 01:05:59.975 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:05:59.977 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:05:59.977 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:59.978 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:59.979 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:05:59.981 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:59.981 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:59.981 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:05:59.982 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:05:59.982 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:05:59.983 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:05:59.984 +08:00 [INF] Route matched with {action = "GetPlatformAnalytics", controller = "Analytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlatformAnalytics() on controller CeceLearningPortal.Api.Controllers.AnalyticsController (CeceLearningPortal.Api).
2025-07-29 01:05:59.984 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:05:59.984 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:05:59.986 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:05:59.986 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:05:59.988 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:05:59.988 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Courses" AS c
2025-07-29 01:05:59.989 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:05:59.990 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:05:59.992 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(sum(p."Amount"), 0.0)
FROM "Payments" AS p
WHERE p."Status" = 'Completed'
2025-07-29 01:05:59.992 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:05:59.992 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 5.6675ms
2025-07-29 01:05:59.994 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Enrollments" AS e
2025-07-29 01:05:59.994 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 8.0691ms
2025-07-29 01:05:59.994 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:05:59.996 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:05:59.996 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 19.7274ms
2025-07-29 01:05:59.997 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 21.3279ms
2025-07-29 01:05:59.997 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id" AS "instructorId", a."FullName" AS "instructorName", (
    SELECT count(*)::int
    FROM "Courses" AS c0
    WHERE c0."InstructorId" = a."Id") AS "totalCourses", (
    SELECT count(*)::int
    FROM "Enrollments" AS e
    INNER JOIN "Courses" AS c1 ON e."CourseId" = c1."Id"
    WHERE c1."InstructorId" = a."Id") AS "totalStudents", (
    SELECT COALESCE(sum(p0."Amount"), 0.0)
    FROM "Payments" AS p0
    LEFT JOIN "Courses" AS c2 ON p0."CourseId" = c2."Id"
    WHERE c2."InstructorId" = a."Id" AND p0."Status" = 'Completed') AS "totalRevenue", COALESCE((
    SELECT avg(r."Rating"::double precision)
    FROM "Reviews" AS r
    INNER JOIN "Courses" AS c3 ON r."CourseId" = c3."Id"
    WHERE c3."InstructorId" = a."Id"), 0.0) AS "averageRating"
FROM "AspNetUsers" AS a
WHERE a."Role" = 'Instructor'
ORDER BY (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c ON p."CourseId" = c."Id"
    WHERE c."InstructorId" = a."Id" AND p."Status" = 'Completed') DESC
LIMIT @__p_0
2025-07-29 01:05:59.998 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:05:59.998 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:05:59.999 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:05:59.999 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:05:59.999 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:06:00.001 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.002 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Category" AS category, count(*)::int AS "courseCount", COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int AS "enrollmentCount", (
    SELECT COALESCE(sum(p."Amount"), 0.0)
    FROM "Payments" AS p
    LEFT JOIN "Courses" AS c0 ON p."CourseId" = c0."Id"
    WHERE c0."Category" = c."Category" AND p."Status" = 'Completed') AS revenue
FROM "Courses" AS c
GROUP BY c."Category"
ORDER BY COALESCE(sum((
    SELECT count(*)::int
    FROM "Enrollments" AS e
    WHERE c."Id" = e."CourseId")), 0)::int DESC
2025-07-29 01:06:00.002 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.004 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.005 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.006 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.006 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 8.1439ms
2025-07-29 01:06:00.008 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 9.6706ms
2025-07-29 01:06:00.008 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 9.5483ms
2025-07-29 01:06:00.008 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Year", p0."Month", COALESCE(sum(p0."Amount"), 0.0) AS "Revenue", count(*)::int AS "TransactionCount"
FROM (
    SELECT p."Amount", date_part('year', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', p."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Payments" AS p
    WHERE p."Status" = 'Completed' AND p."CreatedAt" >= @__sixMonthsAgo_0
) AS p0
GROUP BY p0."Year", p0."Month"
2025-07-29 01:06:00.009 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 9.8416ms
2025-07-29 01:06:00.009 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 9.7036ms
2025-07-29 01:06:00.010 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:06:00.012 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:06:00.013 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:06:00.015 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sixMonthsAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Year", a0."Month", count(*)::int AS "NewUsers"
FROM (
    SELECT date_part('year', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', a."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "AspNetUsers" AS a
    WHERE a."CreatedAt" >= @__sixMonthsAgo_0
) AS a0
GROUP BY a0."Year", a0."Month"
2025-07-29 01:06:00.015 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:06:00.016 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:06:00.017 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.018 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.019 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.020 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
2025-07-29 01:06:00.021 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.022 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:00.023 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:00.023 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:00.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:00.024 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."PlanName" AS plan, count(*)::int AS count, COALESCE(sum(s."Price"), 0.0) AS "monthlyRevenue"
FROM "Subscriptions" AS s
WHERE s."Status" = 'Active'
GROUP BY s."PlanName"
2025-07-29 01:06:00.025 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:00.025 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 15.0041ms
2025-07-29 01:06:00.026 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 14.729ms
2025-07-29 01:06:00.027 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 14.4979ms
2025-07-29 01:06:00.028 +08:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`6[[<>f__AnonymousType10`5[[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 01:06:00.029 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 14.1966ms
2025-07-29 01:06:00.031 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:06:00.032 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:06:00.033 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:06:00.034 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api) in 49.3493ms
2025-07-29 01:06:00.036 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:06:00.039 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AnalyticsController.GetPlatformAnalytics (CeceLearningPortal.Api)'
2025-07-29 01:06:00.041 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/analytics/platform - 200 null application/json; charset=utf-8 66.7046ms
2025-07-29 01:06:00.068 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:00.069 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 52.6171ms
2025-07-29 01:06:00.070 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:06:28.526 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:06:28.526 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - null null
2025-07-29 01:06:28.527 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.528 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.528 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 2.8151ms
2025-07-29 01:06:28.529 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users - 204 null null 2.9611ms
2025-07-29 01:06:28.530 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:06:28.531 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:06:28.532 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.533 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.534 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:28.534 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:28.535 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:06:28.536 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:06:28.536 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:06:28.537 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:06:28.539 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:06:28.539 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:06:28.541 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:06:28.541 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:28.542 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:28.543 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 5.0887ms
2025-07-29 01:06:28.543 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 4.6542ms
2025-07-29 01:06:28.544 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:06:28.544 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:06:28.545 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 13.7543ms
2025-07-29 01:06:28.545 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 15.3673ms
2025-07-29 01:06:28.547 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - null null
2025-07-29 01:06:28.547 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - null null
2025-07-29 01:06:28.547 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - null null
2025-07-29 01:06:28.547 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - null null
2025-07-29 01:06:28.548 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - null null
2025-07-29 01:06:28.549 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.550 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.551 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.552 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.552 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.553 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 204 null null 6.3843ms
2025-07-29 01:06:28.553 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 204 null null 6.3789ms
2025-07-29 01:06:28.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 204 null null 6.6537ms
2025-07-29 01:06:28.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 204 null null 7.0341ms
2025-07-29 01:06:28.554 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 204 null null 6.5951ms
2025-07-29 01:06:28.556 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:06:28.557 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:06:28.558 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:06:28.560 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:06:28.561 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:06:28.562 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.563 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.563 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.564 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.565 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:28.566 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:28.566 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:28.567 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:28.567 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:28.567 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:28.568 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 10.6757ms
2025-07-29 01:06:28.569 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 12.8683ms
2025-07-29 01:06:28.570 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 11.4293ms
2025-07-29 01:06:28.571 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 11.2371ms
2025-07-29 01:06:28.572 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.1583ms
2025-07-29 01:06:28.573 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:06:28.574 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:06:28.576 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:06:28.577 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:06:28.578 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:06:30.030 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 01:06:30.031 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.031 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.5779ms
2025-07-29 01:06:30.033 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:06:30.034 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.035 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.036 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:06:30.036 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.040 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:06:30.042 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:30.043 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 5.6345ms
2025-07-29 01:06:30.044 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:06:30.044 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 11.3629ms
2025-07-29 01:06:30.045 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 01:06:30.047 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 01:06:30.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 01:06:30.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 01:06:30.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 01:06:30.046 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 01:06:30.047 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 1.4907ms
2025-07-29 01:06:30.048 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.049 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.050 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.051 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.052 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.053 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 01:06:30.053 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 7.5902ms
2025-07-29 01:06:30.054 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.9684ms
2025-07-29 01:06:30.054 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 8.1426ms
2025-07-29 01:06:30.054 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.0215ms
2025-07-29 01:06:30.055 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 9.191ms
2025-07-29 01:06:30.056 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.057 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 01:06:30.058 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 01:06:30.060 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 01:06:30.061 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 01:06:30.062 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 01:06:30.062 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 9.2818ms
2025-07-29 01:06:30.063 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.064 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.065 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.066 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.067 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.068 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:06:30.068 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 10.98ms
2025-07-29 01:06:30.069 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.1764ms
2025-07-29 01:06:30.069 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.518ms
2025-07-29 01:06:30.069 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 8.8506ms
2025-07-29 01:06:30.070 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.119ms
2025-07-29 01:06:30.071 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.072 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:06:30.074 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:06:30.075 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:06:30.076 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:06:30.077 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:06:30.078 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.079 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.080 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.081 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.082 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.083 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.084 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.089 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.089 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.090 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.091 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.092 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.093 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.094 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.095 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.095 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.095 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.096 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.098 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.100 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.101 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.101 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.101 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.102 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.102 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.103 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.104 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.106 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.108 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.108 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.2344ms
2025-07-29 01:06:30.110 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.110 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.5042ms
2025-07-29 01:06:30.111 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.309ms
2025-07-29 01:06:30.111 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.4139ms
2025-07-29 01:06:30.112 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.2211ms
2025-07-29 01:06:30.112 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.113 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 14.8395ms
2025-07-29 01:06:30.114 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.114 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.115 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.115 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.116 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 47.6556ms
2025-07-29 01:06:30.116 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.117 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 44.108ms
2025-07-29 01:06:30.117 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 43.3512ms
2025-07-29 01:06:30.118 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 41.4979ms
2025-07-29 01:06:30.118 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 40.8302ms
2025-07-29 01:06:30.119 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:06:30.120 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 44.7685ms
2025-07-29 01:06:30.121 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:06:30.122 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:06:30.124 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:06:30.125 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:06:30.126 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.127 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:06:30.128 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.129 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.130 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.131 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.132 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.132 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.133 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.133 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.134 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.134 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.134 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.135 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.136 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.136 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.137 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.138 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.139 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.140 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.140 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.140 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.141 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.141 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.142 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:30.144 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.144 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.145 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.146 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.147 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.148 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:30.148 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.149 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.151 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.152 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.154 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.155 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:30.156 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.8673ms
2025-07-29 01:06:30.156 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2182ms
2025-07-29 01:06:30.157 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0546ms
2025-07-29 01:06:30.158 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8357ms
2025-07-29 01:06:30.158 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.6092ms
2025-07-29 01:06:30.159 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.5033ms
2025-07-29 01:06:30.159 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.160 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.160 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.161 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.161 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.162 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:30.162 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 43.07ms
2025-07-29 01:06:30.163 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 42.0161ms
2025-07-29 01:06:30.163 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.0276ms
2025-07-29 01:06:30.164 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.3101ms
2025-07-29 01:06:30.164 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 39.6653ms
2025-07-29 01:06:30.165 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 38.1055ms
2025-07-29 01:06:30.643 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users - application/json null
2025-07-29 01:06:30.643 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:06:30.645 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.646 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.647 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.647 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.648 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:06:30.649 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:06:30.649 +08:00 [INF] Route matched with {action = "GetUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(CeceLearningPortal.Api.DTOs.UserManagementFilterDto) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:06:30.650 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:06:30.651 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "AspNetUsers" AS a
2025-07-29 01:06:30.652 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:06:30.652 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."UserName", a."Email", a."FullName", a."Role", a."Status", a."CreatedAt", a."LastLoginAt", a."EmailConfirmed"
FROM "AspNetUsers" AS a
ORDER BY a."CreatedAt" DESC
LIMIT @__p_1 OFFSET @__p_0
2025-07-29 01:06:30.653 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:30.654 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.UserManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:30.655 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.7417ms
2025-07-29 01:06:30.656 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api) in 5.352ms
2025-07-29 01:06:30.656 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:06:30.657 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetUsers (CeceLearningPortal.Api)'
2025-07-29 01:06:30.657 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 13.843ms
2025-07-29 01:06:30.658 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users - 200 null application/json; charset=utf-8 14.3386ms
2025-07-29 01:06:30.659 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - application/json null
2025-07-29 01:06:30.659 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - application/json null
2025-07-29 01:06:30.659 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - application/json null
2025-07-29 01:06:30.659 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - application/json null
2025-07-29 01:06:30.661 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - application/json null
2025-07-29 01:06:30.662 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.663 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.664 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.665 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.665 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:30.667 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.667 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.667 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.667 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.668 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:30.668 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription - 404 0 null 8.8807ms
2025-07-29 01:06:30.669 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription - 404 0 null 9.8797ms
2025-07-29 01:06:30.670 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription - 404 0 null 10.7729ms
2025-07-29 01:06:30.671 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription - 404 0 null 11.671ms
2025-07-29 01:06:30.672 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription - 404 0 null 11.5009ms
2025-07-29 01:06:30.673 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/e090c598-224f-4b4c-870a-3c3ef6303e0a/subscription, Response status code: 404
2025-07-29 01:06:30.674 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/801dc698-62a8-49c3-b578-b7c1b05049a4/subscription, Response status code: 404
2025-07-29 01:06:30.676 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/28b8e854-738a-4e69-835c-71299a8f9b21/subscription, Response status code: 404
2025-07-29 01:06:30.677 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/f9f0e64e-3771-4aa9-8470-21e709677e44/subscription, Response status code: 404
2025-07-29 01:06:30.678 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/users/efead752-f0b3-48ab-93b8-7ba31e7574ba/subscription, Response status code: 404
2025-07-29 01:06:31.412 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:06:31.413 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.414 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.415 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:06:31.416 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.419 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:06:31.421 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:31.421 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.8059ms
2025-07-29 01:06:31.422 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:06:31.423 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.7257ms
2025-07-29 01:06:31.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:06:31.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:06:31.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:06:31.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:06:31.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:06:31.425 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:06:31.426 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.427 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.428 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.429 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.430 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.431 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.432 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.432 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.432 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.433 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.433 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.433 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.434 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.435 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.435 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.436 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.437 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.438 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.439 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.439 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.440 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.440 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.440 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.441 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.443 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.444 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.444 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.445 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.446 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.447 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.447 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.449 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.450 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.451 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.453 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.454 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.455 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.3933ms
2025-07-29 01:06:31.456 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.3775ms
2025-07-29 01:06:31.456 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.2644ms
2025-07-29 01:06:31.457 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0213ms
2025-07-29 01:06:31.458 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.93ms
2025-07-29 01:06:31.458 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7151ms
2025-07-29 01:06:31.459 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.459 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.460 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.460 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.461 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.461 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.462 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 37.0216ms
2025-07-29 01:06:31.462 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 37.5337ms
2025-07-29 01:06:31.463 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 37.916ms
2025-07-29 01:06:31.463 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 38.2952ms
2025-07-29 01:06:31.464 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 38.6902ms
2025-07-29 01:06:31.464 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 39.0565ms
2025-07-29 01:06:31.465 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:06:31.467 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:06:31.468 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:06:31.469 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:06:31.470 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:06:31.471 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:06:31.473 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.474 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.475 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.476 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.477 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.478 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:31.479 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.479 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.479 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.480 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.480 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.480 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:31.481 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.482 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.482 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.483 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.484 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.485 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.485 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.486 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.486 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.487 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.487 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.487 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:31.490 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.492 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.493 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.494 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:31.494 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.496 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.497 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.498 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.500 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.501 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:31.502 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6411ms
2025-07-29 01:06:31.502 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.91ms
2025-07-29 01:06:31.503 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.7407ms
2025-07-29 01:06:31.503 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.5301ms
2025-07-29 01:06:31.504 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.2617ms
2025-07-29 01:06:31.505 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.1084ms
2025-07-29 01:06:31.505 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.506 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.506 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.507 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.508 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.508 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:31.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 43.2191ms
2025-07-29 01:06:31.509 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 42.6167ms
2025-07-29 01:06:31.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.8739ms
2025-07-29 01:06:31.510 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 41.2025ms
2025-07-29 01:06:31.511 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 40.5369ms
2025-07-29 01:06:31.511 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 39.8624ms
2025-07-29 01:06:36.510 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - null null
2025-07-29 01:06:36.511 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:36.511 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscriptions - 204 null null 1.5596ms
2025-07-29 01:06:36.513 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - application/json null
2025-07-29 01:06:36.514 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:36.515 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:36.516 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscriptions - 404 0 null 3.1797ms
2025-07-29 01:06:36.517 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5295/api/admin/subscriptions, Response status code: 404
2025-07-29 01:06:37.083 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - null null
2025-07-29 01:06:37.085 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:37.085 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/admin/subscription-plans - 204 null null 1.7708ms
2025-07-29 01:06:37.086 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - application/json null
2025-07-29 01:06:37.087 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:37.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:37.089 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:06:37.090 +08:00 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans(System.Nullable`1[CeceLearningPortal.Api.Models.SubscriptionPlanType]) on controller CeceLearningPortal.Api.Controllers.AdminController (CeceLearningPortal.Api).
2025-07-29 01:06:37.092 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Name", s."Description", s."PlanType", s."MonthlyPrice", s."YearlyPrice", s."MaxCourseAccess", s."HasUnlimitedAccess", s."MaxCoursesCanCreate", s."MaxStudentsPerCourse", s."TransactionFeePercentage", s."HasAnalytics", s."HasPrioritySupport", s."Features", s."IsActive", s."DisplayOrder", s."IsRecommended", (
    SELECT count(*)::int
    FROM "Subscriptions" AS s0
    WHERE s."Id" = s0."SubscriptionPlanId" AND s0."Status" = 'Active') AS "ActiveSubscribers", (
    SELECT COALESCE(sum(CASE
        WHEN s1."BillingCycle" = 'Monthly' THEN s1."Price"
        ELSE s1."Price" / 12.0
    END), 0.0)
    FROM "Subscriptions" AS s1
    WHERE s."Id" = s1."SubscriptionPlanId" AND s1."Status" = 'Active') AS "MonthlyRevenue"
FROM "SubscriptionPlans" AS s
ORDER BY s."DisplayOrder", s."MonthlyPrice"
2025-07-29 01:06:37.093 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CeceLearningPortal.Api.DTOs.SubscriptionPlanManagementDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:37.094 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api) in 3.0988ms
2025-07-29 01:06:37.094 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.AdminController.GetSubscriptionPlans (CeceLearningPortal.Api)'
2025-07-29 01:06:37.095 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/admin/subscription-plans - 200 null application/json; charset=utf-8 8.5833ms
2025-07-29 01:06:41.255 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses - null null
2025-07-29 01:06:41.256 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.256 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses - 204 null null 1.7577ms
2025-07-29 01:06:41.258 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses - application/json null
2025-07-29 01:06:41.259 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.260 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:41.261 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:06:41.261 +08:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(CeceLearningPortal.Api.DTOs.CourseFilterDto) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:41.264 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c0."Id", c0."Category", c0."CreatedAt", c0."Description", c0."Discount", c0."Duration", c0."EnrollmentType", c0."Features", c0."InstructorId", c0."IsBestseller", c0."Level", c0."OriginalPrice", c0."PreviewUrl", c0."Price", c0."Status", c0."Thumbnail", c0."Title", c0."UpdatedAt", a."Id", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status", a."TwoFactorEnabled", a."UserName", s."Id", s."CourseId", s."CreatedAt", s."Description", s."Order", s."Title", s."UpdatedAt", s."Id0", s."Content", s."CreatedAt0", s."Duration", s."ModuleId", s."Order0", s."Title0", s."Type", s."UpdatedAt0", s."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt"
    FROM "Courses" AS c
    ORDER BY c."CreatedAt" DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS c0
INNER JOIN "AspNetUsers" AS a ON c0."InstructorId" = a."Id"
LEFT JOIN (
    SELECT c1."Id", c1."CourseId", c1."CreatedAt", c1."Description", c1."Order", c1."Title", c1."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c1
    LEFT JOIN "Lessons" AS l ON c1."Id" = l."ModuleId"
) AS s ON c0."Id" = s."CourseId"
LEFT JOIN "Reviews" AS r ON c0."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON c0."Id" = e."CourseId"
ORDER BY c0."CreatedAt" DESC, c0."Id", a."Id", s."Id", s."Id0", r."Id"
2025-07-29 01:06:41.266 +08:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[CeceLearningPortal.Api.Models.Course, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CeceLearningPortal.Api.DTOs.CourseDto, CeceLearningPortal.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 01:06:41.267 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api) in 4.5039ms
2025-07-29 01:06:41.267 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourses (CeceLearningPortal.Api)'
2025-07-29 01:06:41.268 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses - 200 null application/json; charset=utf-8 10.0333ms
2025-07-29 01:06:41.269 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - null null
2025-07-29 01:06:41.269 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - null null
2025-07-29 01:06:41.269 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - null null
2025-07-29 01:06:41.269 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - null null
2025-07-29 01:06:41.269 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - null null
2025-07-29 01:06:41.269 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - null null
2025-07-29 01:06:41.270 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.271 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.273 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.274 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.274 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.275 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.276 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/70 - 204 null null 6.9778ms
2025-07-29 01:06:41.276 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/66 - 204 null null 7.3055ms
2025-07-29 01:06:41.277 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/72 - 204 null null 7.5135ms
2025-07-29 01:06:41.277 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/69 - 204 null null 7.8346ms
2025-07-29 01:06:41.277 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/73 - 204 null null 8.0816ms
2025-07-29 01:06:41.278 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/65 - 204 null null 8.4474ms
2025-07-29 01:06:41.279 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - null null
2025-07-29 01:06:41.280 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - null null
2025-07-29 01:06:41.281 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - null null
2025-07-29 01:06:41.283 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - null null
2025-07-29 01:06:41.284 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - null null
2025-07-29 01:06:41.285 +08:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - null null
2025-07-29 01:06:41.286 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.287 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.288 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.289 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.290 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.291 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.291 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/71 - 204 null null 12.327ms
2025-07-29 01:06:41.292 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/68 - 204 null null 11.5146ms
2025-07-29 01:06:41.292 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/64 - 204 null null 10.6871ms
2025-07-29 01:06:41.293 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/67 - 204 null null 9.959ms
2025-07-29 01:06:41.293 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/63 - 204 null null 9.1738ms
2025-07-29 01:06:41.293 +08:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5295/api/courses/62 - 204 null null 8.4233ms
2025-07-29 01:06:41.295 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/70 - application/json null
2025-07-29 01:06:41.296 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/66 - application/json null
2025-07-29 01:06:41.297 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/72 - application/json null
2025-07-29 01:06:41.298 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/69 - application/json null
2025-07-29 01:06:41.299 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/73 - application/json null
2025-07-29 01:06:41.300 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/65 - application/json null
2025-07-29 01:06:41.301 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.302 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.303 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.304 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.305 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.306 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:41.307 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:41.307 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:41.307 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:41.308 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:41.308 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:41.309 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:41.309 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:41.310 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:41.311 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:41.312 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:41.313 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:41.314 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:41.314 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:41.314 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:41.315 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:41.315 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:41.316 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:41.316 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:41.318 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:41.319 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:41.319 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:41.320 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:41.321 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:41.322 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:41.322 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:41.324 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:41.325 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:41.327 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:41.328 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.062 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 745.0567ms
2025-07-29 01:06:42.062 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 744.3038ms
2025-07-29 01:06:42.062 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 742.8485ms
2025-07-29 01:06:42.062 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.062 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 742.2085ms
2025-07-29 01:06:42.062 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 743.8856ms
2025-07-29 01:06:42.062 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.063 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.064 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.064 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 743.8477ms
2025-07-29 01:06:42.065 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.065 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.066 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/70 - 200 null application/json; charset=utf-8 771.2038ms
2025-07-29 01:06:42.066 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/66 - 200 null application/json; charset=utf-8 770.6325ms
2025-07-29 01:06:42.067 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/69 - 200 null application/json; charset=utf-8 768.8431ms
2025-07-29 01:06:42.067 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.068 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/73 - 200 null application/json; charset=utf-8 768.7381ms
2025-07-29 01:06:42.069 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/72 - 200 null application/json; charset=utf-8 771.5812ms
2025-07-29 01:06:42.070 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/71 - application/json null
2025-07-29 01:06:42.071 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/68 - application/json null
2025-07-29 01:06:42.072 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/64 - application/json null
2025-07-29 01:06:42.073 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/65 - 200 null application/json; charset=utf-8 772.622ms
2025-07-29 01:06:42.074 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/67 - application/json null
2025-07-29 01:06:42.076 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/63 - application/json null
2025-07-29 01:06:42.077 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:42.077 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:42.078 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:42.080 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5295/api/courses/62 - application/json null
2025-07-29 01:06:42.080 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:42.081 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:42.083 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:42.083 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:42.083 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:42.083 +08:00 [INF] CORS policy execution successful.
2025-07-29 01:06:42.084 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:42.084 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:42.085 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.086 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.087 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.087 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "RefreshTokens" AS r
    WHERE r."UserId" = @__userId_0 AND r."RevokedAt" IS NULL AND now() < r."ExpiresAt")
2025-07-29 01:06:42.088 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.089 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.089 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:42.090 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:42.090 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:42.091 +08:00 [INF] Executing endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.092 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:42.092 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:42.094 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:42.095 +08:00 [INF] Route matched with {action = "GetCourse", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourse(Int32) on controller CeceLearningPortal.Api.Controllers.CoursesController (CeceLearningPortal.Api).
2025-07-29 01:06:42.095 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:42.096 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:42.097 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:42.097 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:42.098 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.100 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Category", s."CreatedAt", s."Description", s."Discount", s."Duration", s."EnrollmentType", s."Features", s."InstructorId", s."IsBestseller", s."Level", s."OriginalPrice", s."PreviewUrl", s."Price", s."Status", s."Thumbnail", s."Title", s."UpdatedAt", s."Id0", s."AccessFailedCount", s."Avatar", s."ConcurrencyStamp", s."CreatedAt0", s."Email", s."EmailConfirmed", s."FullName", s."LastLoginAt", s."LockoutEnabled", s."LockoutEnd", s."NormalizedEmail", s."NormalizedUserName", s."NotificationPreferences", s."PasswordHash", s."PhoneNumber", s."PhoneNumberConfirmed", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", s."SecurityStamp", s."Status0", s."TwoFactorEnabled", s."UserName", s0."Id", s0."CourseId", s0."CreatedAt", s0."Description", s0."Order", s0."Title", s0."UpdatedAt", s0."Id0", s0."Content", s0."CreatedAt0", s0."Duration", s0."ModuleId", s0."Order0", s0."Title0", s0."Type", s0."UpdatedAt0", s0."VideoUrl", r."Id", r."ApprovedAt", r."ApprovedBy", r."Comment", r."CourseId", r."CreatedAt", r."IsFlagged", r."Rating", r."Status", r."StudentId", e."Id", e."AverageQuizScore", e."CertificateIssued", e."CertificateUrl", e."CompletedAt", e."CompletedLessons", e."CourseId", e."EnrolledAt", e."LastAccessedDate", e."ProgressPercentage", e."QuizCount", e."StudentId", e."TotalTimeSpent"
FROM (
    SELECT c."Id", c."Category", c."CreatedAt", c."Description", c."Discount", c."Duration", c."EnrollmentType", c."Features", c."InstructorId", c."IsBestseller", c."Level", c."OriginalPrice", c."PreviewUrl", c."Price", c."Status", c."Thumbnail", c."Title", c."UpdatedAt", a."Id" AS "Id0", a."AccessFailedCount", a."Avatar", a."ConcurrencyStamp", a."CreatedAt" AS "CreatedAt0", a."Email", a."EmailConfirmed", a."FullName", a."LastLoginAt", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."NotificationPreferences", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."Status" AS "Status0", a."TwoFactorEnabled", a."UserName"
    FROM "Courses" AS c
    INNER JOIN "AspNetUsers" AS a ON c."InstructorId" = a."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT c0."Id", c0."CourseId", c0."CreatedAt", c0."Description", c0."Order", c0."Title", c0."UpdatedAt", l."Id" AS "Id0", l."Content", l."CreatedAt" AS "CreatedAt0", l."Duration", l."ModuleId", l."Order" AS "Order0", l."Title" AS "Title0", l."Type", l."UpdatedAt" AS "UpdatedAt0", l."VideoUrl"
    FROM "CourseModules" AS c0
    LEFT JOIN "Lessons" AS l ON c0."Id" = l."ModuleId"
) AS s0 ON s."Id" = s0."CourseId"
LEFT JOIN "Reviews" AS r ON s."Id" = r."CourseId"
LEFT JOIN "Enrollments" AS e ON s."Id" = e."CourseId"
ORDER BY s."Id", s."Id0", s0."Id", s0."Id0", r."Id"
2025-07-29 01:06:42.100 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.101 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.103 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.104 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.105 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.0702ms
2025-07-29 01:06:42.107 +08:00 [INF] Executing OkObjectResult, writing value of type 'CeceLearningPortal.Api.DTOs.CourseDto'.
2025-07-29 01:06:42.107 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6864ms
2025-07-29 01:06:42.108 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.6231ms
2025-07-29 01:06:42.109 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 13.0512ms
2025-07-29 01:06:42.109 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 12.8758ms
2025-07-29 01:06:42.110 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.110 +08:00 [INF] Executed action CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api) in 11.8401ms
2025-07-29 01:06:42.111 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.111 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.112 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.112 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.113 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/68 - 200 null application/json; charset=utf-8 41.7742ms
2025-07-29 01:06:42.113 +08:00 [INF] Executed endpoint 'CeceLearningPortal.Api.Controllers.CoursesController.GetCourse (CeceLearningPortal.Api)'
2025-07-29 01:06:42.114 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/71 - 200 null application/json; charset=utf-8 43.937ms
2025-07-29 01:06:42.114 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/64 - 200 null application/json; charset=utf-8 41.7553ms
2025-07-29 01:06:42.115 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/67 - 200 null application/json; charset=utf-8 40.5669ms
2025-07-29 01:06:42.115 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/63 - 200 null application/json; charset=utf-8 39.7475ms
2025-07-29 01:06:42.117 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:5295/api/courses/62 - 200 null application/json; charset=utf-8 37.3488ms
